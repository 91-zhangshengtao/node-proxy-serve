{"version":3,"sources":["webpack:///./node_modules/zrender/lib/core/timsort.js","webpack:///./node_modules/zrender/lib/contain/polygon.js","webpack:///./node_modules/zrender/lib/animation/Animator.js","webpack:///./node_modules/zrender/lib/core/GestureMgr.js","webpack:///./node_modules/zrender/lib/mixin/Transformable.js","webpack:///./node_modules/zrender/lib/graphic/Image.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/zrender/lib/core/matrix.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/zrender/lib/graphic/Displayable.js","webpack:///./node_modules/zrender/lib/mixin/Eventful.js","webpack:///./node_modules/zrender/lib/core/PathProxy.js","webpack:///./node_modules/zrender/lib/core/env.js","webpack:///./node_modules/zrender/lib/graphic/Style.js","webpack:///./node_modules/zrender/lib/config.js","webpack:///./node_modules/zrender/lib/tool/parseSVG.js","webpack:///./node_modules/zrender/lib/animation/Animation.js","webpack:///./node_modules/zrender/lib/tool/path.js","webpack:///./node_modules/zrender/lib/graphic/IncrementalDisplayable.js","webpack:///./node_modules/zrender/lib/core/vector.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/zrender/lib/tool/color.js","webpack:///./node_modules/zrender/lib/graphic/Gradient.js","webpack:///./node_modules/zrender/lib/animation/Clip.js","webpack:///./node_modules/zrender/lib/graphic/shape/Ring.js","webpack:///./node_modules/zrender/lib/graphic/LinearGradient.js","webpack:///./node_modules/zrender/lib/core/log.js","webpack:///./node_modules/zrender/lib/core/curve.js","webpack:///./node_modules/zrender/lib/graphic/shape/Sector.js","webpack:///./node_modules/zrender/lib/graphic/helper/poly.js","webpack:///./node_modules/zrender/lib/graphic/helper/roundRect.js","webpack:///./node_modules/zrender/lib/Layer.js","webpack:///./node_modules/zrender/lib/graphic/helper/image.js","webpack:///./node_modules/zrender/lib/core/event.js","webpack:///./node_modules/zrender/lib/graphic/helper/smoothSpline.js","webpack:///./node_modules/zrender/lib/core/dom.js","webpack:///./node_modules/zrender/lib/contain/quadratic.js","webpack:///./node_modules/zrender/lib/zrender.js","webpack:///./node_modules/zrender/lib/core/util.js","webpack:///./node_modules/zrender/lib/animation/easing.js","webpack:///./src/components/echart/MapChart.vue?ea59","webpack:///./node_modules/zrender/lib/graphic/Text.js","webpack:///./node_modules/zrender/lib/graphic/helper/fixShadow.js","webpack:///./node_modules/zrender/lib/graphic/constant.js","webpack:///./node_modules/zrender/lib/core/fourPointsTransform.js","webpack:///./node_modules/zrender/lib/contain/util.js","webpack:///./node_modules/zrender/lib/contain/windingLine.js","webpack:///./node_modules/zrender/lib/graphic/shape/Polygon.js","webpack:///./node_modules/zrender/lib/graphic/helper/fixClipWithShadow.js","webpack:///./src/index1/views/echartDemo/Echart.vue?a4f1","webpack:///./src/components/echart/MapChart.vue?6893","webpack:///./src/components/echart/mock_map_data.js","webpack:///src/components/echart/MapChart.vue","webpack:///./src/components/echart/MapChart.vue?0ade","webpack:///./src/components/echart/MapChart.vue","webpack:///src/index1/views/echartDemo/Echart.vue","webpack:///./src/index1/views/echartDemo/Echart.vue?13fe","webpack:///./src/index1/views/echartDemo/Echart.vue","webpack:///./node_modules/zrender/lib/graphic/shape/Arc.js","webpack:///./node_modules/zrender/lib/contain/line.js","webpack:///./node_modules/zrender/lib/core/BoundingRect.js","webpack:///./node_modules/zrender/lib/animation/requestAnimationFrame.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/zrender/lib/graphic/helper/smoothBezier.js","webpack:///./node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","webpack:///./node_modules/zrender/lib/graphic/mixin/RectText.js","webpack:///./node_modules/zrender/lib/contain/arc.js","webpack:///./node_modules/zrender/lib/graphic/helper/text.js","webpack:///./node_modules/zrender/lib/graphic/shape/BezierCurve.js","webpack:///./node_modules/zrender/lib/graphic/shape/Ellipse.js","webpack:///./node_modules/zrender/lib/Storage.js","webpack:///./node_modules/zrender/lib/mixin/Animatable.js","webpack:///./node_modules/zrender/lib/graphic/shape/Rect.js","webpack:///./node_modules/zrender/lib/graphic/shape/Line.js","webpack:///./node_modules/zrender/lib/mixin/Draggable.js","webpack:///./node_modules/zrender/lib/graphic/Path.js","webpack:///./node_modules/zrender/lib/dom/HandlerProxy.js","webpack:///./node_modules/zrender/lib/Handler.js","webpack:///./node_modules/zrender/lib/graphic/shape/Polyline.js","webpack:///./node_modules/zrender/lib/graphic/CompoundPath.js","webpack:///./node_modules/zrender/lib/core/LRU.js","webpack:///./node_modules/zrender/lib/Element.js","webpack:///./node_modules/zrender/lib/contain/path.js","webpack:///./node_modules/zrender/lib/graphic/shape/Circle.js","webpack:///./node_modules/zrender/lib/graphic/Pattern.js","webpack:///./node_modules/zrender/lib/graphic/RadialGradient.js","webpack:///./node_modules/zrender/lib/core/guid.js","webpack:///./node_modules/zrender/lib/container/Group.js","webpack:///./node_modules/zrender/lib/core/bbox.js","webpack:///./node_modules/zrender/lib/contain/cubic.js","webpack:///./node_modules/zrender/lib/contain/text.js","webpack:///./src/components/echart/mixins/resize.js","webpack:///./src/utils/index.js","webpack:///./node_modules/zrender/lib/Painter.js","webpack:///./node_modules/zrender/lib/tool/transformPath.js"],"names":["DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","n","r","makeAscendingRun","array","lo","hi","compare","runHi","reverseRun","t","binaryInsertionSort","start","mid","pivot","left","right","gallopLeft","value","length","hint","lastOffset","maxOffset","offset","tmp","m","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","i","start1","length1","start2","length2","k","mergeLow","mergeHigh","cursor1","cursor2","dest","count1","count2","exit","_minGallop","Error","customCursor","customDest","this","sort","remaining","ts","minRun","force","module","exports","windingLine","EPSILON","isAroundEqual","a","b","Math","abs","contain","points","x","y","w","p","p2","p0","Clip","color","_util","isArrayLike","arraySlice","Array","prototype","slice","defaultGetter","target","key","defaultSetter","interpolateNumber","p1","percent","interpolateString","interpolateArray","out","arrDim","len","len2","j","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","push","call","isNaN","isArraySame","catmullRomInterpolateArray","p3","t2","t3","catmullRomInterpolate","v0","v1","cloneValue","ret","rgba2String","rgba","floor","join","getArrayDim","keyframes","lastValue","createTrackClip","animator","easing","oneTrackDone","propName","forceAnimate","getter","_getter","setter","_setter","useSpline","trackLen","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","parse","_target","lastFrame","lastFramePercent","onframe","frame","min","range","clip","life","loop","_loop","delay","_delay","ondestroy","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","props","tracks","hasOwnProperty","during","callback","pause","_paused","resume","isPaused","_doneCallback","doneList","lastClip","self","clipCount","animation","addClip","oldOnFrame","stop","forwardToLast","clipList","removeClip","done","cb","getClips","_default","eventUtil","GestureMgr","_track","dist","pointPair","dx","dy","sqrt","center","constructor","recognize","event","root","_doTrack","_recognize","clear","touches","trackItem","touch","pos","clientToLocal","zrX","zrY","eventName","recognizers","gestureInfo","pinch","track","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","type","matrix","vector","mIdentity","identity","isNotAroundZero","val","Transformable","opts","position","rotation","scale","origin","transformableProto","transform","needLocalTransform","scaleTmp","updateTransform","parent","parentHasTransform","create","getLocalTransform","mul","copy","globalScaleRatio","getGlobalScale","relX","relY","sx","sy","invTransform","invert","setTransform","ctx","dpr","restoreTransform","tmpTransform","originTransform","setLocalTransform","atan2","decomposeTransform","transformCoordToLocal","v2","applyTransform","transformCoordToGlobal","rotate","Displayable","BoundingRect","zrUtil","imageHelper","ZImage","brush","prevEl","style","src","image","bind","_image","createOrUpdateImage","onload","isImageReady","width","height","aspect","sWidth","sHeight","drawImage","text","drawRectText","getBoundingRect","_rect","inherits","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","error","ArrayCtor","Float32Array","m1","m2","out0","out1","out2","out3","out4","out5","translate","v","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","det","clone","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","arguments","undefined","Style","Element","RectText","name","__clipPaths","__dirty","invisible","z","z2","zlevel","draggable","dragging","silent","culling","cursor","rectHover","progressive","incremental","beforeBrush","afterBrush","rectContain","traverse","context","coord","rect","dirty","__dirtyText","__zr","refresh","animateStyle","animate","attrKV","set","setStyle","useStyle","obj","calculateTextPosition","mixin","arrySlice","Eventful","eventProcessor","_$handlers","_$eventProcessor","normalizeQuery","host","query","on","eventful","handler","isOnce","_h","h","wrap","one","callAtLast","zrEventfulCallAtLast","lastIndex","lastWrap","splice","isSilent","off","newList","l","trigger","args","argLen","hItem","filter","apply","afterTrigger","triggerWithContext","curve","vec2","bbox","_config","devicePixelRatio","CMD","M","L","C","Q","A","Z","R","max","min2","max2","mathMin","mathMax","mathCos","mathSin","mathSqrt","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","data","_ctx","_xi","_yi","_x0","_y0","_ux","_uy","_len","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","segmentIgnoreThreshold","getContext","beginPath","moveTo","addData","lineTo","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","x1","y1","x2","y2","x3","y3","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","arc","cx","cy","startAngle","endAngle","anticlockwise","arcTo","radius","closePath","x0","y0","fill","toStatic","stroke","setLineDash","lineDash","lineDashSum","setLineDashOffset","setData","appendPath","path","appendSize","appendPathData","cmd","_expandData","_prevCmd","newData","dash","idx","dashSum","nDash","cubicAt","bezierLen","tmpLen","Number","MAX_VALUE","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","fromArc","rebuildPath","d","ux","uy","theta","dTheta","psi","fs","scaleX","scaleY","isEllipse","env","wx","getSystemInfoSync","browser","os","node","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","document","worker","navigator","detect","userAgent","ua","firefox","match","ie","edge","weChat","test","version","createElement","SVGRect","window","pointerEventsSupported","fixShadow","_constant","ContextCachedBy","STYLE_COMMON_PROPS","extendFrom","createLinearGradient","canvasGradient","createRadialGradient","opacity","fillOpacity","strokeOpacity","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","lineWidth","strokeNoScale","font","textFont","fontStyle","fontWeight","fontSize","fontFamily","textTag","textFill","textStroke","textWidth","textHeight","textStrokeWidth","textLineHeight","textPosition","textRect","textOffset","textAlign","textVerticalAlign","textDistance","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBackgroundColor","textBorderColor","textBorderWidth","textBorderRadius","textPadding","rich","truncate","blend","el","prevStyle","notCheckCache","__attrCachedBy","STYLE_BIND","prop","styleName","fillStyle","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","overwrite","newStyle","getGradient","method","colorStops","addColorStop","styleProto","debugMode","Group","Text","Circle","Rect","Ellipse","Line","Path","Polygon","Polyline","LinearGradient","_path","createFromString","isString","extend","defaults","trim","each","DILIMITER_REG","parseXML","svg","parser","DOMParser","parseFromString","nodeType","firstChild","nodeName","toLowerCase","nextSibling","SVGParser","_defs","_root","_isDefine","_isText","xml","opt","viewBox","getAttribute","parseFloat","parseAttributes","viewBoxRect","viewBoxTransform","child","_parseNode","viewBoxArr","split","makeViewBoxTransform","ignoreViewBox","elRoot","add","ignoreRootClip","setClipPath","shape","xmlNode","parentGroup","defineParsers","def","id","nodeParsers","_parseText","_textX","_textY","textContent","inheritStyle","g","setShape","circle","line","ellipse","parsePoints","polygon","polyline","img","parseInt","gradient","_parseGradientColorStops","indexOf","stopColor","__inheritedStyle","pointsString","list","attributesMap","defs","onlyInlineStyle","zrStyle","isTextEl","parseTransformAttribute","parseStyleAttribute","svgAttrName","attrValue","elFillProp","elStrokeProp","elStyle","getPaint","elPropName","textBaseline","urlRegex","str","urlMatch","url","transformRegex","replace","transformOps","console","warn","styleRegex","result","styleRegResult","styleList","exec","viewBoxScale","viewBoxPosition","parseSVG","util","_event","Dispatcher","requestAnimationFrame","Animation","options","stage","_clips","_running","_time","_pausedTime","_pauseStart","addAnimator","clips","removeAnimator","_update","Date","getTime","delta","deferredEvents","deferredClips","e","step","_needsRemove","pop","fire","update","_startLoop","isFinished","transformPath","PI","vMag","vRatio","u","vAngle","acos","processArc","fa","psiDeg","xp","yp","lambda","f","cxp","cyp","commandReg","numberReg","createPathProxyFromString","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","charAt","pLen","ctlPtx","ctlPty","pathData","createPathOptions","pathProxy","buildPath","extendFromString","mergePath","pathEls","pathList","pathEl","createPathProxy","__dirtyPath","pathBundle","Displayble","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","notClear","clearDisplaybles","addDisplayable","displayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","Infinity","childRect","union","localPos","scaleAndAdd","sub","lenSquare","lengthSquare","div","dot","s","normalize","distance","distanceSquare","distSquare","negate","lerp","$","proto","forced","LRU","kCSSColorTable","clampCssByte","round","clampCssAngle","clampCssFloat","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","put","cached","get","op","ep","fname","substr","params","alpha","hsla2rgba","iv","hsla","rgba2hsla","H","S","G","B","vMin","vMax","deltaR","deltaG","deltaB","lift","level","colorArr","stringify","toHex","toString","fastLerp","normalizedValue","colors","leftIndex","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","Gradient","easingFuncs","_life","_initialized","gap","onrestart","globalTime","deltaTime","_startTime","easingFunc","schedule","restart","remainder","eventType","arg","r0","PI2","globalCoord","logError","_vector","v2Create","v2DistSquare","mathPow","pow","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","onet","cubicDerivativeAt","cubicRootAt","roots","c","t1","disc","K","discSqrt","Y1","Y2","T","ASqrt","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","prev","next","d1","d2","interval","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","fixClipWithShadow","clockwise","unitX","unitY","smoothSpline","smoothBezier","smooth","controlPoints","smoothConstraint","cp1","cp2","r1","r2","r3","r4","total","Pattern","returnFalse","createDom","painter","newDom","createCanvas","getWidth","getHeight","newDomStyle","top","setAttribute","Layer","dom","isObject","domStyle","onselectstart","domBack","ctxBack","config","clearColor","motionBlur","lastFrameAlpha","__used","__drawIndex","__startIndex","__endIndex","getElementCount","initContext","createBackBuffer","resize","clearAll","clearColorGradientOrPattern","haveMotionBLur","clearRect","__canvasGradient","getCanvasPattern","save","fillRect","restore","globalImageCache","findExistImage","newImageOrSrc","cachedImgObj","hostEl","cbPayload","__zrImageSrc","pendingWrap","pending","Image","onerror","imageOnLoad","__cachedImgObj","_dom","isCanvasEl","transformCoordWithViewport","isDomLevel2","addEventListener","MOUSE_EVENT_REG","_calcOut","calculate","calculateZrXY","layerX","offsetX","layerY","offsetY","getBoundingClientRect","ex","clientX","ey","clientY","box","getNativeEvent","normalizeEvent","isTouch","targetTouches","changedTouches","zrDelta","wheelDelta","detail","button","which","attachEvent","removeEventListener","detachEvent","preventDefault","stopPropagation","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","v2Distance","interpolate","isLoop","segs","w2","w3","_fourPointsTransform","buildTransformer","EVENT_SAVED_PROP","transformLocalCoord","elFrom","elTarget","inX","inY","inverse","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","marker","stl","idxLR","idxTB","cssText","appendChild","transformerName","oldSrcCoords","srcCoords","oldCoordTheSame","destCoords","ii","offsetLeft","offsetTop","toUpperCase","_curve","containStroke","_l","guid","Handler","Storage","Painter","HandlerProxy","useVML","painterCtors","canvas","instances","init","zr","ZRender","dispose","getInstance","registerPainter","Ctor","delInstance","storage","rendererType","renderer","vml","handerProxy","getViewportRoot","flush","_needsRefresh","oldDelFromStorage","delFromStorage","oldAddToStorage","addToStorage","removeSelfFromZr","addSelfToZr","getId","addRoot","remove","delRoot","configLayer","zLevel","setBackgroundColor","backgroundColor","refreshImmediately","_needsRefreshHover","triggerRendered","refreshHoverImmediately","addHover","elMirror","refreshHover","removeHover","clearHover","clearAnimation","pathToImage","setCursorStyle","cursorStyle","findHover","eventHandler","BUILTIN_OBJECT","TYPED_ARRAY","objToString","Object","arrayProto","nativeForEach","nativeFilter","nativeSlice","nativeMap","map","nativeReduce","reduce","methods","$override","fn","source","typeStr","isPrimitive","from","isDom","merge","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","overlay","clazz","baseClazz","clazzPrototype","F","superClass","memo","find","func","concat","curry","isFunction","isTypedArray","ownerDocument","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","assert","condition","message","primitiveKey","setAsPrimitive","HashMap","isArr","thisMap","visit","createHashMap","concatArray","newArray","noop","removeKey","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","textContain","textHelper","normalizeTextStyle","shadowColor","needDrawText","renderText","NONE","getStroke","SHADOW_PROPS","PLAIN_TEXT","WILL_BE_RESTORED","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","sum","colLocalIdx","colTag","mA","vh","srcPointX","srcPointY","pk","normalizeRadian","angle","dir","x_","polyHelper","shadowTemp","orignalBrush","modified","clipPaths","clipPath","render","_vm","$createElement","_c","_self","staticClass","_v","attrs","$event","getFetch","staticStyle","chartData","_e","staticRenderFns","ref","getMockdata","getMockToolData","mixins","components","beforeDestroy","watch","getmapGeoData","mounted","component","beforeDestory","_a","_b","_s","v2ApplyTransform","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout","fails","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","E","TypeError","v2Min","v2Max","v2Scale","v2Add","v2Clone","v2Sub","constraint","prevPoint","nextPoint","cps","point","d0","cp0","shift","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimize","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","tmpRect","roundRectHelper","DEFAULT_FONT","VALID_TEXT_ALIGN","VALID_TEXT_VERTICAL_ALIGN","bottom","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeStyle","makeFont","renderRichText","renderPlainText","needDrawBg","needDrawBackground","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","contentBlock","__textCotentBlock","parsePlainText","outerHeight","textLines","lines","lineHeight","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","adjustTextY","textX","textY","outerWidth","boxX","adjustTextX","drawBackground","getTextXForPadding","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","getFill","strokeText","fillText","parseRichText","drawRichText","contentWidth","xLeft","lineTop","xRight","token","tokens","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","tokenStyle","isLineHolder","setCtx","isPlainBg","originalGlobalAlpha","onBgImageLoaded","parsePercent","res","maxValue","lastIndexOf","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","pointAt","tangentAt","ox","oy","timsort","shapeCompareFunc","_roots","_displayList","_displayListLen","getDisplayList","includeIgnore","updateDisplayList","displayList","_updateAndAddDisplayable","ignore","beforeUpdate","afterUpdate","userSetClipPath","currentClipPath","parentClipPath","isGroup","children","_children","__storage","addChildrenToStorage","delChildrenFromStorage","_renderList","displayableSortFunc","Animatable","animators","animateTo","animatable","reverse","stopAnimation","animateToShallow","count","objShallow","propertyCount","setAttrByPath","attr","animatingShape","pathSplitted","animateFrom","_subPixelOptimize","subPixelOptimizeOutputShape","Draggable","_dragStart","_drag","_dragEnd","param","topTarget","draggingTarget","_draggingTarget","_x","_y","dispatchToElement","drift","dropTarget","lastDropTarget","_dropTarget","pathContain","pathProxyForDraw","strokeContainThreshold","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","inBundle","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","dirtyPath","__clipTarget","animateShape","Sub","defaultShape","thisShape","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","eventNameFix","isPointerFromTouch","pointerType","setTouchTimer","scope","touching","touchTimer","clearTimeout","markTouch","zrByTouch","normalizeGlobalEvent","instance","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","painterRoot","parentNode","currentTarget","fakeGlobalEventProto","stopImmediatePropagation","localDOMHandlers","mousedown","_mayPointerCapture","mousemove","downPoint","togglePointerCapture","mouseup","mouseout","_pointerCapturing","zrEventControl","element","toElement","relatedTarget","zrIsToLocalDOM","touchstart","_lastTouchMoment","processGesture","touchmove","touchend","click","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","capture","listener","listenerOpts","domTarget","unmountDOMEventListeners","isPointerCapturing","globalHandlerScope","_globalHandlerScope","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","handlerDomProxyProto","setCursor","eventTool","SILENT","makeEventPacket","eveType","targetInfo","gestureEvent","stopEvent","EmptyProxy","handlerNames","proxy","_hovered","_lastX","_lastY","_gestureMgr","setHandlerProxy","isHover","isOutsideBoundary","handlerInstance","isOutside","lastHovered","lastHoveredTarget","hovered","hoveredTarget","eventControl","dispatch","eventArgs","eventPacket","eachOtherLayer","layer","exclude","hoverCheckResult","gestureMgr","_downEl","_downPoint","_upEl","paths","_updatePathDirty","LinkedList","head","tail","linkedListProto","insert","entry","Entry","insertEntry","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","removed","leastUsedEntry","hide","show","removeClipPath","cubic","quadratic","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","diff","containPath","isStroke","repeat","createPattern","RadialGradient","idStart","childAt","childOfName","childCount","_doAdd","addBefore","removeAll","eachChild","includeChildren","tmpMat","end","extremity","fromPoints","xDim","yDim","tx","ty","vec2Min","vec2Max","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","measureText","getRichTextRect","getPlainTextRect","halfHeight","adjustTextPositionOnRect","dummyStyle","truncateText","containerWidth","ellipsis","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","ellipsisWidth","textLine","subLength","estimateLength","charCode","charCodeAt","getLineHeight","padding","canCacheByTextString","truncOuterHeight","truncOuterWidth","matchedIndex","index","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","tokenHeight","tokenWidth","tokenWidthNotSpecified","percentWidth","bgImg","paddingW","remianTruncWidth","block","isEmptyStr","strs","tokensLen","sidebarElm","__resizeHandler","debounce","chart","getElementsByClassName","sidebarResizeHandler","propertyName","throttle","wait","now","previous","immediate","timeout","timestamp","later","last","callNow","HOVER_LAYER_ZLEVEL","CANVAS_ZLEVEL","EL_AFTER_INCREMENTAL_INC","INCREMENTAL_INC","parseInt10","isLayerValid","__builtin__","viewRect","isDisplayableCulled","isClipPathChanged","prevClipPaths","doClip","createRoot","domRoot","singleCanvas","_opts","_singleCanvas","rootStyle","innerHTML","zlevelList","_zlevelList","layers","_layers","_layerConfig","_needsManuallyCompositing","_width","_height","mainLayer","_domRoot","_getSize","_hoverlayer","_hoverElements","getType","isSingleCanvas","getViewportRootOffset","viewportRoot","paintAll","_redrawId","random","_paintList","_backgroundColor","hoverStyle","__hoverMir","__from","hoverElements","hoverLayer","getLayer","originalEl","_doPaintEl","getHoverLayer","redrawId","_updateLayerStatus","finished","_doPaintList","_compositeManually","eachBuiltinLayer","virtual","layerList","zi","useTimer","startTime","firstEl","dTime","prevElClipPaths","draw","currentLayer","forcePaint","insertLayer","layersMap","prevLayer","prevDom","insertBefore","eachLayer","getLayers","updatePrevLayer","prevZlevel","incrementalLayerCount","_clearLayer","layerConfig","_zlevel","delLayer","removeChild","display","_progressiveLayers","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","renderToCanvas","whIdx","wh","cwh","plt","prb","defaultView","getComputedStyle","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","ImageShape","imgShape","mathAtan2","nPoint"],"mappings":"+FACA,IAAIA,EAAoB,GACpBC,EAAwB,EAG5B,SAASC,EAAaC,GACpB,IAAIC,EAAI,EAER,MAAOD,GAAKH,EACVI,GAAS,EAAJD,EACLA,IAAM,EAGR,OAAOA,EAAIC,EAGb,SAASC,EAAiBC,EAAOC,EAAIC,EAAIC,GACvC,IAAIC,EAAQH,EAAK,EAEjB,GAAIG,IAAUF,EACZ,OAAO,EAGT,GAAIC,EAAQH,EAAMI,KAAUJ,EAAMC,IAAO,EAAG,CAC1C,MAAOG,EAAQF,GAAMC,EAAQH,EAAMI,GAAQJ,EAAMI,EAAQ,IAAM,EAC7DA,IAGFC,EAAWL,EAAOC,EAAIG,QAEtB,MAAOA,EAAQF,GAAMC,EAAQH,EAAMI,GAAQJ,EAAMI,EAAQ,KAAO,EAC9DA,IAIJ,OAAOA,EAAQH,EAGjB,SAASI,EAAWL,EAAOC,EAAIC,GAC7BA,IAEA,MAAOD,EAAKC,EAAI,CACd,IAAII,EAAIN,EAAMC,GACdD,EAAMC,KAAQD,EAAME,GACpBF,EAAME,KAAQI,GAIlB,SAASC,EAAoBP,EAAOC,EAAIC,EAAIM,EAAOL,GAKjD,IAJIK,IAAUP,GACZO,IAGKA,EAAQN,EAAIM,IAAS,CAC1B,IAGIC,EAHAC,EAAQV,EAAMQ,GACdG,EAAOV,EACPW,EAAQJ,EAGZ,MAAOG,EAAOC,EACZH,EAAME,EAAOC,IAAU,EAEnBT,EAAQO,EAAOV,EAAMS,IAAQ,EAC/BG,EAAQH,EAERE,EAAOF,EAAM,EAIjB,IAAIZ,EAAIW,EAAQG,EAEhB,OAAQd,GACN,KAAK,EACHG,EAAMW,EAAO,GAAKX,EAAMW,EAAO,GAEjC,KAAK,EACHX,EAAMW,EAAO,GAAKX,EAAMW,EAAO,GAEjC,KAAK,EACHX,EAAMW,EAAO,GAAKX,EAAMW,GACxB,MAEF,QACE,MAAOd,EAAI,EACTG,EAAMW,EAAOd,GAAKG,EAAMW,EAAOd,EAAI,GACnCA,IAKNG,EAAMW,GAAQD,GAIlB,SAASG,EAAWC,EAAOd,EAAOQ,EAAOO,EAAQC,EAAMb,GACrD,IAAIc,EAAa,EACbC,EAAY,EACZC,EAAS,EAEb,GAAIhB,EAAQW,EAAOd,EAAMQ,EAAQQ,IAAS,EAAG,CAC3CE,EAAYH,EAASC,EAErB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,IAAW,EAC1EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGXD,GAAcD,EACdG,GAAUH,MACL,CACLE,EAAYF,EAAO,EAEnB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,KAAY,EAC3EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGX,IAAIE,EAAMH,EACVA,EAAaD,EAAOG,EACpBA,EAASH,EAAOI,EAGlBH,IAEA,MAAOA,EAAaE,EAAQ,CAC1B,IAAIE,EAAIJ,GAAcE,EAASF,IAAe,GAE1Cd,EAAQW,EAAOd,EAAMQ,EAAQa,IAAM,EACrCJ,EAAaI,EAAI,EAEjBF,EAASE,EAIb,OAAOF,EAGT,SAASG,EAAYR,EAAOd,EAAOQ,EAAOO,EAAQC,EAAMb,GACtD,IAAIc,EAAa,EACbC,EAAY,EACZC,EAAS,EAEb,GAAIhB,EAAQW,EAAOd,EAAMQ,EAAQQ,IAAS,EAAG,CAC3CE,EAAYF,EAAO,EAEnB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,IAAW,EAC1EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGX,IAAIE,EAAMH,EACVA,EAAaD,EAAOG,EACpBA,EAASH,EAAOI,MACX,CACLF,EAAYH,EAASC,EAErB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,KAAY,EAC3EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGXD,GAAcD,EACdG,GAAUH,EAGZC,IAEA,MAAOA,EAAaE,EAAQ,CAC1B,IAAIE,EAAIJ,GAAcE,EAASF,IAAe,GAE1Cd,EAAQW,EAAOd,EAAMQ,EAAQa,IAAM,EACrCF,EAASE,EAETJ,EAAaI,EAAI,EAIrB,OAAOF,EAGT,SAASI,EAAQvB,EAAOG,GACtB,IAIIqB,EACAC,EALAC,EAAY/B,EACZoB,EAAS,EAKTY,EAAY,EAChBZ,EAASf,EAAMe,OAMf,IAAIK,EAAM,GAKV,SAASQ,EAAQC,EAAWC,GAC1BN,EAASG,GAAaE,EACtBJ,EAAUE,GAAaG,EACvBH,GAAa,EAGf,SAASI,IACP,MAAOJ,EAAY,EAAG,CACpB,IAAI9B,EAAI8B,EAAY,EAEpB,GAAI9B,GAAK,GAAK4B,EAAU5B,EAAI,IAAM4B,EAAU5B,GAAK4B,EAAU5B,EAAI,IAAMA,GAAK,GAAK4B,EAAU5B,EAAI,IAAM4B,EAAU5B,GAAK4B,EAAU5B,EAAI,GAC1H4B,EAAU5B,EAAI,GAAK4B,EAAU5B,EAAI,IACnCA,SAEG,GAAI4B,EAAU5B,GAAK4B,EAAU5B,EAAI,GACtC,MAGFmC,EAAQnC,IAIZ,SAASoC,IACP,MAAON,EAAY,EAAG,CACpB,IAAI9B,EAAI8B,EAAY,EAEhB9B,EAAI,GAAK4B,EAAU5B,EAAI,GAAK4B,EAAU5B,EAAI,IAC5CA,IAGFmC,EAAQnC,IAIZ,SAASmC,EAAQE,GACf,IAAIC,EAASX,EAASU,GAClBE,EAAUX,EAAUS,GACpBG,EAASb,EAASU,EAAI,GACtBI,EAAUb,EAAUS,EAAI,GAC5BT,EAAUS,GAAKE,EAAUE,EAErBJ,IAAMP,EAAY,IACpBH,EAASU,EAAI,GAAKV,EAASU,EAAI,GAC/BT,EAAUS,EAAI,GAAKT,EAAUS,EAAI,IAGnCP,IACA,IAAIY,EAAIjB,EAAYtB,EAAMqC,GAASrC,EAAOmC,EAAQC,EAAS,EAAGjC,GAC9DgC,GAAUI,EACVH,GAAWG,EAEK,IAAZH,IAIJE,EAAUzB,EAAWb,EAAMmC,EAASC,EAAU,GAAIpC,EAAOqC,EAAQC,EAASA,EAAU,EAAGnC,GAEvE,IAAZmC,IAIAF,GAAWE,EACbE,EAASL,EAAQC,EAASC,EAAQC,GAElCG,EAAUN,EAAQC,EAASC,EAAQC,KAIvC,SAASE,EAASL,EAAQC,EAASC,EAAQC,GACzC,IAAIJ,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAIE,EAASF,IACvBd,EAAIc,GAAKlC,EAAMmC,EAASD,GAG1B,IAAIQ,EAAU,EACVC,EAAUN,EACVO,EAAOT,EAGX,GAFAnC,EAAM4C,KAAU5C,EAAM2C,KAEJ,MAAZL,EAQN,GAAgB,IAAZF,EAAJ,CASA,IACIS,EACAC,EACAC,EAHAC,EAAatB,EAKjB,MAAO,EAAG,CACRmB,EAAS,EACTC,EAAS,EACTC,GAAO,EAEP,GACE,GAAI5C,EAAQH,EAAM2C,GAAUvB,EAAIsB,IAAY,GAK1C,GAJA1C,EAAM4C,KAAU5C,EAAM2C,KACtBG,IACAD,EAAS,EAES,MAAZP,EAAe,CACnBS,GAAO,EACP,YAOF,GAJA/C,EAAM4C,KAAUxB,EAAIsB,KACpBG,IACAC,EAAS,EAES,MAAZV,EAAe,CACnBW,GAAO,EACP,cAGIF,EAASC,GAAUE,GAE7B,GAAID,EACF,MAGF,EAAG,CAGD,GAFAF,EAASvB,EAAYtB,EAAM2C,GAAUvB,EAAKsB,EAASN,EAAS,EAAGjC,GAEhD,IAAX0C,EAAc,CAChB,IAAKX,EAAI,EAAGA,EAAIW,EAAQX,IACtBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,GAOlC,GAJAU,GAAQC,EACRH,GAAWG,EACXT,GAAWS,EAEPT,GAAW,EAAG,CAChBW,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAU5C,EAAM2C,KAEJ,MAAZL,EAAe,CACnBS,GAAO,EACP,MAKF,GAFAD,EAASjC,EAAWO,EAAIsB,GAAU1C,EAAO2C,EAASL,EAAS,EAAGnC,GAE/C,IAAX2C,EAAc,CAChB,IAAKZ,EAAI,EAAGA,EAAIY,EAAQZ,IACtBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAOpC,GAJAU,GAAQE,EACRH,GAAWG,EACXR,GAAWQ,EAEK,IAAZR,EAAe,CACjBS,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAUxB,EAAIsB,KAEF,MAAZN,EAAe,CACnBW,GAAO,EACP,MAGFC,UACOH,GAAUlD,GAAyBmD,GAAUnD,GAEtD,GAAIoD,EACF,MAGEC,EAAa,IACfA,EAAa,GAGfA,GAAc,EAMhB,GAHAtB,EAAYsB,EACZtB,EAAY,IAAMA,EAAY,GAEd,IAAZU,EAAe,CACjB,IAAKF,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAGpClC,EAAM4C,EAAON,GAAWlB,EAAIsB,OACvB,IAAgB,IAAZN,EACT,MAAM,IAAIa,MAEV,IAAKf,EAAI,EAAGA,EAAIE,EAASF,IACvBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,QAzHpC,CACE,IAAKA,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAGpClC,EAAM4C,EAAON,GAAWlB,EAAIsB,QAZ5B,IAAKR,EAAI,EAAGA,EAAIE,EAASF,IACvBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,GAoItC,SAASO,EAAUN,EAAQC,EAASC,EAAQC,GAC1C,IAAIJ,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAII,EAASJ,IACvBd,EAAIc,GAAKlC,EAAMqC,EAASH,GAG1B,IAAIQ,EAAUP,EAASC,EAAU,EAC7BO,EAAUL,EAAU,EACpBM,EAAOP,EAASC,EAAU,EAC1BY,EAAe,EACfC,EAAa,EAGjB,GAFAnD,EAAM4C,KAAU5C,EAAM0C,KAEJ,MAAZN,EAUN,GAAgB,IAAZE,EAAJ,CAcA,IAAIU,EAAatB,EAEjB,MAAO,EAAM,CACX,IAAImB,EAAS,EACTC,EAAS,EACTC,GAAO,EAEX,GACE,GAAI5C,EAAQiB,EAAIuB,GAAU3C,EAAM0C,IAAY,GAK1C,GAJA1C,EAAM4C,KAAU5C,EAAM0C,KACtBG,IACAC,EAAS,EAES,MAAZV,EAAe,CACnBW,GAAO,EACP,YAOF,GAJA/C,EAAM4C,KAAUxB,EAAIuB,KACpBG,IACAD,EAAS,EAES,MAAZP,EAAe,CACnBS,GAAO,EACP,cAGIF,EAASC,GAAUE,GAE7B,GAAID,EACF,MAGF,EAAG,CAGD,GAFAF,EAAST,EAAUd,EAAYF,EAAIuB,GAAU3C,EAAOmC,EAAQC,EAASA,EAAU,EAAGjC,GAEnE,IAAX0C,EAAc,CAOhB,IANAD,GAAQC,EACRH,GAAWG,EACXT,GAAWS,EACXM,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIW,EAAS,EAAGX,GAAK,EAAGA,IAC3BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/C,GAAgB,IAAZE,EAAe,CACjBW,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAUxB,EAAIuB,KAEF,MAAZL,EAAe,CACnBS,GAAO,EACP,MAKF,GAFAD,EAASR,EAAUzB,EAAWb,EAAM0C,GAAUtB,EAAK,EAAGkB,EAASA,EAAU,EAAGnC,GAE7D,IAAX2C,EAAc,CAOhB,IANAF,GAAQE,EACRH,GAAWG,EACXR,GAAWQ,EACXK,EAAaP,EAAO,EACpBM,EAAeP,EAAU,EAEpBT,EAAI,EAAGA,EAAIY,EAAQZ,IACtBlC,EAAMmD,EAAajB,GAAKd,EAAI8B,EAAehB,GAG7C,GAAII,GAAW,EAAG,CAChBS,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAU5C,EAAM0C,KAEJ,MAAZN,EAAe,CACnBW,GAAO,EACP,MAGFC,UACOH,GAAUlD,GAAyBmD,GAAUnD,GAEtD,GAAIoD,EACF,MAGEC,EAAa,IACfA,EAAa,GAGfA,GAAc,EAShB,GANAtB,EAAYsB,EAERtB,EAAY,IACdA,EAAY,GAGE,IAAZY,EAAe,CAMjB,IALAM,GAAQR,EACRM,GAAWN,EACXe,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIE,EAAU,EAAGF,GAAK,EAAGA,IAC5BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/ClC,EAAM4C,GAAQxB,EAAIuB,OACb,IAAgB,IAAZL,EACT,MAAM,IAAIW,MAIV,IAFAC,EAAeN,GAAQN,EAAU,GAE5BJ,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAMkD,EAAehB,GAAKd,EAAIc,QAzIlC,CAME,IALAU,GAAQR,EACRM,GAAWN,EACXe,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIE,EAAU,EAAGF,GAAK,EAAGA,IAC5BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/ClC,EAAM4C,GAAQxB,EAAIuB,QAjBlB,IAFAO,EAAeN,GAAQN,EAAU,GAE5BJ,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAMkD,EAAehB,GAAKd,EAAIc,GA3OpCV,EAAW,GACXC,EAAY,GA8XZ2B,KAAKrB,UAAYA,EACjBqB,KAAKnB,eAAiBA,EACtBmB,KAAKxB,QAAUA,EAGjB,SAASyB,EAAKrD,EAAOG,EAASF,EAAIC,GAC3BD,IACHA,EAAK,GAGFC,IACHA,EAAKF,EAAMe,QAGb,IAAIuC,EAAYpD,EAAKD,EAErB,KAAIqD,EAAY,GAAhB,CAIA,IAAI7B,EAAY,EAEhB,GAAI6B,EAAY5D,EAGd,OAFA+B,EAAY1B,EAAiBC,EAAOC,EAAIC,EAAIC,QAC5CI,EAAoBP,EAAOC,EAAIC,EAAID,EAAKwB,EAAWtB,GAIrD,IAAIoD,EAAK,IAAIhC,EAAQvB,EAAOG,GACxBqD,EAAS5D,EAAa0D,GAE1B,EAAG,CAGD,GAFA7B,EAAY1B,EAAiBC,EAAOC,EAAIC,EAAIC,GAExCsB,EAAY+B,EAAQ,CACtB,IAAIC,EAAQH,EAERG,EAAQD,IACVC,EAAQD,GAGVjD,EAAoBP,EAAOC,EAAIA,EAAKwD,EAAOxD,EAAKwB,EAAWtB,GAC3DsB,EAAYgC,EAGdF,EAAG3B,QAAQ3B,EAAIwB,GACf8B,EAAGxB,YACHuB,GAAa7B,EACbxB,GAAMwB,QACe,IAAd6B,GAETC,EAAGtB,kBAGLyB,EAAOC,QAAUN,G,uBCzpBjB,IAAIO,EAAc,EAAQ,QAEtBC,EAAU,KAEd,SAASC,EAAcC,EAAGC,GACxB,OAAOC,KAAKC,IAAIH,EAAIC,GAAKH,EAG3B,SAASM,EAAQC,EAAQC,EAAGC,GAC1B,IAAIC,EAAI,EACJC,EAAIJ,EAAO,GAEf,IAAKI,EACH,OAAO,EAGT,IAAK,IAAItC,EAAI,EAAGA,EAAIkC,EAAOrD,OAAQmB,IAAK,CACtC,IAAIuC,EAAKL,EAAOlC,GAChBqC,GAAKX,EAAYY,EAAE,GAAIA,EAAE,GAAIC,EAAG,GAAIA,EAAG,GAAIJ,EAAGC,GAC9CE,EAAIC,EAIN,IAAIC,EAAKN,EAAO,GAMhB,OAJKN,EAAcU,EAAE,GAAIE,EAAG,KAAQZ,EAAcU,EAAE,GAAIE,EAAG,MACzDH,GAAKX,EAAYY,EAAE,GAAIA,EAAE,GAAIE,EAAG,GAAIA,EAAG,GAAIL,EAAGC,IAGnC,IAANC,EAGTZ,EAAQQ,QAAUA,G,uBChClB,IAAIQ,EAAO,EAAQ,QAEfC,EAAQ,EAAQ,QAEhBC,EAAQ,EAAQ,QAEhBC,EAAcD,EAAMC,YAKpBC,EAAaC,MAAMC,UAAUC,MAEjC,SAASC,EAAcC,EAAQC,GAC7B,OAAOD,EAAOC,GAGhB,SAASC,EAAcF,EAAQC,EAAKvE,GAClCsE,EAAOC,GAAOvE,EAUhB,SAASyE,EAAkBb,EAAIc,EAAIC,GACjC,OAAQD,EAAKd,GAAMe,EAAUf,EAU/B,SAASgB,EAAkBhB,EAAIc,EAAIC,GACjC,OAAOA,EAAU,GAAMD,EAAKd,EAW9B,SAASiB,EAAiBjB,EAAIc,EAAIC,EAASG,EAAKC,GAC9C,IAAIC,EAAMpB,EAAG3D,OAEb,GAAe,IAAX8E,EACF,IAAK,IAAI3D,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB0D,EAAI1D,GAAKqD,EAAkBb,EAAGxC,GAAIsD,EAAGtD,GAAIuD,OAG3C,KAAIM,EAAOD,GAAOpB,EAAG,GAAG3D,OAExB,IAASmB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB,IAAK,IAAI8D,EAAI,EAAGA,EAAID,EAAMC,IACxBJ,EAAI1D,GAAG8D,GAAKT,EAAkBb,EAAGxC,GAAG8D,GAAIR,EAAGtD,GAAG8D,GAAIP,IAQ1D,SAASQ,EAAQC,EAAMC,EAAMN,GAC3B,IAAIO,EAAUF,EAAKnF,OACfsF,EAAUF,EAAKpF,OAEnB,GAAIqF,IAAYC,EAAS,CAEvB,IAAIC,EAAmBF,EAAUC,EAEjC,GAAIC,EAEFJ,EAAKnF,OAASsF,OAGd,IAAK,IAAInE,EAAIkE,EAASlE,EAAImE,EAASnE,IACjCgE,EAAKK,KAAgB,IAAXV,EAAeM,EAAKjE,GAAK6C,EAAWyB,KAAKL,EAAKjE,KAM9D,IAAI6D,EAAOG,EAAK,IAAMA,EAAK,GAAGnF,OAE9B,IAASmB,EAAI,EAAGA,EAAIgE,EAAKnF,OAAQmB,IAC/B,GAAe,IAAX2D,EACEY,MAAMP,EAAKhE,MACbgE,EAAKhE,GAAKiE,EAAKjE,SAGjB,IAAK,IAAI8D,EAAI,EAAGA,EAAID,EAAMC,IACpBS,MAAMP,EAAKhE,GAAG8D,MAChBE,EAAKhE,GAAG8D,GAAKG,EAAKjE,GAAG8D,IAc/B,SAASU,EAAYR,EAAMC,EAAMN,GAC/B,GAAIK,IAASC,EACX,OAAO,EAGT,IAAIL,EAAMI,EAAKnF,OAEf,GAAI+E,IAAQK,EAAKpF,OACf,OAAO,EAGT,GAAe,IAAX8E,GACF,IAAK,IAAI3D,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB,GAAIgE,EAAKhE,KAAOiE,EAAKjE,GACnB,OAAO,MAIX,KAAI6D,EAAOG,EAAK,GAAGnF,OAEnB,IAASmB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB,IAAK,IAAI8D,EAAI,EAAGA,EAAID,EAAMC,IACxB,GAAIE,EAAKhE,GAAG8D,KAAOG,EAAKjE,GAAG8D,GACzB,OAAO,EAMf,OAAO,EAgBT,SAASW,EAA2BjC,EAAIc,EAAIf,EAAImC,EAAItG,EAAGuG,EAAIC,EAAIlB,EAAKC,GAClE,IAAIC,EAAMpB,EAAG3D,OAEb,GAAe,IAAX8E,EACF,IAAK,IAAI3D,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB0D,EAAI1D,GAAK6E,EAAsBrC,EAAGxC,GAAIsD,EAAGtD,GAAIuC,EAAGvC,GAAI0E,EAAG1E,GAAI5B,EAAGuG,EAAIC,OAGpE,KAAIf,EAAOrB,EAAG,GAAG3D,OAEjB,IAASmB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB,IAAK,IAAI8D,EAAI,EAAGA,EAAID,EAAMC,IACxBJ,EAAI1D,GAAG8D,GAAKe,EAAsBrC,EAAGxC,GAAG8D,GAAIR,EAAGtD,GAAG8D,GAAIvB,EAAGvC,GAAG8D,GAAIY,EAAG1E,GAAG8D,GAAI1F,EAAGuG,EAAIC,IAkBzF,SAASC,EAAsBrC,EAAIc,EAAIf,EAAImC,EAAItG,EAAGuG,EAAIC,GACpD,IAAIE,EAAiB,IAAXvC,EAAKC,GACXuC,EAAiB,IAAXL,EAAKpB,GACf,OAAQ,GAAKA,EAAKf,GAAMuC,EAAKC,GAAMH,IAAO,GAAKtB,EAAKf,GAAM,EAAIuC,EAAKC,GAAMJ,EAAKG,EAAK1G,EAAIkF,EAGzF,SAAS0B,EAAWpG,GAClB,GAAIgE,EAAYhE,GAAQ,CACtB,IAAIgF,EAAMhF,EAAMC,OAEhB,GAAI+D,EAAYhE,EAAM,IAAK,CAGzB,IAFA,IAAIqG,EAAM,GAEDjF,EAAI,EAAGA,EAAI4D,EAAK5D,IACvBiF,EAAIZ,KAAKxB,EAAWyB,KAAK1F,EAAMoB,KAGjC,OAAOiF,EAGT,OAAOpC,EAAWyB,KAAK1F,GAGzB,OAAOA,EAGT,SAASsG,EAAYC,GAInB,OAHAA,EAAK,GAAKpD,KAAKqD,MAAMD,EAAK,IAC1BA,EAAK,GAAKpD,KAAKqD,MAAMD,EAAK,IAC1BA,EAAK,GAAKpD,KAAKqD,MAAMD,EAAK,IACnB,QAAUA,EAAKE,KAAK,KAAO,IAGpC,SAASC,EAAYC,GACnB,IAAIC,EAAYD,EAAUA,EAAU1G,OAAS,GAAGD,MAChD,OAAOgE,EAAY4C,GAAaA,EAAU,IAAM,EAAI,EAGtD,SAASC,EAAgBC,EAAUC,EAAQC,EAAcL,EAAWM,EAAUC,GAC5E,IAAIC,EAASL,EAASM,QAClBC,EAASP,EAASQ,QAClBC,EAAuB,WAAXR,EACZS,EAAWb,EAAU1G,OAEzB,GAAKuH,EAAL,CAKA,IAMIC,EANAC,EAAWf,EAAU,GAAG3G,MACxB2H,EAAe3D,EAAY0D,GAC3BE,GAAe,EACfC,GAAgB,EAEhB9C,EAAS4C,EAAejB,EAAYC,GAAa,EAGrDA,EAAUpE,MAAK,SAAUU,EAAGC,GAC1B,OAAOD,EAAE6E,KAAO5E,EAAE4E,QAEpBL,EAAed,EAAUa,EAAW,GAAGM,KAQvC,IANA,IAAIC,EAAa,GAEbC,EAAW,GACXC,EAAYtB,EAAU,GAAG3G,MACzBkI,GAAkB,EAEb9G,EAAI,EAAGA,EAAIoG,EAAUpG,IAAK,CACjC2G,EAAWtC,KAAKkB,EAAUvF,GAAG0G,KAAOL,GAEpC,IAAIzH,EAAQ2G,EAAUvF,GAAGpB,MAQzB,GANM2H,GAAgB/B,EAAY5F,EAAOiI,EAAWlD,KAAY4C,GAAgB3H,IAAUiI,IACxFC,GAAkB,GAGpBD,EAAYjI,EAES,kBAAVA,EAAoB,CAC7B,IAAImI,EAAarE,EAAMsE,MAAMpI,GAEzBmI,GACFnI,EAAQmI,EACRP,GAAe,GAEfC,GAAgB,EAIpBG,EAASvC,KAAKzF,GAGhB,GAAKkH,IAAgBgB,EAArB,CAIA,IAAItB,EAAYoB,EAASR,EAAW,GAEpC,IAASpG,EAAI,EAAGA,EAAIoG,EAAW,EAAGpG,IAC5BuG,EACFxC,EAAQ6C,EAAS5G,GAAIwF,EAAW7B,IAE5BY,MAAMqC,EAAS5G,KAAQuE,MAAMiB,IAAeiB,GAAkBD,IAChEI,EAAS5G,GAAKwF,GAKpBe,GAAgBxC,EAAQgC,EAAOL,EAASuB,QAASpB,GAAWL,EAAW7B,GAGvE,IAEIrF,EACA+D,EACAG,EACAc,EACAf,EACAmC,EAPAwC,EAAY,EACZC,EAAmB,EAQvB,GAAIX,EACF,IAAIrB,EAAO,CAAC,EAAG,EAAG,EAAG,GAGvB,IAAIiC,EAAU,SAAUlE,EAAQK,GAI9B,IAAI8D,EAEJ,GAAI9D,EAAU,EACZ8D,EAAQ,OACH,GAAI9D,EAAU4D,EAAkB,CAKrC,IAFA7I,EAAQyD,KAAKuF,IAAIJ,EAAY,EAAGd,EAAW,GAEtCiB,EAAQ/I,EAAO+I,GAAS,EAAGA,IAC9B,GAAIV,EAAWU,IAAU9D,EACvB,MAKJ8D,EAAQtF,KAAKuF,IAAID,EAAOjB,EAAW,OAC9B,CACL,IAAKiB,EAAQH,EAAWG,EAAQjB,EAAUiB,IACxC,GAAIV,EAAWU,GAAS9D,EACtB,MAIJ8D,EAAQtF,KAAKuF,IAAID,EAAQ,EAAGjB,EAAW,GAGzCc,EAAYG,EACZF,EAAmB5D,EACnB,IAAIgE,EAAQZ,EAAWU,EAAQ,GAAKV,EAAWU,GAE/C,GAAc,IAAVE,EAMJ,GAHElF,GAAKkB,EAAUoD,EAAWU,IAAUE,EAGlCpB,EAMF,GALA7C,EAAKsD,EAASS,GACd7E,EAAKoE,EAAmB,IAAVS,EAAcA,EAAQA,EAAQ,GAC5C9E,EAAKqE,EAASS,EAAQjB,EAAW,EAAIA,EAAW,EAAIiB,EAAQ,GAC5D3C,EAAKkC,EAASS,EAAQjB,EAAW,EAAIA,EAAW,EAAIiB,EAAQ,GAExDd,EACF9B,EAA2BjC,EAAIc,EAAIf,EAAImC,EAAIrC,EAAGA,EAAIA,EAAGA,EAAIA,EAAIA,EAAG0D,EAAO7C,EAAQ2C,GAAWlC,OACrF,CAGL,GAAI6C,EACF5H,EAAQ6F,EAA2BjC,EAAIc,EAAIf,EAAImC,EAAIrC,EAAGA,EAAIA,EAAGA,EAAIA,EAAIA,EAAG8C,EAAM,GAC9EvG,EAAQsG,EAAYC,OACf,IAAIsB,EAET,OAAOjD,EAAkBF,EAAIf,EAAIF,GAEjCzD,EAAQiG,EAAsBrC,EAAIc,EAAIf,EAAImC,EAAIrC,EAAGA,EAAIA,EAAGA,EAAIA,EAAIA,GAGlE4D,EAAO/C,EAAQ2C,EAAUjH,QAG3B,GAAI2H,EACF9C,EAAiBmD,EAASS,GAAQT,EAASS,EAAQ,GAAIhF,EAAG0D,EAAO7C,EAAQ2C,GAAWlC,OAC/E,CACL,IAAI/E,EAEJ,GAAI4H,EACF/C,EAAiBmD,EAASS,GAAQT,EAASS,EAAQ,GAAIhF,EAAG8C,EAAM,GAChEvG,EAAQsG,EAAYC,OACf,IAAIsB,EAET,OAAOjD,EAAkBoD,EAASS,GAAQT,EAASS,EAAQ,GAAIhF,GAE/DzD,EAAQyE,EAAkBuD,EAASS,GAAQT,EAASS,EAAQ,GAAIhF,GAGlE4D,EAAO/C,EAAQ2C,EAAUjH,KAK3B4I,EAAO,IAAI/E,EAAK,CAClBS,OAAQwC,EAASuB,QACjBQ,KAAMpB,EACNqB,KAAMhC,EAASiC,MACfC,MAAOlC,EAASmC,OAChBT,QAASA,EACTU,UAAWlC,IAOb,OAJID,GAAqB,WAAXA,IACZ6B,EAAK7B,OAASA,GAGT6B,IAYT,IAAIO,EAAW,SAAU7E,EAAQwE,EAAM3B,EAAQE,GAC7C/E,KAAK8G,QAAU,GACf9G,KAAK+F,QAAU/D,EACfhC,KAAKyG,MAAQD,IAAQ,EACrBxG,KAAK8E,QAAUD,GAAU9C,EACzB/B,KAAKgF,QAAUD,GAAU7C,EACzBlC,KAAK+G,WAAa,EAClB/G,KAAK2G,OAAS,EACd3G,KAAKgH,UAAY,GACjBhH,KAAKiH,aAAe,GACpBjH,KAAKkH,UAAY,IAGnBL,EAAShF,UAAY,CAOnBsF,KAAM,SAAU3B,EAEd4B,GACA,IAAIC,EAASrH,KAAK8G,QAElB,IAAK,IAAInC,KAAYyC,EACnB,GAAKA,EAAME,eAAe3C,GAA1B,CAIA,IAAK0C,EAAO1C,GAAW,CACrB0C,EAAO1C,GAAY,GAEnB,IAAIjH,EAAQsC,KAAK8E,QAAQ9E,KAAK+F,QAASpB,GAEvC,GAAa,MAATjH,EAEF,SAOW,IAAT8H,GACF6B,EAAO1C,GAAUxB,KAAK,CACpBqC,KAAM,EACN9H,MAAOoG,EAAWpG,KAKxB2J,EAAO1C,GAAUxB,KAAK,CACpBqC,KAAMA,EACN9H,MAAO0J,EAAMzC,KAIjB,OAAO3E,MAQTuH,OAAQ,SAAUC,GAGhB,OAFAxH,KAAKiH,aAAa9D,KAAKqE,GAEhBxH,MAETyH,MAAO,WACL,IAAK,IAAI3I,EAAI,EAAGA,EAAIkB,KAAKkH,UAAUvJ,OAAQmB,IACzCkB,KAAKkH,UAAUpI,GAAG2I,QAGpBzH,KAAK0H,SAAU,GAEjBC,OAAQ,WACN,IAAK,IAAI7I,EAAI,EAAGA,EAAIkB,KAAKkH,UAAUvJ,OAAQmB,IACzCkB,KAAKkH,UAAUpI,GAAG6I,SAGpB3H,KAAK0H,SAAU,GAEjBE,SAAU,WACR,QAAS5H,KAAK0H,SAEhBG,cAAe,WAEb7H,KAAK8G,QAAU,GAEf9G,KAAKkH,UAAUvJ,OAAS,EAIxB,IAHA,IAAImK,EAAW9H,KAAKgH,UAChBtE,EAAMoF,EAASnK,OAEVmB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvBgJ,EAAShJ,GAAGsE,KAAKpD,OAWrB5C,MAAO,SAAUqH,EAAQG,GACvB,IAWImD,EAXAC,EAAOhI,KACPiI,EAAY,EAEZvD,EAAe,WACjBuD,IAEKA,GACHD,EAAKH,iBAMT,IAAK,IAAIlD,KAAY3E,KAAK8G,QACxB,GAAK9G,KAAK8G,QAAQQ,eAAe3C,GAAjC,CAIA,IAAI2B,EAAO/B,EAAgBvE,KAAMyE,EAAQC,EAAc1E,KAAK8G,QAAQnC,GAAWA,EAAUC,GAErF0B,IACFtG,KAAKkH,UAAU/D,KAAKmD,GAEpB2B,IAEIjI,KAAKkI,WACPlI,KAAKkI,UAAUC,QAAQ7B,GAGzByB,EAAWzB,GAKf,GAAIyB,EAAU,CACZ,IAAIK,EAAaL,EAAS7B,QAE1B6B,EAAS7B,QAAU,SAAUlE,EAAQK,GACnC+F,EAAWpG,EAAQK,GAEnB,IAAK,IAAIvD,EAAI,EAAGA,EAAIkJ,EAAKf,aAAatJ,OAAQmB,IAC5CkJ,EAAKf,aAAanI,GAAGkD,EAAQK,IAYnC,OAJK4F,GACHjI,KAAK6H,gBAGA7H,MAOTqI,KAAM,SAAUC,GAId,IAHA,IAAIC,EAAWvI,KAAKkH,UAChBgB,EAAYlI,KAAKkI,UAEZpJ,EAAI,EAAGA,EAAIyJ,EAAS5K,OAAQmB,IAAK,CACxC,IAAIwH,EAAOiC,EAASzJ,GAEhBwJ,GAEFhC,EAAKJ,QAAQlG,KAAK+F,QAAS,GAG7BmC,GAAaA,EAAUM,WAAWlC,GAGpCiC,EAAS5K,OAAS,GAQpB+I,MAAO,SAAUlB,GAEf,OADAxF,KAAK2G,OAASnB,EACPxF,MAQTyI,KAAM,SAAUC,GAKd,OAJIA,GACF1I,KAAKgH,UAAU7D,KAAKuF,GAGf1I,MAMT2I,SAAU,WACR,OAAO3I,KAAKkH,YAGhB,IAAI0B,EAAW/B,EACfvG,EAAOC,QAAUqI,G,uBCnoBjB,IAAIC,EAAY,EAAQ,QAKpBC,EAAa,WAKf9I,KAAK+I,OAAS,IAkDhB,SAASC,EAAKC,GACZ,IAAIC,EAAKD,EAAU,GAAG,GAAKA,EAAU,GAAG,GACpCE,EAAKF,EAAU,GAAG,GAAKA,EAAU,GAAG,GACxC,OAAOpI,KAAKuI,KAAKF,EAAKA,EAAKC,EAAKA,GAGlC,SAASE,EAAOJ,GACd,MAAO,EAAEA,EAAU,GAAG,GAAKA,EAAU,GAAG,IAAM,GAAIA,EAAU,GAAG,GAAKA,EAAU,GAAG,IAAM,GAtDzFH,EAAWjH,UAAY,CACrByH,YAAaR,EACbS,UAAW,SAAUC,EAAOxH,EAAQyH,GAGlC,OAFAzJ,KAAK0J,SAASF,EAAOxH,EAAQyH,GAEtBzJ,KAAK2J,WAAWH,IAEzBI,MAAO,WAEL,OADA5J,KAAK+I,OAAOpL,OAAS,EACdqC,MAET0J,SAAU,SAAUF,EAAOxH,EAAQyH,GACjC,IAAII,EAAUL,EAAMK,QAEpB,GAAKA,EAAL,CAWA,IAPA,IAAIC,EAAY,CACd9I,OAAQ,GACR6I,QAAS,GACT7H,OAAQA,EACRwH,MAAOA,GAGA1K,EAAI,EAAG4D,EAAMmH,EAAQlM,OAAQmB,EAAI4D,EAAK5D,IAAK,CAClD,IAAIiL,EAAQF,EAAQ/K,GAChBkL,EAAMnB,EAAUoB,cAAcR,EAAMM,EAAO,IAC/CD,EAAU9I,OAAOmC,KAAK,CAAC6G,EAAIE,IAAKF,EAAIG,MACpCL,EAAUD,QAAQ1G,KAAK4G,GAGzB/J,KAAK+I,OAAO5F,KAAK2G,KAEnBH,WAAY,SAAUH,GACpB,IAAK,IAAIY,KAAaC,EACpB,GAAIA,EAAY/C,eAAe8C,GAAY,CACzC,IAAIE,EAAcD,EAAYD,GAAWpK,KAAK+I,OAAQS,GAEtD,GAAIc,EACF,OAAOA,KAiBjB,IAAID,EAAc,CAChBE,MAAO,SAAUC,EAAOhB,GACtB,IAAItE,EAAWsF,EAAM7M,OAErB,GAAKuH,EAAL,CAIA,IAAIuF,GAAYD,EAAMtF,EAAW,IAAM,IAAIlE,OACvC0J,GAAYF,EAAMtF,EAAW,IAAM,IAAIlE,QAAUyJ,EAErD,GAAIC,GAAYA,EAAS/M,OAAS,GAAK8M,GAAYA,EAAS9M,OAAS,EAAG,CACtE,IAAIgN,EAAa3B,EAAKyB,GAAYzB,EAAK0B,IACtCE,SAASD,KAAgBA,EAAa,GACvCnB,EAAMmB,WAAaA,EACnB,IAAIE,EAAcxB,EAAOoB,GAGzB,OAFAjB,EAAMsB,OAASD,EAAY,GAC3BrB,EAAMuB,OAASF,EAAY,GACpB,CACLG,KAAM,QACNhJ,OAAQwI,EAAM,GAAGxI,OACjBwH,MAAOA,OAMXZ,EAAWE,EACfxI,EAAOC,QAAUqI,G,uBClGjB,IAAIqC,EAAS,EAAQ,QAEjBC,EAAS,EAAQ,QAOjBC,EAAYF,EAAOG,SACnB3K,EAAU,KAEd,SAAS4K,EAAgBC,GACvB,OAAOA,EAAM7K,GAAW6K,GAAO7K,EAQjC,IAAI8K,EAAgB,SAAUC,GAC5BA,EAAOA,GAAQ,GAEVA,EAAKC,WAMRzL,KAAKyL,SAAW,CAAC,EAAG,IAGD,MAAjBD,EAAKE,WAMP1L,KAAK0L,SAAW,GAGbF,EAAKG,QAMR3L,KAAK2L,MAAQ,CAAC,EAAG,IASnB3L,KAAK4L,OAAS5L,KAAK4L,QAAU,MAG3BC,EAAqBN,EAAc1J,UACvCgK,EAAmBC,UAAY,KAM/BD,EAAmBE,mBAAqB,WACtC,OAAOV,EAAgBrL,KAAK0L,WAAaL,EAAgBrL,KAAKyL,SAAS,KAAOJ,EAAgBrL,KAAKyL,SAAS,KAAOJ,EAAgBrL,KAAK2L,MAAM,GAAK,IAAMN,EAAgBrL,KAAK2L,MAAM,GAAK,IAG3L,IAAIK,EAAW,GAEfH,EAAmBI,gBAAkB,WACnC,IAAIC,EAASlM,KAAKkM,OACdC,EAAqBD,GAAUA,EAAOJ,UACtCC,EAAqB/L,KAAK+L,qBAC1B9N,EAAI+B,KAAK8L,UAEb,GAAMC,GAAsBI,EAA5B,CAKAlO,EAAIA,GAAKgN,EAAOmB,SAEZL,EACF/L,KAAKqM,kBAAkBpO,GAEvBkN,EAAUlN,GAIRkO,IACEJ,EACFd,EAAOqB,IAAIrO,EAAGiO,EAAOJ,UAAW7N,GAEhCgN,EAAOsB,KAAKtO,EAAGiO,EAAOJ,YAK1B9L,KAAK8L,UAAY7N,EACjB,IAAIuO,EAAmBxM,KAAKwM,iBAE5B,GAAwB,MAApBA,GAAiD,IAArBA,EAAwB,CACtDxM,KAAKyM,eAAeT,GACpB,IAAIU,EAAOV,EAAS,GAAK,GAAK,EAAI,EAC9BW,EAAOX,EAAS,GAAK,GAAK,EAAI,EAC9BY,IAAOZ,EAAS,GAAKU,GAAQF,EAAmBE,GAAQV,EAAS,IAAM,EACvEa,IAAOb,EAAS,GAAKW,GAAQH,EAAmBG,GAAQX,EAAS,IAAM,EAC3E/N,EAAE,IAAM2O,EACR3O,EAAE,IAAM2O,EACR3O,EAAE,IAAM4O,EACR5O,EAAE,IAAM4O,EAGV7M,KAAK8M,aAAe9M,KAAK8M,cAAgB7B,EAAOmB,SAChDnB,EAAO8B,OAAO/M,KAAK8M,aAAc7O,QAtC/BA,GAAKkN,EAAUlN,IAyCnB4N,EAAmBQ,kBAAoB,SAAUpO,GAC/C,OAAOsN,EAAcc,kBAAkBrM,KAAM/B,IAQ/C4N,EAAmBmB,aAAe,SAAUC,GAC1C,IAAIhP,EAAI+B,KAAK8L,UACToB,EAAMD,EAAIC,KAAO,EAEjBjP,EACFgP,EAAID,aAAaE,EAAMjP,EAAE,GAAIiP,EAAMjP,EAAE,GAAIiP,EAAMjP,EAAE,GAAIiP,EAAMjP,EAAE,GAAIiP,EAAMjP,EAAE,GAAIiP,EAAMjP,EAAE,IAErFgP,EAAID,aAAaE,EAAK,EAAG,EAAGA,EAAK,EAAG,IAIxCrB,EAAmBsB,iBAAmB,SAAUF,GAC9C,IAAIC,EAAMD,EAAIC,KAAO,EACrBD,EAAID,aAAaE,EAAK,EAAG,EAAGA,EAAK,EAAG,IAGtC,IAAIE,EAAe,GACfC,EAAkBpC,EAAOmB,SAE7BP,EAAmByB,kBAAoB,SAAUrP,GAC/C,GAAKA,EAAL,CAKA,IAAI2O,EAAK3O,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAC5B4O,EAAK5O,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAC5BwN,EAAWzL,KAAKyL,SAChBE,EAAQ3L,KAAK2L,MAEbN,EAAgBuB,EAAK,KACvBA,EAAK/L,KAAKuI,KAAKwD,IAGbvB,EAAgBwB,EAAK,KACvBA,EAAKhM,KAAKuI,KAAKyD,IAGb5O,EAAE,GAAK,IACT2O,GAAMA,GAGJ3O,EAAE,GAAK,IACT4O,GAAMA,GAGRpB,EAAS,GAAKxN,EAAE,GAChBwN,EAAS,GAAKxN,EAAE,GAChB0N,EAAM,GAAKiB,EACXjB,EAAM,GAAKkB,EACX7M,KAAK0L,SAAW7K,KAAK0M,OAAOtP,EAAE,GAAK4O,EAAI5O,EAAE,GAAK2O,KAOhDf,EAAmB2B,mBAAqB,WACtC,GAAKxN,KAAK8L,UAAV,CAIA,IAAII,EAASlM,KAAKkM,OACdjO,EAAI+B,KAAK8L,UAETI,GAAUA,EAAOJ,YAEnBb,EAAOqB,IAAIc,EAAclB,EAAOY,aAAc7O,GAC9CA,EAAImP,GAGN,IAAIxB,EAAS5L,KAAK4L,OAEdA,IAAWA,EAAO,IAAMA,EAAO,MACjCyB,EAAgB,GAAKzB,EAAO,GAC5ByB,EAAgB,GAAKzB,EAAO,GAC5BX,EAAOqB,IAAIc,EAAcnP,EAAGoP,GAC5BD,EAAa,IAAMxB,EAAO,GAC1BwB,EAAa,IAAMxB,EAAO,GAC1B3N,EAAImP,GAGNpN,KAAKsN,kBAAkBrP,KAQzB4N,EAAmBY,eAAiB,SAAUjK,GAC5C,IAAIvE,EAAI+B,KAAK8L,UAGb,OAFAtJ,EAAMA,GAAO,GAERvE,GAMLuE,EAAI,GAAK3B,KAAKuI,KAAKnL,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAC1CuE,EAAI,GAAK3B,KAAKuI,KAAKnL,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAEtCA,EAAE,GAAK,IACTuE,EAAI,IAAMA,EAAI,IAGZvE,EAAE,GAAK,IACTuE,EAAI,IAAMA,EAAI,IAGTA,IAhBLA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,IAyBXqJ,EAAmB4B,sBAAwB,SAAUxM,EAAGC,GACtD,IAAIwM,EAAK,CAACzM,EAAGC,GACT4L,EAAe9M,KAAK8M,aAMxB,OAJIA,GACF5B,EAAOyC,eAAeD,EAAIA,EAAIZ,GAGzBY,GAWT7B,EAAmB+B,uBAAyB,SAAU3M,EAAGC,GACvD,IAAIwM,EAAK,CAACzM,EAAGC,GACT4K,EAAY9L,KAAK8L,UAMrB,OAJIA,GACFZ,EAAOyC,eAAeD,EAAIA,EAAI5B,GAGzB4B,GAYTnC,EAAcc,kBAAoB,SAAUrK,EAAQ/D,GAClDA,EAAIA,GAAK,GACTkN,EAAUlN,GACV,IAAI2N,EAAS5J,EAAO4J,OAChBD,EAAQ3J,EAAO2J,OAAS,CAAC,EAAG,GAC5BD,EAAW1J,EAAO0J,UAAY,EAC9BD,EAAWzJ,EAAOyJ,UAAY,CAAC,EAAG,GAsBtC,OApBIG,IAEF3N,EAAE,IAAM2N,EAAO,GACf3N,EAAE,IAAM2N,EAAO,IAGjBX,EAAOU,MAAM1N,EAAGA,EAAG0N,GAEfD,GACFT,EAAO4C,OAAO5P,EAAGA,EAAGyN,GAGlBE,IAEF3N,EAAE,IAAM2N,EAAO,GACf3N,EAAE,IAAM2N,EAAO,IAGjB3N,EAAE,IAAMwN,EAAS,GACjBxN,EAAE,IAAMwN,EAAS,GACVxN,GAGT,IAAI2K,EAAW2C,EACfjL,EAAOC,QAAUqI,G,uBCnUjB,IAAIkF,EAAc,EAAQ,QAEtBC,EAAe,EAAQ,QAEvBC,EAAS,EAAQ,QAEjBC,EAAc,EAAQ,QAQ1B,SAASC,EAAO1C,GACdsC,EAAY1K,KAAKpD,KAAMwL,GAGzB0C,EAAOrM,UAAY,CACjByH,YAAa4E,EACblD,KAAM,QACNmD,MAAO,SAAUlB,EAAKmB,GACpB,IAAIC,EAAQrO,KAAKqO,MACbC,EAAMD,EAAME,MAEhBF,EAAMG,KAAKvB,EAAKjN,KAAMoO,GACtB,IAAIG,EAAQvO,KAAKyO,OAASR,EAAYS,oBAAoBJ,EAAKtO,KAAKyO,OAAQzO,KAAMA,KAAK2O,QAEvF,GAAKJ,GAAUN,EAAYW,aAAaL,GAAxC,CAWA,IAAItN,EAAIoN,EAAMpN,GAAK,EACfC,EAAImN,EAAMnN,GAAK,EACf2N,EAAQR,EAAMQ,MACdC,EAAST,EAAMS,OACfC,EAASR,EAAMM,MAAQN,EAAMO,OAejC,GAba,MAATD,GAA2B,MAAVC,EAEnBD,EAAQC,EAASC,EACE,MAAVD,GAA2B,MAATD,EAC3BC,EAASD,EAAQE,EACC,MAATF,GAA2B,MAAVC,IAC1BD,EAAQN,EAAMM,MACdC,EAASP,EAAMO,QAIjB9O,KAAKgN,aAAaC,GAEdoB,EAAMW,QAAUX,EAAMY,QAAS,CACjC,IAAIrC,EAAKyB,EAAMzB,IAAM,EACjBC,EAAKwB,EAAMxB,IAAM,EACrBI,EAAIiC,UAAUX,EAAO3B,EAAIC,EAAIwB,EAAMW,OAAQX,EAAMY,QAAShO,EAAGC,EAAG2N,EAAOC,QAClE,GAAIT,EAAMzB,IAAMyB,EAAMxB,GAAI,CAC3BD,EAAKyB,EAAMzB,GACXC,EAAKwB,EAAMxB,GADf,IAEImC,EAASH,EAAQjC,EACjBqC,EAAUH,EAASjC,EACvBI,EAAIiC,UAAUX,EAAO3B,EAAIC,EAAImC,EAAQC,EAAShO,EAAGC,EAAG2N,EAAOC,QAE3D7B,EAAIiC,UAAUX,EAAOtN,EAAGC,EAAG2N,EAAOC,GAIlB,MAAdT,EAAMc,OAERnP,KAAKmN,iBAAiBF,GACtBjN,KAAKoP,aAAanC,EAAKjN,KAAKqP,sBAGhCA,gBAAiB,WACf,IAAIhB,EAAQrO,KAAKqO,MAMjB,OAJKrO,KAAKsP,QACRtP,KAAKsP,MAAQ,IAAIvB,EAAaM,EAAMpN,GAAK,EAAGoN,EAAMnN,GAAK,EAAGmN,EAAMQ,OAAS,EAAGR,EAAMS,QAAU,IAGvF9O,KAAKsP,QAGhBtB,EAAOuB,SAASrB,EAAQJ,GACxB,IAAIlF,EAAWsF,EACf5N,EAAOC,QAAUqI,G,uBC3FjB,IAAI4G,EAAS,EAAQ,QACjBC,EAAe,EAAQ,QACvBC,EAAU,EAAQ,QAClBC,EAA8B,EAAQ,QAE1C,IAAK,IAAIC,KAAmBH,EAAc,CACxC,IAAII,EAAaL,EAAOI,GACpBE,EAAsBD,GAAcA,EAAWhO,UAEnD,GAAIiO,GAAuBA,EAAoBJ,UAAYA,EAAS,IAClEC,EAA4BG,EAAqB,UAAWJ,GAC5D,MAAOK,GACPD,EAAoBJ,QAAUA,K,mBCNlC,IAAIM,EAAoC,qBAAjBC,aAA+BrO,MAAQqO,aAM9D,SAAS7D,IACP,IAAI5J,EAAM,IAAIwN,EAAU,GAExB,OADA5E,EAAS5I,GACFA,EAQT,SAAS4I,EAAS5I,GAOhB,OANAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAST,SAAS+J,EAAK/J,EAAKvE,GAOjB,OANAuE,EAAI,GAAKvE,EAAE,GACXuE,EAAI,GAAKvE,EAAE,GACXuE,EAAI,GAAKvE,EAAE,GACXuE,EAAI,GAAKvE,EAAE,GACXuE,EAAI,GAAKvE,EAAE,GACXuE,EAAI,GAAKvE,EAAE,GACJuE,EAUT,SAAS8J,EAAI9J,EAAK0N,EAAIC,GAIpB,IAAIC,EAAOF,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCE,EAAOH,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCG,EAAOJ,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCI,EAAOL,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCK,EAAON,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAC1CO,EAAOP,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAO9C,OANA1N,EAAI,GAAK4N,EACT5N,EAAI,GAAK6N,EACT7N,EAAI,GAAK8N,EACT9N,EAAI,GAAK+N,EACT/N,EAAI,GAAKgO,EACThO,EAAI,GAAKiO,EACFjO,EAUT,SAASkO,EAAUlO,EAAK7B,EAAGgQ,GAOzB,OANAnO,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GAAKgQ,EAAE,GAClBnO,EAAI,GAAK7B,EAAE,GAAKgQ,EAAE,GACXnO,EAUT,SAASqL,EAAOrL,EAAK7B,EAAGiQ,GACtB,IAAIC,EAAKlQ,EAAE,GACPmQ,EAAKnQ,EAAE,GACPoQ,EAAMpQ,EAAE,GACRqQ,EAAKrQ,EAAE,GACPsQ,EAAKtQ,EAAE,GACPuQ,EAAMvQ,EAAE,GACRwQ,EAAKtQ,KAAKuQ,IAAIR,GACdS,EAAKxQ,KAAKyQ,IAAIV,GAOlB,OANApO,EAAI,GAAKqO,EAAKQ,EAAKL,EAAKG,EACxB3O,EAAI,IAAMqO,EAAKM,EAAKH,EAAKK,EACzB7O,EAAI,GAAKsO,EAAKO,EAAKJ,EAAKE,EACxB3O,EAAI,IAAMsO,EAAKK,EAAKE,EAAKJ,EACzBzO,EAAI,GAAK6O,EAAKN,EAAMI,EAAKD,EACzB1O,EAAI,GAAK6O,EAAKH,EAAMC,EAAKJ,EAClBvO,EAUT,SAASmJ,EAAMnJ,EAAK7B,EAAGgQ,GACrB,IAAIY,EAAKZ,EAAE,GACPa,EAAKb,EAAE,GAOX,OANAnO,EAAI,GAAK7B,EAAE,GAAK4Q,EAChB/O,EAAI,GAAK7B,EAAE,GAAK6Q,EAChBhP,EAAI,GAAK7B,EAAE,GAAK4Q,EAChB/O,EAAI,GAAK7B,EAAE,GAAK6Q,EAChBhP,EAAI,GAAK7B,EAAE,GAAK4Q,EAChB/O,EAAI,GAAK7B,EAAE,GAAK6Q,EACThP,EAST,SAASuK,EAAOvK,EAAK7B,GACnB,IAAIkQ,EAAKlQ,EAAE,GACPmQ,EAAKnQ,EAAE,GACPoQ,EAAMpQ,EAAE,GACRqQ,EAAKrQ,EAAE,GACPsQ,EAAKtQ,EAAE,GACPuQ,EAAMvQ,EAAE,GACR8Q,EAAMZ,EAAKI,EAAKD,EAAKF,EAEzB,OAAKW,GAILA,EAAM,EAAMA,EACZjP,EAAI,GAAKyO,EAAKQ,EACdjP,EAAI,IAAMwO,EAAKS,EACfjP,EAAI,IAAMsO,EAAKW,EACfjP,EAAI,GAAKqO,EAAKY,EACdjP,EAAI,IAAMsO,EAAKI,EAAMD,EAAKF,GAAOU,EACjCjP,EAAI,IAAMwO,EAAKD,EAAMF,EAAKK,GAAOO,EAC1BjP,GAVE,KAkBX,SAASkP,EAAM/Q,GACb,IAAIC,EAAIwL,IAER,OADAG,EAAK3L,EAAGD,GACDC,EAGTL,EAAQ6L,OAASA,EACjB7L,EAAQ6K,SAAWA,EACnB7K,EAAQgM,KAAOA,EACfhM,EAAQ+L,IAAMA,EACd/L,EAAQmQ,UAAYA,EACpBnQ,EAAQsN,OAASA,EACjBtN,EAAQoL,MAAQA,EAChBpL,EAAQwM,OAASA,EACjBxM,EAAQmR,MAAQA,G,oCCvLhB,IAAIC,EAAW,EAAQ,QAAgCjC,QACnDkC,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAgBF,EAAoB,WACpCG,EAAiBF,EAAwB,WAI7CvR,EAAOC,QAAYuR,GAAkBC,EAEjC,GAAGrC,QAFgD,SAAiBsC,GACtE,OAAOL,EAAS3R,KAAMgS,EAAYC,UAAUtU,OAAS,EAAIsU,UAAU,QAAKC,K,uBCX1E,IAAIlE,EAAS,EAAQ,QAEjBmE,EAAQ,EAAQ,QAEhBC,EAAU,EAAQ,QAElBC,EAAW,EAAQ,QAYvB,SAASvE,EAAYtC,GAInB,IAAK,IAAI8G,KAHT9G,EAAOA,GAAQ,GACf4G,EAAQhP,KAAKpD,KAAMwL,GAEFA,EACXA,EAAKlE,eAAegL,IAAkB,UAATA,IAC/BtS,KAAKsS,GAAQ9G,EAAK8G,IAQtBtS,KAAKqO,MAAQ,IAAI8D,EAAM3G,EAAK6C,MAAOrO,MACnCA,KAAKsP,MAAQ,KAIbtP,KAAKuS,YAAc,KAIrBzE,EAAYjM,UAAY,CACtByH,YAAawE,EACb9C,KAAM,cAONwH,SAAS,EASTC,WAAW,EAOXC,EAAG,EAOHC,GAAI,EAQJC,OAAQ,EAQRC,WAAW,EAQXC,UAAU,EAQVC,QAAQ,EAORC,SAAS,EAOTC,OAAQ,UAORC,WAAW,EAOXC,aAAa,EAKbC,aAAa,EAMb5G,iBAAkB,EAClB6G,YAAa,SAAUpG,KACvBqG,WAAY,SAAUrG,KAOtBkB,MAAO,SAAUlB,EAAKmB,KAOtBiB,gBAAiB,aAQjBtO,QAAS,SAAUE,EAAGC,GACpB,OAAOlB,KAAKuT,YAAYtS,EAAGC,IAO7BsS,SAAU,SAAU9K,EAAI+K,GACtB/K,EAAGtF,KAAKqQ,EAASzT,OASnBuT,YAAa,SAAUtS,EAAGC,GACxB,IAAIwS,EAAQ1T,KAAKyN,sBAAsBxM,EAAGC,GACtCyS,EAAO3T,KAAKqP,kBAChB,OAAOsE,EAAK5S,QAAQ2S,EAAM,GAAIA,EAAM,KAMtCE,MAAO,WACL5T,KAAKwS,QAAUxS,KAAK6T,aAAc,EAClC7T,KAAKsP,MAAQ,KACbtP,KAAK8T,MAAQ9T,KAAK8T,KAAKC,WAsBzBC,aAAc,SAAUxN,GACtB,OAAOxG,KAAKiU,QAAQ,QAASzN,IAE/B0N,OAAQ,SAAUjS,EAAKvE,GACT,UAARuE,EACFmQ,EAAQvQ,UAAUqS,OAAO9Q,KAAKpD,KAAMiC,EAAKvE,GAEzCsC,KAAKqO,MAAM8F,IAAIzW,IAQnB0W,SAAU,SAAUnS,EAAKvE,GAGvB,OAFAsC,KAAKqO,MAAM8F,IAAIlS,EAAKvE,GACpBsC,KAAK4T,OAAM,GACJ5T,MAOTqU,SAAU,SAAUC,GAGlB,OAFAtU,KAAKqO,MAAQ,IAAI8D,EAAMmC,EAAKtU,MAC5BA,KAAK4T,OAAM,GACJ5T,MAsBTuU,sBAAuB,MAEzBvG,EAAOuB,SAASzB,EAAasE,GAC7BpE,EAAOwG,MAAM1G,EAAauE,GAE1B,IAAIzJ,EAAWkF,EACfxN,EAAOC,QAAUqI,G,qBC9QjB,IAAI6L,EAAY7S,MAAMC,UAAUC,MAoB5B4S,EAAW,SAAUC,GACvB3U,KAAK4U,WAAa,GAClB5U,KAAK6U,iBAAmBF,GA4M1B,SAASG,EAAeC,EAAMC,GAC5B,IAAIL,EAAiBI,EAAKF,iBAM1B,OAJa,MAATG,GAAiBL,GAAkBA,EAAeG,iBACpDE,EAAQL,EAAeG,eAAeE,IAGjCA,EAGT,SAASC,EAAGC,EAAU1L,EAAOwL,EAAOG,EAAS1B,EAAS2B,GACpD,IAAIC,EAAKH,EAASN,WAQlB,GANqB,oBAAVI,IACTvB,EAAU0B,EACVA,EAAUH,EACVA,EAAQ,OAGLG,IAAY3L,EACf,OAAO0L,EAGTF,EAAQF,EAAeI,EAAUF,GAE5BK,EAAG7L,KACN6L,EAAG7L,GAAS,IAGd,IAAK,IAAI1K,EAAI,EAAGA,EAAIuW,EAAG7L,GAAO7L,OAAQmB,IACpC,GAAIuW,EAAG7L,GAAO1K,GAAGwW,IAAMH,EACrB,OAAOD,EAIX,IAAIK,EAAO,CACTD,EAAGH,EACHK,IAAKJ,EACLJ,MAAOA,EACP/H,IAAKwG,GAAWyB,EAGhBO,WAAYN,EAAQO,sBAElBC,EAAYN,EAAG7L,GAAO7L,OAAS,EAC/BiY,EAAWP,EAAG7L,GAAOmM,GAEzB,OADAC,GAAYA,EAASH,WAAaJ,EAAG7L,GAAOqM,OAAOF,EAAW,EAAGJ,GAAQF,EAAG7L,GAAOrG,KAAKoS,GACjFL,EAxPTR,EAAS7S,UAAY,CACnByH,YAAaoL,EAUbc,IAAK,SAAUhM,EAAOwL,EAAOG,EAAS1B,GACpC,OAAOwB,EAAGjV,KAAMwJ,EAAOwL,EAAOG,EAAS1B,GAAS,IAWlDwB,GAAI,SAAUzL,EAAOwL,EAAOG,EAAS1B,GACnC,OAAOwB,EAAGjV,KAAMwJ,EAAOwL,EAAOG,EAAS1B,GAAS,IASlDqC,SAAU,SAAUtM,GAClB,IAAI6L,EAAKrV,KAAK4U,WACd,OAAQS,EAAG7L,KAAW6L,EAAG7L,GAAO7L,QAWlCoY,IAAK,SAAUvM,EAAO2L,GACpB,IAAIE,EAAKrV,KAAK4U,WAEd,IAAKpL,EAEH,OADAxJ,KAAK4U,WAAa,GACX5U,KAGT,GAAImV,EAAS,CACX,GAAIE,EAAG7L,GAAQ,CAGb,IAFA,IAAIwM,EAAU,GAELlX,EAAI,EAAGmX,EAAIZ,EAAG7L,GAAO7L,OAAQmB,EAAImX,EAAGnX,IACvCuW,EAAG7L,GAAO1K,GAAGwW,IAAMH,GACrBa,EAAQ7S,KAAKkS,EAAG7L,GAAO1K,IAI3BuW,EAAG7L,GAASwM,EAGVX,EAAG7L,IAA+B,IAArB6L,EAAG7L,GAAO7L,eAClB0X,EAAG7L,eAGL6L,EAAG7L,GAGZ,OAAOxJ,MAQTkW,QAAS,SAAUlL,GACjB,IAAIqK,EAAKrV,KAAK4U,WAAW5J,GACrB2J,EAAiB3U,KAAK6U,iBAE1B,GAAIQ,EAAI,CACN,IAAIc,EAAOlE,UACPmE,EAASD,EAAKxY,OAEdyY,EAAS,IACXD,EAAO1B,EAAUrR,KAAK+S,EAAM,IAK9B,IAFA,IAAIzT,EAAM2S,EAAG1X,OAEJmB,EAAI,EAAGA,EAAI4D,GAAM,CACxB,IAAI2T,EAAQhB,EAAGvW,GAEf,GAAI6V,GAAkBA,EAAe2B,QAAyB,MAAfD,EAAMrB,QAAkBL,EAAe2B,OAAOtL,EAAMqL,EAAMrB,OACvGlW,QADF,CAMA,OAAQsX,GACN,KAAK,EACHC,EAAMf,EAAElS,KAAKiT,EAAMpJ,KACnB,MAEF,KAAK,EACHoJ,EAAMf,EAAElS,KAAKiT,EAAMpJ,IAAKkJ,EAAK,IAC7B,MAEF,KAAK,EACHE,EAAMf,EAAElS,KAAKiT,EAAMpJ,IAAKkJ,EAAK,GAAIA,EAAK,IACtC,MAEF,QAEEE,EAAMf,EAAEiB,MAAMF,EAAMpJ,IAAKkJ,GACzB,MAGAE,EAAMb,KACRH,EAAGQ,OAAO/W,EAAG,GAEb4D,KAEA5D,MAMN,OADA6V,GAAkBA,EAAe6B,cAAgB7B,EAAe6B,aAAaxL,GACtEhL,MAQTyW,mBAAoB,SAAUzL,GAC5B,IAAIqK,EAAKrV,KAAK4U,WAAW5J,GACrB2J,EAAiB3U,KAAK6U,iBAE1B,GAAIQ,EAAI,CACN,IAAIc,EAAOlE,UACPmE,EAASD,EAAKxY,OAEdyY,EAAS,IACXD,EAAO1B,EAAUrR,KAAK+S,EAAM,EAAGA,EAAKxY,OAAS,IAM/C,IAHA,IAAIsP,EAAMkJ,EAAKA,EAAKxY,OAAS,GACzB+E,EAAM2S,EAAG1X,OAEJmB,EAAI,EAAGA,EAAI4D,GAAM,CACxB,IAAI2T,EAAQhB,EAAGvW,GAEf,GAAI6V,GAAkBA,EAAe2B,QAAyB,MAAfD,EAAMrB,QAAkBL,EAAe2B,OAAOtL,EAAMqL,EAAMrB,OACvGlW,QADF,CAMA,OAAQsX,GACN,KAAK,EACHC,EAAMf,EAAElS,KAAK6J,GACb,MAEF,KAAK,EACHoJ,EAAMf,EAAElS,KAAK6J,EAAKkJ,EAAK,IACvB,MAEF,KAAK,EACHE,EAAMf,EAAElS,KAAK6J,EAAKkJ,EAAK,GAAIA,EAAK,IAChC,MAEF,QAEEE,EAAMf,EAAEiB,MAAMtJ,EAAKkJ,GACnB,MAGAE,EAAMb,KACRH,EAAGQ,OAAO/W,EAAG,GAEb4D,KAEA5D,MAMN,OADA6V,GAAkBA,EAAe6B,cAAgB7B,EAAe6B,aAAaxL,GACtEhL,OA6IX,IAAI4I,EAAW8L,EACfpU,EAAOC,QAAUqI,G,uBClXjB,IAAI8N,EAAQ,EAAQ,QAEhBC,EAAO,EAAQ,QAEfC,EAAO,EAAQ,QAEf7I,EAAe,EAAQ,QAEvB8I,EAAU,EAAQ,SAElB3J,EAAM2J,EAAQC,iBAYdC,EAAM,CACRC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EAEHC,EAAG,GAWDlR,EAAM,GACNmR,EAAM,GACNC,EAAO,GACPC,EAAO,GACPC,EAAU7W,KAAKuF,IACfuR,EAAU9W,KAAK0W,IACfK,EAAU/W,KAAKyQ,IACfuG,EAAUhX,KAAKuQ,IACf0G,EAAWjX,KAAKuI,KAChB2O,EAAUlX,KAAKC,IACfkX,EAAwC,qBAAjB/H,aAMvBgI,EAAY,SAAUC,GACxBlY,KAAKmY,WAAcD,EAEflY,KAAKmY,YAKPnY,KAAKoY,KAAO,IAGdpY,KAAKqY,KAAO,MAQdJ,EAAUpW,UAAY,CACpByH,YAAa2O,EACbK,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,IAAK,EAELC,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,UAAW,KACXC,YAAa,EACbC,SAAU,EACVC,SAAU,EAKVC,SAAU,SAAUrM,EAAIC,EAAIqM,GAE1BA,EAAyBA,GAA0B,EACnDlZ,KAAK0Y,IAAMX,EAAQmB,EAAyBhM,EAAMN,IAAO,EACzD5M,KAAK2Y,IAAMZ,EAAQmB,EAAyBhM,EAAML,IAAO,GAE3DsM,WAAY,WACV,OAAOnZ,KAAKqY,MAOde,UAAW,SAAUnM,GAcnB,OAbAjN,KAAKqY,KAAOpL,EACZA,GAAOA,EAAImM,YACXnM,IAAQjN,KAAKkN,IAAMD,EAAIC,KAEnBlN,KAAKmY,YACPnY,KAAK4Y,KAAO,GAGV5Y,KAAK6Y,YACP7Y,KAAK6Y,UAAY,KACjB7Y,KAAK8Y,YAAc,GAGd9Y,MAQTqZ,OAAQ,SAAUpY,EAAGC,GAWnB,OAVAlB,KAAKsZ,QAAQvC,EAAIC,EAAG/V,EAAGC,GACvBlB,KAAKqY,MAAQrY,KAAKqY,KAAKgB,OAAOpY,EAAGC,GAKjClB,KAAKwY,IAAMvX,EACXjB,KAAKyY,IAAMvX,EACXlB,KAAKsY,IAAMrX,EACXjB,KAAKuY,IAAMrX,EACJlB,MAQTuZ,OAAQ,SAAUtY,EAAGC,GACnB,IAAIsY,EAAazB,EAAQ9W,EAAIjB,KAAKsY,KAAOtY,KAAK0Y,KAAOX,EAAQ7W,EAAIlB,KAAKuY,KAAOvY,KAAK2Y,KAC/E3Y,KAAK4Y,KAAO,EAYf,OAXA5Y,KAAKsZ,QAAQvC,EAAIE,EAAGhW,EAAGC,GAEnBlB,KAAKqY,MAAQmB,IACfxZ,KAAKyZ,aAAezZ,KAAK0Z,cAAczY,EAAGC,GAAKlB,KAAKqY,KAAKkB,OAAOtY,EAAGC,IAGjEsY,IACFxZ,KAAKsY,IAAMrX,EACXjB,KAAKuY,IAAMrX,GAGNlB,MAYT2Z,cAAe,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAS3C,OARAja,KAAKsZ,QAAQvC,EAAIG,EAAG0C,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEpCja,KAAKqY,OACPrY,KAAKyZ,aAAezZ,KAAKka,gBAAgBN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAMja,KAAKqY,KAAKsB,cAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,IAGjHja,KAAKsY,IAAM0B,EACXha,KAAKuY,IAAM0B,EACJja,MAUTma,iBAAkB,SAAUP,EAAIC,EAAIC,EAAIC,GAStC,OARA/Z,KAAKsZ,QAAQvC,EAAII,EAAGyC,EAAIC,EAAIC,EAAIC,GAE5B/Z,KAAKqY,OACPrY,KAAKyZ,aAAezZ,KAAKoa,mBAAmBR,EAAIC,EAAIC,EAAIC,GAAM/Z,KAAKqY,KAAK8B,iBAAiBP,EAAIC,EAAIC,EAAIC,IAGvG/Z,KAAKsY,IAAMwB,EACX9Z,KAAKuY,IAAMwB,EACJ/Z,MAYTqa,IAAK,SAAUC,EAAIC,EAAI7d,EAAG8d,EAAYC,EAAUC,GAK9C,OAJA1a,KAAKsZ,QAAQvC,EAAIK,EAAGkD,EAAIC,EAAI7d,EAAGA,EAAG8d,EAAYC,EAAWD,EAAY,EAAGE,EAAgB,EAAI,GAC5F1a,KAAKqY,MAAQrY,KAAKqY,KAAKgC,IAAIC,EAAIC,EAAI7d,EAAG8d,EAAYC,EAAUC,GAC5D1a,KAAKsY,IAAMV,EAAQ6C,GAAY/d,EAAI4d,EACnCta,KAAKuY,IAAMV,EAAQ4C,GAAY/d,EAAI6d,EAC5Bva,MAGT2a,MAAO,SAAUf,EAAIC,EAAIC,EAAIC,EAAIa,GAK/B,OAJI5a,KAAKqY,MACPrY,KAAKqY,KAAKsC,MAAMf,EAAIC,EAAIC,EAAIC,EAAIa,GAG3B5a,MAGT2T,KAAM,SAAU1S,EAAGC,EAAGC,EAAGmU,GAGvB,OAFAtV,KAAKqY,MAAQrY,KAAKqY,KAAK1E,KAAK1S,EAAGC,EAAGC,EAAGmU,GACrCtV,KAAKsZ,QAAQvC,EAAIO,EAAGrW,EAAGC,EAAGC,EAAGmU,GACtBtV,MAMT6a,UAAW,WACT7a,KAAKsZ,QAAQvC,EAAIM,GACjB,IAAIpK,EAAMjN,KAAKqY,KACXyC,EAAK9a,KAAKwY,IACVuC,EAAK/a,KAAKyY,IASd,OAPIxL,IACFjN,KAAKyZ,cAAgBzZ,KAAK0Z,cAAcoB,EAAIC,GAC5C9N,EAAI4N,aAGN7a,KAAKsY,IAAMwC,EACX9a,KAAKuY,IAAMwC,EACJ/a,MASTgb,KAAM,SAAU/N,GACdA,GAAOA,EAAI+N,OACXhb,KAAKib,YAOPC,OAAQ,SAAUjO,GAChBA,GAAOA,EAAIiO,SACXlb,KAAKib,YAQPE,YAAa,SAAUC,GACrB,GAAIA,aAAoBxZ,MAAO,CAC7B5B,KAAK6Y,UAAYuC,EACjBpb,KAAK+Y,SAAW,EAGhB,IAFA,IAAIsC,EAAc,EAETvc,EAAI,EAAGA,EAAIsc,EAASzd,OAAQmB,IACnCuc,GAAeD,EAAStc,GAG1BkB,KAAKgZ,SAAWqC,EAGlB,OAAOrb,MAQTsb,kBAAmB,SAAUvd,GAE3B,OADAiC,KAAK8Y,YAAc/a,EACZiC,MAOT0C,IAAK,WACH,OAAO1C,KAAK4Y,MAMd2C,QAAS,SAAUnD,GACjB,IAAI1V,EAAM0V,EAAKza,OAETqC,KAAKoY,MAAQpY,KAAKoY,KAAKza,SAAW+E,IAAQsV,IAC9ChY,KAAKoY,KAAO,IAAInI,aAAavN,IAG/B,IAAK,IAAI5D,EAAI,EAAGA,EAAI4D,EAAK5D,IACvBkB,KAAKoY,KAAKtZ,GAAKsZ,EAAKtZ,GAGtBkB,KAAK4Y,KAAOlW,GAOd8Y,WAAY,SAAUC,GACdA,aAAgB7Z,QACpB6Z,EAAO,CAACA,IAOV,IAJA,IAAI/Y,EAAM+Y,EAAK9d,OACX+d,EAAa,EACb3d,EAASiC,KAAK4Y,KAET9Z,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB4c,GAAcD,EAAK3c,GAAG4D,MAGpBsV,GAAiBhY,KAAKoY,gBAAgBnI,eACxCjQ,KAAKoY,KAAO,IAAInI,aAAalS,EAAS2d,IAGxC,IAAS5c,EAAI,EAAGA,EAAI4D,EAAK5D,IAGvB,IAFA,IAAI6c,EAAiBF,EAAK3c,GAAGsZ,KAEpBjZ,EAAI,EAAGA,EAAIwc,EAAehe,OAAQwB,IACzCa,KAAKoY,KAAKra,KAAY4d,EAAexc,GAIzCa,KAAK4Y,KAAO7a,GAOdub,QAAS,SAAUsC,GACjB,GAAK5b,KAAKmY,UAAV,CAIA,IAAIC,EAAOpY,KAAKoY,KAEZpY,KAAK4Y,KAAO3G,UAAUtU,OAASya,EAAKza,SAGtCqC,KAAK6b,cAELzD,EAAOpY,KAAKoY,MAGd,IAAK,IAAItZ,EAAI,EAAGA,EAAImT,UAAUtU,OAAQmB,IACpCsZ,EAAKpY,KAAK4Y,QAAU3G,UAAUnT,GAGhCkB,KAAK8b,SAAWF,IAElBC,YAAa,WAEX,KAAM7b,KAAKoY,gBAAgBxW,OAAQ,CAGjC,IAFA,IAAIma,EAAU,GAELjd,EAAI,EAAGA,EAAIkB,KAAK4Y,KAAM9Z,IAC7Bid,EAAQjd,GAAKkB,KAAKoY,KAAKtZ,GAGzBkB,KAAKoY,KAAO2D,IAShBtC,WAAY,WACV,OAAOzZ,KAAK6Y,WAEda,cAAe,SAAUE,EAAIC,GAC3B,IAWImC,EAEAC,EAbAC,EAAUlc,KAAKgZ,SACfjb,EAASiC,KAAK8Y,YACdsC,EAAWpb,KAAK6Y,UAChB5L,EAAMjN,KAAKqY,KACXyC,EAAK9a,KAAKsY,IACVyC,EAAK/a,KAAKuY,IACVrP,EAAK0Q,EAAKkB,EACV3R,EAAK0Q,EAAKkB,EACV/R,EAAO8O,EAAS5O,EAAKA,EAAKC,EAAKA,GAC/BlI,EAAI6Z,EACJ5Z,EAAI6Z,EAEJoB,EAAQf,EAASzd,OAErBuL,GAAMF,EACNG,GAAMH,EAEFjL,EAAS,IAEXA,EAASme,EAAUne,GAGrBA,GAAUme,EACVjb,GAAKlD,EAASmL,EACdhI,GAAKnD,EAASoL,EAEd,MAAOD,EAAK,GAAKjI,GAAK2Y,GAAM1Q,EAAK,GAAKjI,GAAK2Y,GAAa,IAAP1Q,IAAaC,EAAK,GAAKjI,GAAK2Y,GAAM1Q,EAAK,GAAKjI,GAAK2Y,GAChGoC,EAAMjc,KAAK+Y,SACXiD,EAAOZ,EAASa,GAChBhb,GAAKiI,EAAK8S,EACV9a,GAAKiI,EAAK6S,EACVhc,KAAK+Y,UAAYkD,EAAM,GAAKE,EAExBjT,EAAK,GAAKjI,EAAI6Z,GAAM5R,EAAK,GAAKjI,EAAI6Z,GAAM3R,EAAK,GAAKjI,EAAI6Z,GAAM5R,EAAK,GAAKjI,EAAI6Z,GAI9E9N,EAAIgP,EAAM,EAAI,SAAW,UAAU/S,GAAM,EAAIwO,EAAQzW,EAAG2Y,GAAMjC,EAAQ1W,EAAG2Y,GAAKzQ,GAAM,EAAIuO,EAAQxW,EAAG2Y,GAAMlC,EAAQzW,EAAG2Y,IAItH3Q,EAAKjI,EAAI2Y,EACTzQ,EAAKjI,EAAI2Y,EACT7Z,KAAK8Y,aAAehB,EAAS5O,EAAKA,EAAKC,EAAKA,IAG9C+Q,gBAAiB,SAAUN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7C,IAMI/c,EACAgM,EACAC,EAKAlI,EACAC,EAdAgb,EAAUlc,KAAKgZ,SACfjb,EAASiC,KAAK8Y,YACdsC,EAAWpb,KAAK6Y,UAChB5L,EAAMjN,KAAKqY,KACXyC,EAAK9a,KAAKsY,IACVyC,EAAK/a,KAAKuY,IAIV6D,EAAU1F,EAAM0F,QAChBC,EAAY,EACZJ,EAAMjc,KAAK+Y,SACXoD,EAAQf,EAASzd,OAGjB2e,EAAS,EASb,IAPIve,EAAS,IAEXA,EAASme,EAAUne,GAGrBA,GAAUme,EAELhf,EAAI,EAAGA,EAAI,EAAGA,GAAK,GACtBgM,EAAKkT,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAI9c,EAAI,IAAOkf,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAI9c,GAChEiM,EAAKiT,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAI/c,EAAI,IAAOkf,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAI/c,GAChEmf,GAAavE,EAAS5O,EAAKA,EAAKC,EAAKA,GAIvC,KAAO8S,EAAME,EAAOF,IAGlB,GAFAK,GAAUlB,EAASa,GAEfK,EAASve,EACX,MAIJb,GAAKof,EAASve,GAAUse,EAExB,MAAOnf,GAAK,EACV+D,EAAImb,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAI9c,GAC5BgE,EAAIkb,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAI/c,GAG5B+e,EAAM,EAAIhP,EAAIoM,OAAOpY,EAAGC,GAAK+L,EAAIsM,OAAOtY,EAAGC,GAC3ChE,GAAKke,EAASa,GAAOI,EACrBJ,GAAOA,EAAM,GAAKE,EAIpBF,EAAM,IAAM,GAAKhP,EAAIsM,OAAOS,EAAIC,GAChC/Q,EAAK8Q,EAAK/Y,EACVkI,EAAK8Q,EAAK/Y,EACVlB,KAAK8Y,aAAehB,EAAS5O,EAAKA,EAAKC,EAAKA,IAE9CiR,mBAAoB,SAAUR,EAAIC,EAAIC,EAAIC,GAExC,IAAIC,EAAKF,EACLG,EAAKF,EACTD,GAAMA,EAAK,EAAIF,GAAM,EACrBG,GAAMA,EAAK,EAAIF,GAAM,EACrBD,GAAM5Z,KAAKsY,IAAM,EAAIsB,GAAM,EAC3BC,GAAM7Z,KAAKuY,IAAM,EAAIsB,GAAM,EAE3B7Z,KAAKka,gBAAgBN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,IAO3CgB,SAAU,WACR,IAAI7C,EAAOpY,KAAKoY,KAEZA,aAAgBxW,QAClBwW,EAAKza,OAASqC,KAAK4Y,KAEfZ,IACFhY,KAAKoY,KAAO,IAAInI,aAAamI,MAQnC/I,gBAAiB,WACfjJ,EAAI,GAAKA,EAAI,GAAKoR,EAAK,GAAKA,EAAK,GAAK+E,OAAOC,UAC7CjF,EAAI,GAAKA,EAAI,GAAKE,EAAK,GAAKA,EAAK,IAAM8E,OAAOC,UAO9C,IANA,IAAIpE,EAAOpY,KAAKoY,KACZqE,EAAK,EACLC,EAAK,EACL5B,EAAK,EACLC,EAAK,EAEAjc,EAAI,EAAGA,EAAIsZ,EAAKza,QAAS,CAChC,IAAIie,EAAMxD,EAAKtZ,KAaf,OAXU,IAANA,IAKF2d,EAAKrE,EAAKtZ,GACV4d,EAAKtE,EAAKtZ,EAAI,GACdgc,EAAK2B,EACL1B,EAAK2B,GAGCd,GACN,KAAK7E,EAAIC,EAGP8D,EAAK1C,EAAKtZ,KACVic,EAAK3C,EAAKtZ,KACV2d,EAAK3B,EACL4B,EAAK3B,EACLvD,EAAK,GAAKsD,EACVtD,EAAK,GAAKuD,EACVtD,EAAK,GAAKqD,EACVrD,EAAK,GAAKsD,EACV,MAEF,KAAKhE,EAAIE,EACPL,EAAK+F,SAASF,EAAIC,EAAItE,EAAKtZ,GAAIsZ,EAAKtZ,EAAI,GAAI0Y,EAAMC,GAClDgF,EAAKrE,EAAKtZ,KACV4d,EAAKtE,EAAKtZ,KACV,MAEF,KAAKiY,EAAIG,EACPN,EAAKgG,UAAUH,EAAIC,EAAItE,EAAKtZ,KAAMsZ,EAAKtZ,KAAMsZ,EAAKtZ,KAAMsZ,EAAKtZ,KAAMsZ,EAAKtZ,GAAIsZ,EAAKtZ,EAAI,GAAI0Y,EAAMC,GAC/FgF,EAAKrE,EAAKtZ,KACV4d,EAAKtE,EAAKtZ,KACV,MAEF,KAAKiY,EAAII,EACPP,EAAKiG,cAAcJ,EAAIC,EAAItE,EAAKtZ,KAAMsZ,EAAKtZ,KAAMsZ,EAAKtZ,GAAIsZ,EAAKtZ,EAAI,GAAI0Y,EAAMC,GAC7EgF,EAAKrE,EAAKtZ,KACV4d,EAAKtE,EAAKtZ,KACV,MAEF,KAAKiY,EAAIK,EAEP,IAAIkD,EAAKlC,EAAKtZ,KACVyb,EAAKnC,EAAKtZ,KACVge,EAAK1E,EAAKtZ,KACVie,EAAK3E,EAAKtZ,KACV0b,EAAapC,EAAKtZ,KAClB2b,EAAWrC,EAAKtZ,KAAO0b,EAE3B1b,GAAK,EACL,IAAI4b,EAAgB,EAAItC,EAAKtZ,KAEnB,IAANA,IAGFgc,EAAKlD,EAAQ4C,GAAcsC,EAAKxC,EAChCS,EAAKlD,EAAQ2C,GAAcuC,EAAKxC,GAGlC3D,EAAKoG,QAAQ1C,EAAIC,EAAIuC,EAAIC,EAAIvC,EAAYC,EAAUC,EAAelD,EAAMC,GACxEgF,EAAK7E,EAAQ6C,GAAYqC,EAAKxC,EAC9BoC,EAAK7E,EAAQ4C,GAAYsC,EAAKxC,EAC9B,MAEF,KAAKxD,EAAIO,EACPwD,EAAK2B,EAAKrE,EAAKtZ,KACfic,EAAK2B,EAAKtE,EAAKtZ,KACf,IAAI+P,EAAQuJ,EAAKtZ,KACbgQ,EAASsJ,EAAKtZ,KAElB8X,EAAK+F,SAAS7B,EAAIC,EAAID,EAAKjM,EAAOkM,EAAKjM,EAAQ0I,EAAMC,GACrD,MAEF,KAAKV,EAAIM,EACPoF,EAAK3B,EACL4B,EAAK3B,EACL,MAIJpE,EAAKvQ,IAAIA,EAAKA,EAAKoR,GACnBb,EAAKY,IAAIA,EAAKA,EAAKE,GAQrB,OAJU,IAAN3Y,IACFsH,EAAI,GAAKA,EAAI,GAAKmR,EAAI,GAAKA,EAAI,GAAK,GAG/B,IAAIxJ,EAAa3H,EAAI,GAAIA,EAAI,GAAImR,EAAI,GAAKnR,EAAI,GAAImR,EAAI,GAAKnR,EAAI,KAQxE6W,YAAa,SAAUhQ,GAYrB,IAXA,IACI6N,EACAC,EACA0B,EACAC,EACAzb,EACAC,EANAgc,EAAIld,KAAKoY,KAOT+E,EAAKnd,KAAK0Y,IACV0E,EAAKpd,KAAK2Y,IACVjW,EAAM1C,KAAK4Y,KAEN9Z,EAAI,EAAGA,EAAI4D,GAAM,CACxB,IAAIkZ,EAAMsB,EAAEpe,KAaZ,OAXU,IAANA,IAKF2d,EAAKS,EAAEpe,GACP4d,EAAKQ,EAAEpe,EAAI,GACXgc,EAAK2B,EACL1B,EAAK2B,GAGCd,GACN,KAAK7E,EAAIC,EACP8D,EAAK2B,EAAKS,EAAEpe,KACZic,EAAK2B,EAAKQ,EAAEpe,KACZmO,EAAIoM,OAAOoD,EAAIC,GACf,MAEF,KAAK3F,EAAIE,EACPhW,EAAIic,EAAEpe,KACNoC,EAAIgc,EAAEpe,MAEFiZ,EAAQ9W,EAAIwb,GAAMU,GAAMpF,EAAQ7W,EAAIwb,GAAMU,GAAMte,IAAM4D,EAAM,KAC9DuK,EAAIsM,OAAOtY,EAAGC,GACdub,EAAKxb,EACLyb,EAAKxb,GAGP,MAEF,KAAK6V,EAAIG,EACPjK,EAAI0M,cAAcuD,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,MAC5D2d,EAAKS,EAAEpe,EAAI,GACX4d,EAAKQ,EAAEpe,EAAI,GACX,MAEF,KAAKiY,EAAII,EACPlK,EAAIkN,iBAAiB+C,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,MAC/C2d,EAAKS,EAAEpe,EAAI,GACX4d,EAAKQ,EAAEpe,EAAI,GACX,MAEF,KAAKiY,EAAIK,EACP,IAAIkD,EAAK4C,EAAEpe,KACPyb,EAAK2C,EAAEpe,KACPge,EAAKI,EAAEpe,KACPie,EAAKG,EAAEpe,KACPue,EAAQH,EAAEpe,KACVwe,EAASJ,EAAEpe,KACXye,EAAML,EAAEpe,KACR0e,EAAKN,EAAEpe,KACPpC,EAAIogB,EAAKC,EAAKD,EAAKC,EACnBU,EAASX,EAAKC,EAAK,EAAID,EAAKC,EAC5BW,EAASZ,EAAKC,EAAKA,EAAKD,EAAK,EAC7Ba,EAAY9c,KAAKC,IAAIgc,EAAKC,GAAM,KAChCtC,EAAW4C,EAAQC,EAEnBK,GACF1Q,EAAIyD,UAAU4J,EAAIC,GAClBtN,EAAIY,OAAO0P,GACXtQ,EAAItB,MAAM8R,EAAQC,GAClBzQ,EAAIoN,IAAI,EAAG,EAAG3d,EAAG2gB,EAAO5C,EAAU,EAAI+C,GACtCvQ,EAAItB,MAAM,EAAI8R,EAAQ,EAAIC,GAC1BzQ,EAAIY,QAAQ0P,GACZtQ,EAAIyD,WAAW4J,GAAKC,IAEpBtN,EAAIoN,IAAIC,EAAIC,EAAI7d,EAAG2gB,EAAO5C,EAAU,EAAI+C,GAGhC,IAAN1e,IAGFgc,EAAKlD,EAAQyF,GAASP,EAAKxC,EAC3BS,EAAKlD,EAAQwF,GAASN,EAAKxC,GAG7BkC,EAAK7E,EAAQ6C,GAAYqC,EAAKxC,EAC9BoC,EAAK7E,EAAQ4C,GAAYsC,EAAKxC,EAC9B,MAEF,KAAKxD,EAAIO,EACPwD,EAAK2B,EAAKS,EAAEpe,GACZic,EAAK2B,EAAKQ,EAAEpe,EAAI,GAChBmO,EAAI0G,KAAKuJ,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,KAAMoe,EAAEpe,MACnC,MAEF,KAAKiY,EAAIM,EACPpK,EAAI4N,YACJ4B,EAAK3B,EACL4B,EAAK3B,MAKf9C,EAAUlB,IAAMA,EAChB,IAAInO,EAAWqP,EACf3X,EAAOC,QAAUqI,G,qBCxvBjB,IAAIgV,EAAM,GAIRA,EAFgB,kBAAPC,IAAmD,oBAAzBA,GAAGC,kBAEhC,CACJC,QAAS,GACTC,GAAI,GACJC,MAAM,EACNC,KAAK,EAELC,iBAAiB,EACjBC,cAAc,EACdC,sBAAsB,EACtBC,cAAc,GAEa,qBAAbC,UAA4C,qBAATvW,KAE7C,CACJ+V,QAAS,GACTC,GAAI,GACJC,MAAM,EACNO,QAAQ,EACRL,iBAAiB,EACjBG,cAAc,GAEc,qBAAdG,UAEV,CACJV,QAAS,GACTC,GAAI,GACJC,MAAM,EACNO,QAAQ,EAERL,iBAAiB,EACjBC,cAAc,EACdE,cAAc,GAGVI,EAAOD,UAAUE,WAGzB,IAAI/V,EAAWgV,EAIf,SAASc,EAAOE,GACd,IAAIZ,EAAK,GACLD,EAAU,GAeVc,EAAUD,EAAGE,MAAM,qBAGnBC,EAAKH,EAAGE,MAAM,mBACfF,EAAGE,MAAM,6BACRE,EAAOJ,EAAGE,MAAM,kBAEhBG,EAAS,kBAAkBC,KAAKN,GAiDpC,OA5BIC,IACFd,EAAQc,SAAU,EAClBd,EAAQoB,QAAUN,EAAQ,IAKxBE,IACFhB,EAAQgB,IAAK,EACbhB,EAAQoB,QAAUJ,EAAG,IAGnBC,IACFjB,EAAQiB,MAAO,EACfjB,EAAQoB,QAAUH,EAAK,IAKrBC,IACFlB,EAAQkB,QAAS,GAQZ,CACLlB,QAASA,EACTC,GAAIA,EACJC,MAAM,EAGNE,kBAAmBI,SAASa,cAAc,UAAUjG,WACpDiF,aAAiC,qBAAZiB,QAIrBhB,qBAAsB,iBAAkBiB,SAAWvB,EAAQgB,KAAOhB,EAAQiB,KAE1EO,uBAQA,kBAAmBD,SAAWvB,EAAQiB,MAAQjB,EAAQgB,IAAMhB,EAAQoB,SAAW,IAE/Eb,aAAkC,qBAAbC,UAmBzBje,EAAOC,QAAUqI,G,uBCzKjB,IAAI4W,EAAY,EAAQ,QAEpBC,EAAY,EAAQ,QAEpBC,EAAkBD,EAAUC,gBAC5BC,EAAqB,CAAC,CAAC,aAAc,GAAI,CAAC,gBAAiB,GAAI,CAAC,gBAAiB,GAAI,CAAC,cAAe,QAAS,CAAC,UAAW,QAAS,CAAC,WAAY,SAAU,CAAC,aAAc,KAGzKxN,EAAQ,SAAU3G,GACpBxL,KAAK4f,WAAWpU,GAAM,IAGxB,SAASqU,EAAqB5S,EAAKqH,EAAKX,GACtC,IAAI1S,EAAa,MAATqT,EAAIrT,EAAY,EAAIqT,EAAIrT,EAC5B6Y,EAAe,MAAVxF,EAAIwF,GAAa,EAAIxF,EAAIwF,GAC9B5Y,EAAa,MAAToT,EAAIpT,EAAY,EAAIoT,EAAIpT,EAC5B6Y,EAAe,MAAVzF,EAAIyF,GAAa,EAAIzF,EAAIyF,GAE7BzF,EAAI9E,SACPvO,EAAIA,EAAI0S,EAAK9E,MAAQ8E,EAAK1S,EAC1B6Y,EAAKA,EAAKnG,EAAK9E,MAAQ8E,EAAK1S,EAC5BC,EAAIA,EAAIyS,EAAK7E,OAAS6E,EAAKzS,EAC3B6Y,EAAKA,EAAKpG,EAAK7E,OAAS6E,EAAKzS,GAI/BD,EAAIoC,MAAMpC,GAAK,EAAIA,EACnB6Y,EAAKzW,MAAMyW,GAAM,EAAIA,EACrB5Y,EAAImC,MAAMnC,GAAK,EAAIA,EACnB6Y,EAAK1W,MAAM0W,GAAM,EAAIA,EACrB,IAAI+F,EAAiB7S,EAAI4S,qBAAqB5e,EAAGC,EAAG4Y,EAAIC,GACxD,OAAO+F,EAGT,SAASC,EAAqB9S,EAAKqH,EAAKX,GACtC,IAAI9E,EAAQ8E,EAAK9E,MACbC,EAAS6E,EAAK7E,OACd1I,EAAMvF,KAAKuF,IAAIyI,EAAOC,GACtB7N,EAAa,MAATqT,EAAIrT,EAAY,GAAMqT,EAAIrT,EAC9BC,EAAa,MAAToT,EAAIpT,EAAY,GAAMoT,EAAIpT,EAC9BxE,EAAa,MAAT4X,EAAI5X,EAAY,GAAM4X,EAAI5X,EAE7B4X,EAAI9E,SACPvO,EAAIA,EAAI4N,EAAQ8E,EAAK1S,EACrBC,EAAIA,EAAI4N,EAAS6E,EAAKzS,EACtBxE,GAAQ0J,GAGV,IAAI0Z,EAAiB7S,EAAI8S,qBAAqB9e,EAAGC,EAAG,EAAGD,EAAGC,EAAGxE,GAC7D,OAAOojB,EAGT3N,EAAMtQ,UAAY,CAChByH,YAAa6I,EAKb6I,KAAM,OAKNE,OAAQ,KAKR8E,QAAS,EAKTC,YAAa,KAKbC,cAAe,KAUf9E,SAAU,KAKV+E,eAAgB,EAKhBC,WAAY,EAKZC,cAAe,EAKfC,cAAe,EAKfC,UAAW,EAMXC,eAAe,EAOfrR,KAAM,KASNsR,KAAM,KAONC,SAAU,KAMVC,UAAW,KAMXC,WAAY,KAOZC,SAAU,KAMVC,WAAY,KAMZC,QAAS,KAKTC,SAAU,OAKVC,WAAY,KAKZC,UAAW,KAMXC,WAAY,KASZC,gBAAiB,EAKjBC,eAAgB,KAShBC,aAAc,SAMdC,SAAU,KAMVC,WAAY,KAKZC,UAAW,KAKXC,kBAAmB,KAKnBC,aAAc,EAKdC,gBAAiB,cAKjBC,eAAgB,EAKhBC,kBAAmB,EAKnBC,kBAAmB,EAKnBC,mBAAoB,cAKpBC,kBAAmB,EAKnBC,qBAAsB,EAKtBC,qBAAsB,EAQtBC,eAAe,EAQfC,aAAc,EAedC,WAAY,KAKZC,oBAAqB,KAKrBC,gBAAiB,KAKjBC,gBAAiB,EAKjBC,iBAAkB,EAMlBC,YAAa,KAMbC,KAAM,KAMNC,SAAU,KAMVC,MAAO,KAKPtU,KAAM,SAAUvB,EAAK8V,EAAI3U,GACvB,IAAIC,EAAQrO,KACRgjB,EAAY5U,GAAUA,EAAOC,MAG7B4U,GAAiBD,GAAa/V,EAAIiW,iBAAmBxD,EAAgByD,WACzElW,EAAIiW,eAAiBxD,EAAgByD,WAErC,IAAK,IAAIrkB,EAAI,EAAGA,EAAI6gB,EAAmBhiB,OAAQmB,IAAK,CAClD,IAAIskB,EAAOzD,EAAmB7gB,GAC1BukB,EAAYD,EAAK,IAEjBH,GAAiB5U,EAAMgV,KAAeL,EAAUK,MAElDpW,EAAIoW,GAAa7D,EAAUvS,EAAKoW,EAAWhV,EAAMgV,IAAcD,EAAK,KAoBxE,IAhBIH,GAAiB5U,EAAM2M,OAASgI,EAAUhI,QAC5C/N,EAAIqW,UAAYjV,EAAM2M,OAGpBiI,GAAiB5U,EAAM6M,SAAW8H,EAAU9H,UAC9CjO,EAAIsW,YAAclV,EAAM6M,SAGtB+H,GAAiB5U,EAAM2R,UAAYgD,EAAUhD,WAC/C/S,EAAIuW,YAA+B,MAAjBnV,EAAM2R,QAAkB,EAAI3R,EAAM2R,UAGlDiD,GAAiB5U,EAAMyU,QAAUE,EAAUF,SAC7C7V,EAAIwW,yBAA2BpV,EAAMyU,OAAS,eAG5C9iB,KAAK0jB,YAAa,CACpB,IAAInD,EAAYlS,EAAMkS,UACtBtT,EAAIsT,UAAYA,GAAavgB,KAAKwgB,eAAiBuC,GAAMA,EAAGY,aAAeZ,EAAGY,eAAiB,KAGnGC,QAAS,WACP,IAAI5I,EAAOhb,KAAKgb,KAChB,OAAe,MAARA,GAAyB,SAATA,GAEzB0I,UAAW,WACT,IAAIxI,EAASlb,KAAKkb,OAClB,OAAiB,MAAVA,GAA6B,SAAXA,GAAqBlb,KAAKugB,UAAY,GAUjEX,WAAY,SAAUiE,EAAYC,GAChC,GAAID,EACF,IAAK,IAAIvR,KAAQuR,GACXA,EAAWvc,eAAegL,KAAwB,IAAdwR,KAAqC,IAAdA,EAAuB9jB,KAAKsH,eAAegL,GAA4B,MAApBuR,EAAWvR,MAC3HtS,KAAKsS,GAAQuR,EAAWvR,KAWhC6B,IAAK,SAAUG,EAAK5W,GACC,kBAAR4W,EACTtU,KAAKsU,GAAO5W,EAEZsC,KAAK4f,WAAWtL,GAAK,IAQzB5C,MAAO,WACL,IAAIqS,EAAW,IAAI/jB,KAAKsJ,YAExB,OADAya,EAASnE,WAAW5f,MAAM,GACnB+jB,GAETC,YAAa,SAAU/W,EAAKqH,EAAKX,GAK/B,IAJA,IAAIsQ,EAAsB,WAAb3P,EAAItJ,KAAoB+U,EAAuBF,EACxDC,EAAiBmE,EAAOhX,EAAKqH,EAAKX,GAClCuQ,EAAa5P,EAAI4P,WAEZplB,EAAI,EAAGA,EAAIolB,EAAWvmB,OAAQmB,IACrCghB,EAAeqE,aAAaD,EAAWplB,GAAGf,OAAQmmB,EAAWplB,GAAG0C,OAGlE,OAAOse,IAKX,IAFA,IAAIsE,EAAajS,EAAMtQ,UAEd/C,EAAI,EAAGA,EAAI6gB,EAAmBhiB,OAAQmB,IAAK,CAClD,IAAIskB,EAAOzD,EAAmB7gB,GAExBskB,EAAK,KAAMgB,IACfA,EAAWhB,EAAK,IAAMA,EAAK,IAK/BjR,EAAM6R,YAAcI,EAAWJ,YAC/B,IAAIpb,EAAWuJ,EACf7R,EAAOC,QAAUqI,G,sBC5djB,IAAIsE,EAAM,EAEY,qBAAXoS,SACTpS,EAAMrM,KAAK0W,IAAI+H,OAAOxI,kBAAoB,EAAG,IAe/C,IAAIuN,EAAY,EAEZvN,EAAmB5J,EACvB3M,EAAQ8jB,UAAYA,EACpB9jB,EAAQuW,iBAAmBA,G,qBCtB3B,IAAIwN,EAAQ,EAAQ,QAEhBpW,EAAS,EAAQ,QAEjBqW,EAAO,EAAQ,QAEfC,EAAS,EAAQ,QAEjBC,EAAO,EAAQ,QAEfC,EAAU,EAAQ,QAElBC,EAAO,EAAQ,QAEfC,EAAO,EAAQ,QAEfC,EAAU,EAAQ,QAElBC,EAAW,EAAQ,QAEnBC,EAAiB,EAAQ,QAEzB5S,EAAQ,EAAQ,QAEhBlH,EAAS,EAAQ,QAEjB+Z,EAAQ,EAAQ,QAEhBC,EAAmBD,EAAMC,iBAEzBxjB,EAAQ,EAAQ,QAEhByjB,EAAWzjB,EAAMyjB,SACjBC,EAAS1jB,EAAM0jB,OACfC,EAAW3jB,EAAM2jB,SACjBC,EAAO5jB,EAAM4jB,KACbC,EAAO7jB,EAAM6jB,KAKbC,EAAgB,SAQpB,SAASC,EAASC,GAChB,GAAIP,EAASO,GAAM,CACjB,IAAIC,EAAS,IAAIC,UACjBF,EAAMC,EAAOE,gBAAgBH,EAAK,YAIf,IAAjBA,EAAII,WACNJ,EAAMA,EAAIK,YAIZ,MAAsC,QAA/BL,EAAIM,SAASC,eAA4C,IAAjBP,EAAII,SACjDJ,EAAMA,EAAIQ,YAGZ,OAAOR,EAGT,SAASS,IACPlmB,KAAKmmB,MAAQ,GACbnmB,KAAKomB,MAAQ,KACbpmB,KAAKqmB,WAAY,EACjBrmB,KAAKsmB,SAAU,EAGjBJ,EAAUrkB,UAAUiE,MAAQ,SAAUygB,EAAKC,GACzCA,EAAMA,GAAO,GACb,IAAIf,EAAMD,EAASe,GAEnB,IAAKd,EACH,MAAM,IAAI5lB,MAAM,eAGlB,IAAI4J,EAAO,IAAI6a,EACftkB,KAAKomB,MAAQ3c,EAEb,IAAIgd,EAAUhB,EAAIiB,aAAa,YAAc,GAGzC7X,EAAQ8X,WAAWlB,EAAIiB,aAAa,UAAYF,EAAI3X,OACpDC,EAAS6X,WAAWlB,EAAIiB,aAAa,WAAaF,EAAI1X,QAE1DzL,MAAMwL,KAAWA,EAAQ,MACzBxL,MAAMyL,KAAYA,EAAS,MAE3B8X,EAAgBnB,EAAKhc,EAAM,MAAM,GACjC,IAQIod,EACAC,EATAC,EAAQtB,EAAIK,WAEhB,MAAOiB,EACL/mB,KAAKgnB,WAAWD,EAAOtd,GAEvBsd,EAAQA,EAAMd,YAMhB,GAAIQ,EAAS,CACX,IAAIQ,EAAa5B,EAAKoB,GAASS,MAAM3B,GAEjC0B,EAAWtpB,QAAU,IACvBkpB,EAAc,CACZ5lB,EAAG0lB,WAAWM,EAAW,IAAM,GAC/B/lB,EAAGylB,WAAWM,EAAW,IAAM,GAC/BpY,MAAO8X,WAAWM,EAAW,IAC7BnY,OAAQ6X,WAAWM,EAAW,MAKpC,GAAIJ,GAAwB,MAAThY,GAA2B,MAAVC,IAClCgY,EAAmBK,EAAqBN,EAAahY,EAAOC,IAEvD0X,EAAIY,eAAe,CAOtB,IAAIC,EAAS5d,EACbA,EAAO,IAAI6a,EACX7a,EAAK6d,IAAID,GACTA,EAAO1b,MAAQmb,EAAiBnb,MAAM7J,QACtCulB,EAAO5b,SAAWqb,EAAiBrb,SAAS3J,QAkBhD,OAZK0kB,EAAIe,gBAA2B,MAAT1Y,GAA2B,MAAVC,GAC1CrF,EAAK+d,YAAY,IAAI/C,EAAK,CACxBgD,MAAO,CACLxmB,EAAG,EACHC,EAAG,EACH2N,MAAOA,EACPC,OAAQA,MAMP,CACLrF,KAAMA,EACNoF,MAAOA,EACPC,OAAQA,EACR+X,YAAaA,EACbC,iBAAkBA,IAItBZ,EAAUrkB,UAAUmlB,WAAa,SAAUU,EAASC,GAClD,IAWI5E,EAXAgD,EAAW2B,EAAQ3B,SAASC,cAahC,GATiB,SAAbD,EAEF/lB,KAAKqmB,WAAY,EACK,SAAbN,IACT/lB,KAAKsmB,SAAU,GAKbtmB,KAAKqmB,UAAW,CAClB,IAAIX,EAASkC,EAAc7B,GAE3B,GAAIL,EAAQ,CACV,IAAImC,EAAMnC,EAAOtiB,KAAKpD,KAAM0nB,GACxBI,EAAKJ,EAAQhB,aAAa,MAE1BoB,IACF9nB,KAAKmmB,MAAM2B,GAAMD,QAGhB,CACDnC,EAASqC,EAAYhC,GAErBL,IACF3C,EAAK2C,EAAOtiB,KAAKpD,KAAM0nB,EAASC,GAChCA,EAAYL,IAAIvE,IAIpB,IAAIgE,EAAQW,EAAQ5B,WAEpB,MAAOiB,EACkB,IAAnBA,EAAMlB,UACR7lB,KAAKgnB,WAAWD,EAAOhE,GAIF,IAAnBgE,EAAMlB,UAAkB7lB,KAAKsmB,SAC/BtmB,KAAKgoB,WAAWjB,EAAOhE,GAGzBgE,EAAQA,EAAMd,YAIC,SAAbF,EACF/lB,KAAKqmB,WAAY,EACK,SAAbN,IACT/lB,KAAKsmB,SAAU,IAInBJ,EAAUrkB,UAAUmmB,WAAa,SAAUN,EAASC,GAClD,GAAyB,IAArBD,EAAQ7B,SAAgB,CAC1B,IAAI3c,EAAKwe,EAAQhB,aAAa,OAAS,EACnCvd,EAAKue,EAAQhB,aAAa,OAAS,EACvC1mB,KAAKioB,QAAUtB,WAAWzd,GAC1BlJ,KAAKkoB,QAAUvB,WAAWxd,GAG5B,IAAIgG,EAAO,IAAIoV,EAAK,CAClBlW,MAAO,CACLc,KAAMuY,EAAQS,YACd/F,eAAe,GAEjB3W,SAAU,CAACzL,KAAKioB,QAAU,EAAGjoB,KAAKkoB,QAAU,KAE9CE,EAAaT,EAAaxY,GAC1ByX,EAAgBc,EAASvY,EAAMnP,KAAKmmB,OACpC,IAAItF,EAAW1R,EAAKd,MAAMwS,SAEtBA,GAAYA,EAAW,IAEzB1R,EAAKd,MAAMwS,SAAW,EACtB1R,EAAKxD,MAAQwD,EAAKxD,OAAS,CAAC,EAAG,GAC/BwD,EAAKxD,MAAM,IAAMkV,EAAW,EAC5B1R,EAAKxD,MAAM,IAAMkV,EAAW,GAG9B,IAAIlN,EAAOxE,EAAKE,kBAGhB,OAFArP,KAAKioB,QAAUtU,EAAK9E,MACpB8Y,EAAYL,IAAInY,GACTA,GAGT,IAAI4Y,EAAc,CAChB,EAAK,SAAUL,EAASC,GACtB,IAAIU,EAAI,IAAI/D,EAGZ,OAFA8D,EAAaT,EAAaU,GAC1BzB,EAAgBc,EAASW,EAAGroB,KAAKmmB,OAC1BkC,GAET,KAAQ,SAAUX,EAASC,GACzB,IAAIhU,EAAO,IAAI8Q,EAWf,OAVA2D,EAAaT,EAAahU,GAC1BiT,EAAgBc,EAAS/T,EAAM3T,KAAKmmB,OACpCxS,EAAK2U,SAAS,CACZrnB,EAAG0lB,WAAWe,EAAQhB,aAAa,MAAQ,GAC3CxlB,EAAGylB,WAAWe,EAAQhB,aAAa,MAAQ,GAC3C7X,MAAO8X,WAAWe,EAAQhB,aAAa,UAAY,GACnD5X,OAAQ6X,WAAWe,EAAQhB,aAAa,WAAa,KAIhD/S,GAET,OAAU,SAAU+T,EAASC,GAC3B,IAAIY,EAAS,IAAI/D,EAQjB,OAPA4D,EAAaT,EAAaY,GAC1B3B,EAAgBc,EAASa,EAAQvoB,KAAKmmB,OACtCoC,EAAOD,SAAS,CACdhO,GAAIqM,WAAWe,EAAQhB,aAAa,OAAS,GAC7CnM,GAAIoM,WAAWe,EAAQhB,aAAa,OAAS,GAC7ChqB,EAAGiqB,WAAWe,EAAQhB,aAAa,MAAQ,KAEtC6B,GAET,KAAQ,SAAUb,EAASC,GACzB,IAAIa,EAAO,IAAI7D,EASf,OARAyD,EAAaT,EAAaa,GAC1B5B,EAAgBc,EAASc,EAAMxoB,KAAKmmB,OACpCqC,EAAKF,SAAS,CACZ1O,GAAI+M,WAAWe,EAAQhB,aAAa,OAAS,GAC7C7M,GAAI8M,WAAWe,EAAQhB,aAAa,OAAS,GAC7C5M,GAAI6M,WAAWe,EAAQhB,aAAa,OAAS,GAC7C3M,GAAI4M,WAAWe,EAAQhB,aAAa,OAAS,KAExC8B,GAET,QAAW,SAAUd,EAASC,GAC5B,IAAIc,EAAU,IAAI/D,EASlB,OARA0D,EAAaT,EAAac,GAC1B7B,EAAgBc,EAASe,EAASzoB,KAAKmmB,OACvCsC,EAAQH,SAAS,CACfhO,GAAIqM,WAAWe,EAAQhB,aAAa,OAAS,GAC7CnM,GAAIoM,WAAWe,EAAQhB,aAAa,OAAS,GAC7C5J,GAAI6J,WAAWe,EAAQhB,aAAa,OAAS,GAC7C3J,GAAI4J,WAAWe,EAAQhB,aAAa,OAAS,KAExC+B,GAET,QAAW,SAAUf,EAASC,GAC5B,IAAI3mB,EAAS0mB,EAAQhB,aAAa,UAE9B1lB,IACFA,EAAS0nB,EAAY1nB,IAGvB,IAAI2nB,EAAU,IAAI9D,EAAQ,CACxB4C,MAAO,CACLzmB,OAAQA,GAAU,MAKtB,OAFAonB,EAAaT,EAAagB,GAC1B/B,EAAgBc,EAASiB,EAAS3oB,KAAKmmB,OAChCwC,GAET,SAAY,SAAUjB,EAASC,GAC7B,IAAIlM,EAAO,IAAImJ,EACfwD,EAAaT,EAAalM,GAC1BmL,EAAgBc,EAASjM,EAAMzb,KAAKmmB,OACpC,IAAInlB,EAAS0mB,EAAQhB,aAAa,UAE9B1lB,IACFA,EAAS0nB,EAAY1nB,IAGvB,IAAI4nB,EAAW,IAAI9D,EAAS,CAC1B2C,MAAO,CACLzmB,OAAQA,GAAU,MAGtB,OAAO4nB,GAET,MAAS,SAAUlB,EAASC,GAC1B,IAAIkB,EAAM,IAAI3a,EAUd,OATAka,EAAaT,EAAakB,GAC1BjC,EAAgBc,EAASmB,EAAK7oB,KAAKmmB,OACnC0C,EAAIzU,SAAS,CACX7F,MAAOmZ,EAAQhB,aAAa,cAC5BzlB,EAAGymB,EAAQhB,aAAa,KACxBxlB,EAAGwmB,EAAQhB,aAAa,KACxB7X,MAAO6Y,EAAQhB,aAAa,SAC5B5X,OAAQ4Y,EAAQhB,aAAa,YAExBmC,GAET,KAAQ,SAAUnB,EAASC,GACzB,IAAI1mB,EAAIymB,EAAQhB,aAAa,MAAQ,EACjCxlB,EAAIwmB,EAAQhB,aAAa,MAAQ,EACjCxd,EAAKwe,EAAQhB,aAAa,OAAS,EACnCvd,EAAKue,EAAQhB,aAAa,OAAS,EACvC1mB,KAAKioB,OAAStB,WAAW1lB,GAAK0lB,WAAWzd,GACzClJ,KAAKkoB,OAASvB,WAAWzlB,GAAKylB,WAAWxd,GACzC,IAAIkf,EAAI,IAAI/D,EAGZ,OAFA8D,EAAaT,EAAaU,GAC1BzB,EAAgBc,EAASW,EAAGroB,KAAKmmB,OAC1BkC,GAET,MAAS,SAAUX,EAASC,GAC1B,IAAI1mB,EAAIymB,EAAQhB,aAAa,KACzBxlB,EAAIwmB,EAAQhB,aAAa,KAEpB,MAALzlB,IAEFjB,KAAKioB,OAAStB,WAAW1lB,IAGlB,MAALC,IAEFlB,KAAKkoB,OAASvB,WAAWzlB,IAG3B,IAAIgI,EAAKwe,EAAQhB,aAAa,OAAS,EACnCvd,EAAKue,EAAQhB,aAAa,OAAS,EACnC2B,EAAI,IAAI/D,EAKZ,OAJA8D,EAAaT,EAAaU,GAC1BzB,EAAgBc,EAASW,EAAGroB,KAAKmmB,OACjCnmB,KAAKioB,QAAU/e,EACflJ,KAAKkoB,QAAU/e,EACRkf,GAET,KAAQ,SAAUX,EAASC,GAIzB,IAAIzK,EAAIwK,EAAQhB,aAAa,MAAQ,GAEjCjL,EAAOwJ,EAAiB/H,GAG5B,OAFAkL,EAAaT,EAAalM,GAC1BmL,EAAgBc,EAASjM,EAAMzb,KAAKmmB,OAC7B1K,IAGPmM,EAAgB,CAClB,eAAkB,SAAUF,GAC1B,IAAI9N,EAAKkP,SAASpB,EAAQhB,aAAa,OAAS,EAAG,IAC/C7M,EAAKiP,SAASpB,EAAQhB,aAAa,OAAS,EAAG,IAC/C5M,EAAKgP,SAASpB,EAAQhB,aAAa,OAAS,GAAI,IAChD3M,EAAK+O,SAASpB,EAAQhB,aAAa,OAAS,EAAG,IAC/CqC,EAAW,IAAIhE,EAAenL,EAAIC,EAAIC,EAAIC,GAI9C,OAFAiP,EAAyBtB,EAASqB,GAE3BA,GAET,eAAkB,SAAUrB,MAG9B,SAASsB,EAAyBtB,EAASqB,GACzC,IAAI1gB,EAAOqf,EAAQ5B,WAEnB,MAAOzd,EAAM,CACX,GAAsB,IAAlBA,EAAKwd,SAAgB,CACvB,IAAI9nB,EAASsK,EAAKqe,aAAa,UAI7B3oB,EAFEA,EAAOkrB,QAAQ,KAAO,EAEfH,SAAS/qB,EAAQ,IAAM,IACvBA,EAEA4oB,WAAW5oB,GAEX,EAGX,IAAImrB,EAAY7gB,EAAKqe,aAAa,eAAiB,UACnDqC,EAAS5E,aAAapmB,EAAQmrB,GAGhC7gB,EAAOA,EAAK4d,aAIhB,SAASmC,EAAalc,EAAQ6a,GACxB7a,GAAUA,EAAOid,mBACdpC,EAAMoC,mBACTpC,EAAMoC,iBAAmB,IAG3B/D,EAAS2B,EAAMoC,iBAAkBjd,EAAOid,mBAI5C,SAAST,EAAYU,GAInB,IAHA,IAAIC,EAAOhE,EAAK+D,GAAclC,MAAM3B,GAChCvkB,EAAS,GAEJlC,EAAI,EAAGA,EAAIuqB,EAAK1rB,OAAQmB,GAAK,EAAG,CACvC,IAAImC,EAAI0lB,WAAW0C,EAAKvqB,IACpBoC,EAAIylB,WAAW0C,EAAKvqB,EAAI,IAC5BkC,EAAOmC,KAAK,CAAClC,EAAGC,IAGlB,OAAOF,EAGT,IAAIsoB,EAAgB,CAClB,KAAQ,OACR,OAAU,SACV,eAAgB,YAChB,QAAW,UACX,eAAgB,cAChB,iBAAkB,gBAClB,mBAAoB,WACpB,oBAAqB,iBACrB,iBAAkB,UAClB,kBAAmB,WACnB,oBAAqB,aACrB,cAAe,aACf,YAAa,WACb,aAAc,YACd,cAAe,aACf,aAAc,YACd,qBAAsB,gBAGxB,SAAS1C,EAAgBc,EAAS3E,EAAIwG,EAAMC,GAC1C,IAAIC,EAAU1G,EAAGoG,kBAAoB,GACjCO,EAAuB,SAAZ3G,EAAG/X,KAElB,GAAyB,IAArB0c,EAAQ7B,WACV8D,EAAwBjC,EAAS3E,GACjCoC,EAAOsE,EAASG,EAAoBlC,KAE/B8B,GACH,IAAK,IAAIK,KAAeP,EACtB,GAAIA,EAAchiB,eAAeuiB,GAAc,CAC7C,IAAIC,EAAYpC,EAAQhB,aAAamD,GAEpB,MAAbC,IACFL,EAAQH,EAAcO,IAAgBC,GAOhD,IAAIC,EAAaL,EAAW,WAAa,OACrCM,EAAeN,EAAW,aAAe,SAC7C3G,EAAG1U,MAAQ0U,EAAG1U,OAAS,IAAI8D,EAC3B,IAAI8X,EAAUlH,EAAG1U,MACD,MAAhBob,EAAQzO,MAAgBiP,EAAQ9V,IAAI4V,EAAYG,EAAST,EAAQzO,KAAMuO,IACrD,MAAlBE,EAAQvO,QAAkB+O,EAAQ9V,IAAI6V,EAAcE,EAAST,EAAQvO,OAAQqO,IAC7EjE,EAAK,CAAC,YAAa,UAAW,cAAe,gBAAiB,aAAc,aAAa,SAAU3gB,GACjG,IAAIwlB,EAA0B,cAAbxlB,GAA4B+kB,EAAW,kBAAoB/kB,EACvD,MAArB8kB,EAAQ9kB,IAAqBslB,EAAQ9V,IAAIgW,EAAYxD,WAAW8C,EAAQ9kB,QAGrE8kB,EAAQW,cAAyC,SAAzBX,EAAQW,eACnCX,EAAQW,aAAe,cAGI,eAAzBX,EAAQW,eACVX,EAAQW,aAAe,UAGC,UAAtBX,EAAQhI,YACVgI,EAAQhI,UAAY,QAGI,QAAtBgI,EAAQhI,YACVgI,EAAQhI,UAAY,SAGtB6D,EAAK,CAAC,iBAAkB,UAAW,WAAY,aAAc,aAAc,YAAa,YAAa,iBAAiB,SAAU3gB,GACzG,MAArB8kB,EAAQ9kB,IAAqBslB,EAAQ9V,IAAIxP,EAAU8kB,EAAQ9kB,OAGzD8kB,EAAQrO,WACV2H,EAAG1U,MAAM+M,SAAWiK,EAAKoE,EAAQrO,UAAU8L,MAAM3B,IAG/C0E,EAAQD,IAA2C,SAA1BC,EAAQD,KAEnCjH,EAAGiH,IAAgB,GAGrBjH,EAAGoG,iBAAmBM,EAGxB,IAAIY,EAAW,mBAEf,SAASH,EAASI,EAAKf,GAIrB,IAAIgB,EAAWhB,GAAQe,GAAOA,EAAIxL,MAAMuL,GAExC,GAAIE,EAAU,CACZ,IAAIC,EAAMnF,EAAKkF,EAAS,IACpB1C,EAAM0B,EAAKiB,GACf,OAAO3C,EAGT,OAAOyC,EAGT,IAAIG,EAAiB,mEAErB,SAASd,EAAwBjC,EAASzJ,GACxC,IAAInS,EAAY4b,EAAQhB,aAAa,aAErC,GAAI5a,EAAW,CACbA,EAAYA,EAAU4e,QAAQ,KAAM,KACpC,IAAIzsB,EAAI,KACJ0sB,EAAe,GACnB7e,EAAU4e,QAAQD,GAAgB,SAAUH,EAAKtf,EAAMtN,GACrDitB,EAAaxnB,KAAK6H,EAAMtN,MAG1B,IAAK,IAAIoB,EAAI6rB,EAAahtB,OAAS,EAAGmB,EAAI,EAAGA,GAAK,EAAG,CACnD,IAAIpB,EAAQitB,EAAa7rB,GACrBkM,EAAO2f,EAAa7rB,EAAI,GAG5B,OAFAb,EAAIA,GAAKgN,EAAOmB,SAERpB,GACN,IAAK,YACHtN,EAAQ2nB,EAAK3nB,GAAOwpB,MAAM3B,GAC1Bta,EAAOyF,UAAUzS,EAAGA,EAAG,CAAC0oB,WAAWjpB,EAAM,IAAKipB,WAAWjpB,EAAM,IAAM,KACrE,MAEF,IAAK,QACHA,EAAQ2nB,EAAK3nB,GAAOwpB,MAAM3B,GAC1Bta,EAAOU,MAAM1N,EAAGA,EAAG,CAAC0oB,WAAWjpB,EAAM,IAAKipB,WAAWjpB,EAAM,IAAMA,EAAM,MACvE,MAEF,IAAK,SACHA,EAAQ2nB,EAAK3nB,GAAOwpB,MAAM3B,GAC1Bta,EAAO4C,OAAO5P,EAAGA,EAAG0oB,WAAWjpB,EAAM,KACrC,MAEF,IAAK,OACHA,EAAQ2nB,EAAK3nB,GAAOwpB,MAAM3B,GAC1BqF,QAAQC,KAAK,uCACb,MAEF,IAAK,SACCntB,EAAQ2nB,EAAK3nB,GAAOwpB,MAAM3B,GAC9BtnB,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxBO,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxBO,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxBO,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxBO,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxBO,EAAE,GAAK0oB,WAAWjpB,EAAM,IACxB,OAINugB,EAAK3Q,kBAAkBrP,IAK3B,IAAI6sB,EAAa,6BAEjB,SAASlB,EAAoBlC,GAC3B,IAAIrZ,EAAQqZ,EAAQhB,aAAa,SAC7BqE,EAAS,GAEb,IAAK1c,EACH,OAAO0c,EAGT,IAEIC,EAFAC,EAAY,GAChBH,EAAWnV,UAAY,EAGvB,MAAoD,OAA5CqV,EAAiBF,EAAWI,KAAK7c,IACvC4c,EAAUD,EAAe,IAAMA,EAAe,GAGhD,IAAK,IAAInB,KAAeP,EAClBA,EAAchiB,eAAeuiB,IAA0C,MAA1BoB,EAAUpB,KACzDkB,EAAOzB,EAAcO,IAAgBoB,EAAUpB,IAInD,OAAOkB,EAUT,SAAS5D,EAAqBN,EAAahY,EAAOC,GAChD,IAAI2O,EAAS5O,EAAQgY,EAAYhY,MAC7B6O,EAAS5O,EAAS+X,EAAY/X,OAC9BnD,EAAQ9K,KAAKuF,IAAIqX,EAAQC,GAEzByN,EAAe,CAACxf,EAAOA,GACvByf,EAAkB,GAAGvE,EAAY5lB,EAAI4lB,EAAYhY,MAAQ,GAAKlD,EAAQkD,EAAQ,IAAKgY,EAAY3lB,EAAI2lB,EAAY/X,OAAS,GAAKnD,EAAQmD,EAAS,GAClJ,MAAO,CACLnD,MAAOwf,EACP1f,SAAU2f,GAqBd,SAASC,EAAS9E,EAAKC,GACrB,IAAId,EAAS,IAAIQ,EACjB,OAAOR,EAAO5f,MAAMygB,EAAKC,GAG3BjmB,EAAQilB,SAAWA,EACnBjlB,EAAQ4mB,qBAAuBA,EAC/B5mB,EAAQ8qB,SAAWA,G,uBCnrBnB,IAAIC,EAAO,EAAQ,QAEfC,EAAS,EAAQ,QAEjBC,EAAaD,EAAOC,WAEpBC,EAAwB,EAAQ,QAEhC5kB,EAAW,EAAQ,QAwCnB6kB,EAAY,SAAUC,GACxBA,EAAUA,GAAW,GACrB3rB,KAAK4rB,MAAQD,EAAQC,OAAS,GAE9B5rB,KAAKkG,QAAUylB,EAAQzlB,SAAW,aAGlClG,KAAK6rB,OAAS,GACd7rB,KAAK8rB,UAAW,EAChB9rB,KAAK+rB,MACL/rB,KAAKgsB,YACLhsB,KAAKisB,YACLjsB,KAAK0H,SAAU,EACf8jB,EAAWpoB,KAAKpD,OAGlB0rB,EAAU7pB,UAAY,CACpByH,YAAaoiB,EAMbvjB,QAAS,SAAU7B,GACjBtG,KAAK6rB,OAAO1oB,KAAKmD,IAOnB4lB,YAAa,SAAU1nB,GACrBA,EAAS0D,UAAYlI,KAGrB,IAFA,IAAImsB,EAAQ3nB,EAASmE,WAEZ7J,EAAI,EAAGA,EAAIqtB,EAAMxuB,OAAQmB,IAChCkB,KAAKmI,QAAQgkB,EAAMrtB,KAQvB0J,WAAY,SAAUlC,GACpB,IAAI2V,EAAMqP,EAAKrC,QAAQjpB,KAAK6rB,OAAQvlB,GAEhC2V,GAAO,GACTjc,KAAK6rB,OAAOhW,OAAOoG,EAAK,IAQ5BmQ,eAAgB,SAAU5nB,GAGxB,IAFA,IAAI2nB,EAAQ3nB,EAASmE,WAEZ7J,EAAI,EAAGA,EAAIqtB,EAAMxuB,OAAQmB,IAChCkB,KAAKwI,WAAW2jB,EAAMrtB,IAGxB0F,EAAS0D,UAAY,MAEvBmkB,QAAS,WASP,IARA,IAAI7mB,GAAO,IAAI8mB,MAAOC,UAAYvsB,KAAKgsB,YAEnCQ,EAAQhnB,EAAOxF,KAAK+rB,MACpBI,EAAQnsB,KAAK6rB,OACbnpB,EAAMypB,EAAMxuB,OACZ8uB,EAAiB,GACjBC,EAAgB,GAEX5tB,EAAI,EAAGA,EAAI4D,EAAK5D,IAAK,CAC5B,IAAIwH,EAAO6lB,EAAMrtB,GACb6tB,EAAIrmB,EAAKsmB,KAAKpnB,EAAMgnB,GAGpBG,IACFF,EAAetpB,KAAKwpB,GACpBD,EAAcvpB,KAAKmD,IAKvB,IAASxH,EAAI,EAAGA,EAAI4D,GACdypB,EAAMrtB,GAAG+tB,cACXV,EAAMrtB,GAAKqtB,EAAMzpB,EAAM,GACvBypB,EAAMW,MACNpqB,KAEA5D,IAIJ4D,EAAM+pB,EAAe9uB,OAErB,IAASmB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvB4tB,EAAc5tB,GAAGiuB,KAAKN,EAAe3tB,IAGvCkB,KAAK+rB,MAAQvmB,EACbxF,KAAKkG,QAAQsmB,GAIbxsB,KAAKkW,QAAQ,QAASsW,GAElBxsB,KAAK4rB,MAAMoB,QACbhtB,KAAK4rB,MAAMoB,UAGfC,WAAY,WACV,IAAIjlB,EAAOhI,KAGX,SAAS4sB,IACH5kB,EAAK8jB,WACPL,EAAsBmB,IACrB5kB,EAAKN,SAAWM,EAAKqkB,WAL1BrsB,KAAK8rB,UAAW,EAShBL,EAAsBmB,IAMxBxvB,MAAO,WACL4C,KAAK+rB,OAAQ,IAAIO,MAAOC,UACxBvsB,KAAKgsB,YAAc,EAEnBhsB,KAAKitB,cAMP5kB,KAAM,WACJrI,KAAK8rB,UAAW,GAMlBrkB,MAAO,WACAzH,KAAK0H,UACR1H,KAAKisB,aAAc,IAAIK,MAAOC,UAC9BvsB,KAAK0H,SAAU,IAOnBC,OAAQ,WACF3H,KAAK0H,UACP1H,KAAKgsB,cAAe,IAAIM,MAAOC,UAAYvsB,KAAKisB,YAChDjsB,KAAK0H,SAAU,IAOnBkC,MAAO,WACL5J,KAAK6rB,OAAS,IAMhBqB,WAAY,WACV,OAAQltB,KAAK6rB,OAAOluB,QActBsW,QAAS,SAAUjS,EAAQ2pB,GACzBA,EAAUA,GAAW,GACrB,IAAInnB,EAAW,IAAIqC,EAAS7E,EAAQ2pB,EAAQnlB,KAAMmlB,EAAQ9mB,OAAQ8mB,EAAQ5mB,QAE1E,OADA/E,KAAKksB,YAAY1nB,GACVA,IAGX8mB,EAAK9W,MAAMkX,EAAWF,GACtB,IAAI5iB,EAAW8iB,EACfprB,EAAOC,QAAUqI,G,uBCtPjB,IAAIgc,EAAO,EAAQ,QAEf3M,EAAY,EAAQ,QAEpBkV,EAAgB,EAAQ,QAOxBrV,EAAWjX,KAAKuI,KAChByO,EAAUhX,KAAKuQ,IACfwG,EAAU/W,KAAKyQ,IACf8b,EAAKvsB,KAAKusB,GAEVC,EAAO,SAAU1c,GACnB,OAAO9P,KAAKuI,KAAKuH,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAGtC2c,EAAS,SAAUC,EAAG5c,GACxB,OAAQ4c,EAAE,GAAK5c,EAAE,GAAK4c,EAAE,GAAK5c,EAAE,KAAO0c,EAAKE,GAAKF,EAAK1c,KAGnD6c,EAAS,SAAUD,EAAG5c,GACxB,OAAQ4c,EAAE,GAAK5c,EAAE,GAAK4c,EAAE,GAAK5c,EAAE,IAAM,EAAI,GAAK9P,KAAK4sB,KAAKH,EAAOC,EAAG5c,KAGpE,SAAS+c,EAAW9T,EAAIC,EAAIC,EAAIC,EAAI4T,EAAInQ,EAAIV,EAAIC,EAAI6Q,EAAQhS,EAAKH,GAC/D,IAAI8B,EAAMqQ,GAAUR,EAAK,KACrBS,EAAKjW,EAAQ2F,IAAQ3D,EAAKE,GAAM,EAAMjC,EAAQ0F,IAAQ1D,EAAKE,GAAM,EACjE+T,GAAM,EAAIjW,EAAQ0F,IAAQ3D,EAAKE,GAAM,EAAMlC,EAAQ2F,IAAQ1D,EAAKE,GAAM,EACtEgU,EAASF,EAAKA,GAAM/Q,EAAKA,GAAMgR,EAAKA,GAAM/Q,EAAKA,GAE/CgR,EAAS,IACXjR,GAAMhF,EAASiW,GACfhR,GAAMjF,EAASiW,IAGjB,IAAIC,GAAKL,IAAOnQ,GAAM,EAAI,GAAK1F,GAAUgF,EAAKA,GAAMC,EAAKA,GAAMD,EAAKA,GAAMgR,EAAKA,GAAM/Q,EAAKA,GAAM8Q,EAAKA,KAAQ/Q,EAAKA,GAAMgR,EAAKA,GAAM/Q,EAAKA,GAAM8Q,EAAKA,MAAS,EACxJI,EAAMD,EAAIlR,EAAKgR,EAAK/Q,EACpBmR,EAAMF,GAAKjR,EAAK8Q,EAAK/Q,EACrBxC,GAAMV,EAAKE,GAAM,EAAMlC,EAAQ2F,GAAO0Q,EAAMpW,EAAQ0F,GAAO2Q,EAC3D3T,GAAMV,EAAKE,GAAM,EAAMlC,EAAQ0F,GAAO0Q,EAAMrW,EAAQ2F,GAAO2Q,EAC3D7Q,EAAQmQ,EAAO,CAAC,EAAG,GAAI,EAAEK,EAAKI,GAAOnR,GAAKgR,EAAKI,GAAOnR,IACtDwQ,EAAI,EAAEM,EAAKI,GAAOnR,GAAKgR,EAAKI,GAAOnR,GACnCpM,EAAI,GAAG,EAAIkd,EAAKI,GAAOnR,IAAM,EAAIgR,EAAKI,GAAOnR,GAC7CO,EAASkQ,EAAOD,EAAG5c,GAEnB2c,EAAOC,EAAG5c,KAAO,IACnB2M,EAAS8P,GAGPE,EAAOC,EAAG5c,IAAM,IAClB2M,EAAS,GAGA,IAAPE,GAAYF,EAAS,IACvBA,GAAkB,EAAI8P,GAGb,IAAP5P,GAAYF,EAAS,IACvBA,GAAkB,EAAI8P,GAGxB3R,EAAKnC,QAAQsC,EAAKtB,EAAIC,EAAIuC,EAAIC,EAAIM,EAAOC,EAAQC,EAAKC,GAGxD,IAAI2Q,EAAa,mCAObC,EAAY,sCAEhB,SAASC,EAA0BjW,GACjC,IAAKA,EACH,OAAO,IAAIH,EA8Bb,IAdA,IAIIqW,EAJAC,EAAM,EACNC,EAAM,EACNC,EAAWF,EACXG,EAAWF,EAEX/S,EAAO,IAAIxD,EACXlB,EAAMkB,EAAUlB,IAMhB4X,EAAUvW,EAAK0G,MAAMqP,GAEhBlY,EAAI,EAAGA,EAAI0Y,EAAQhxB,OAAQsY,IAAK,CAevC,IAdA,IAEI2F,EAFAgT,EAAUD,EAAQ1Y,GAClB4Y,EAASD,EAAQE,OAAO,GAUxB1tB,EAAIwtB,EAAQ9P,MAAMsP,IAAc,GAChCW,EAAO3tB,EAAEzD,OAEJmB,EAAI,EAAGA,EAAIiwB,EAAMjwB,IACxBsC,EAAEtC,GAAK6nB,WAAWvlB,EAAEtC,IAGtB,IAAIiX,EAAM,EAEV,MAAOA,EAAMgZ,EAAM,CACjB,IAAIC,EACAC,EACAnS,EACAC,EACAQ,EACAoQ,EACAnQ,EACA5D,EAAK2U,EACL1U,EAAK2U,EAET,OAAQK,GACN,IAAK,IACHN,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACHD,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACHD,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAIC,EACVyE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvBC,EAAWF,EACXG,EAAWF,EACXK,EAAS,IACT,MAEF,IAAK,IACHN,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAIC,EACVyE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvBC,EAAWF,EACXG,EAAWF,EACXK,EAAS,IACT,MAEF,IAAK,IACHN,GAAOntB,EAAE2U,KACT6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACHD,EAAMntB,EAAE2U,KACR6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACHA,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACHA,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAIE,EACVwE,EAAKnC,QAAQsC,EAAK2S,EAAKC,GACvB,MAEF,IAAK,IACH5S,EAAM7E,EAAIG,EACVuE,EAAKnC,QAAQsC,EAAKxa,EAAE2U,KAAQ3U,EAAE2U,KAAQ3U,EAAE2U,KAAQ3U,EAAE2U,KAAQ3U,EAAE2U,KAAQ3U,EAAE2U,MACtEwY,EAAMntB,EAAE2U,EAAM,GACdyY,EAAMptB,EAAE2U,EAAM,GACd,MAEF,IAAK,IACH6F,EAAM7E,EAAIG,EACVuE,EAAKnC,QAAQsC,EAAKxa,EAAE2U,KAASwY,EAAKntB,EAAE2U,KAASyY,EAAKptB,EAAE2U,KAASwY,EAAKntB,EAAE2U,KAASyY,EAAKptB,EAAE2U,KAASwY,EAAKntB,EAAE2U,KAASyY,GAC7GD,GAAOntB,EAAE2U,EAAM,GACfyY,GAAOptB,EAAE2U,EAAM,GACf,MAEF,IAAK,IACHiZ,EAAST,EACTU,EAAST,EACT,IAAI9rB,EAAM+Y,EAAK/Y,MACXwsB,EAAWzT,EAAKrD,KAEhBkW,IAAYvX,EAAIG,IAClB8X,GAAUT,EAAMW,EAASxsB,EAAM,GAC/BusB,GAAUT,EAAMU,EAASxsB,EAAM,IAGjCkZ,EAAM7E,EAAIG,EACV0C,EAAKxY,EAAE2U,KACP8D,EAAKzY,EAAE2U,KACPwY,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR0F,EAAKnC,QAAQsC,EAAKoT,EAAQC,EAAQrV,EAAIC,EAAI0U,EAAKC,GAC/C,MAEF,IAAK,IACHQ,EAAST,EACTU,EAAST,EACL9rB,EAAM+Y,EAAK/Y,MACXwsB,EAAWzT,EAAKrD,KAEhBkW,IAAYvX,EAAIG,IAClB8X,GAAUT,EAAMW,EAASxsB,EAAM,GAC/BusB,GAAUT,EAAMU,EAASxsB,EAAM,IAGjCkZ,EAAM7E,EAAIG,EACV0C,EAAK2U,EAAMntB,EAAE2U,KACb8D,EAAK2U,EAAMptB,EAAE2U,KACbwY,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT0F,EAAKnC,QAAQsC,EAAKoT,EAAQC,EAAQrV,EAAIC,EAAI0U,EAAKC,GAC/C,MAEF,IAAK,IACH5U,EAAKxY,EAAE2U,KACP8D,EAAKzY,EAAE2U,KACPwY,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAII,EACVsE,EAAKnC,QAAQsC,EAAKhC,EAAIC,EAAI0U,EAAKC,GAC/B,MAEF,IAAK,IACH5U,EAAKxY,EAAE2U,KAASwY,EAChB1U,EAAKzY,EAAE2U,KAASyY,EAChBD,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAII,EACVsE,EAAKnC,QAAQsC,EAAKhC,EAAIC,EAAI0U,EAAKC,GAC/B,MAEF,IAAK,IACHQ,EAAST,EACTU,EAAST,EACL9rB,EAAM+Y,EAAK/Y,MACXwsB,EAAWzT,EAAKrD,KAEhBkW,IAAYvX,EAAII,IAClB6X,GAAUT,EAAMW,EAASxsB,EAAM,GAC/BusB,GAAUT,EAAMU,EAASxsB,EAAM,IAGjC6rB,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAII,EACVsE,EAAKnC,QAAQsC,EAAKoT,EAAQC,EAAQV,EAAKC,GACvC,MAEF,IAAK,IACHQ,EAAST,EACTU,EAAST,EACL9rB,EAAM+Y,EAAK/Y,MACXwsB,EAAWzT,EAAKrD,KAEhBkW,IAAYvX,EAAII,IAClB6X,GAAUT,EAAMW,EAASxsB,EAAM,GAC/BusB,GAAUT,EAAMU,EAASxsB,EAAM,IAGjC6rB,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAII,EACVsE,EAAKnC,QAAQsC,EAAKoT,EAAQC,EAAQV,EAAKC,GACvC,MAEF,IAAK,IACH1R,EAAK1b,EAAE2U,KACPgH,EAAK3b,EAAE2U,KACPwH,EAAMnc,EAAE2U,KACR4X,EAAKvsB,EAAE2U,KACPyH,EAAKpc,EAAE2U,KACP6D,EAAK2U,EAAK1U,EAAK2U,EACfD,EAAMntB,EAAE2U,KACRyY,EAAMptB,EAAE2U,KACR6F,EAAM7E,EAAIK,EACVsW,EAAW9T,EAAIC,EAAI0U,EAAKC,EAAKb,EAAInQ,EAAIV,EAAIC,EAAIQ,EAAK3B,EAAKH,GACvD,MAEF,IAAK,IACHqB,EAAK1b,EAAE2U,KACPgH,EAAK3b,EAAE2U,KACPwH,EAAMnc,EAAE2U,KACR4X,EAAKvsB,EAAE2U,KACPyH,EAAKpc,EAAE2U,KACP6D,EAAK2U,EAAK1U,EAAK2U,EACfD,GAAOntB,EAAE2U,KACTyY,GAAOptB,EAAE2U,KACT6F,EAAM7E,EAAIK,EACVsW,EAAW9T,EAAIC,EAAI0U,EAAKC,EAAKb,EAAInQ,EAAIV,EAAIC,EAAIQ,EAAK3B,EAAKH,GACvD,OAIS,MAAXoT,GAA6B,MAAXA,IACpBjT,EAAM7E,EAAIM,EACVoE,EAAKnC,QAAQsC,GAEb2S,EAAME,EACND,EAAME,GAGRJ,EAAU1S,EAIZ,OADAH,EAAKR,WACEQ,EAIT,SAAS0T,EAAkB7E,EAAK9e,GAC9B,IAAI4jB,EAAYf,EAA0B/D,GAuB1C,OAtBA9e,EAAOA,GAAQ,GAEfA,EAAK6jB,UAAY,SAAU5T,GACzB,GAAIA,EAAKF,QAAS,CAChBE,EAAKF,QAAQ6T,EAAUhX,MAEvB,IAAInL,EAAMwO,EAAKtC,aAEXlM,GACFwO,EAAKwB,YAAYhQ,OAEd,CACDA,EAAMwO,EACV2T,EAAUnS,YAAYhQ,KAI1BzB,EAAKmC,eAAiB,SAAU1P,GAC9BkvB,EAAciC,EAAWnxB,GACzB+B,KAAK4T,OAAM,IAGNpI,EAST,SAASyZ,EAAiBqF,EAAK9e,GAC7B,OAAO,IAAIoZ,EAAKuK,EAAkB7E,EAAK9e,IASzC,SAAS8jB,EAAiBhF,EAAK9e,GAC7B,OAAOoZ,EAAKO,OAAOgK,EAAkB7E,EAAK9e,IAU5C,SAAS+jB,EAAUC,EAAShkB,GAI1B,IAHA,IAAIikB,EAAW,GACX/sB,EAAM8sB,EAAQ7xB,OAETmB,EAAI,EAAGA,EAAI4D,EAAK5D,IAAK,CAC5B,IAAI4wB,EAASF,EAAQ1wB,GAEhB4wB,EAAOjU,MACViU,EAAOC,kBAGLD,EAAOE,aACTF,EAAOL,UAAUK,EAAOjU,KAAMiU,EAAOjI,OAAO,GAG9CgI,EAAStsB,KAAKusB,EAAOjU,MAGvB,IAAIoU,EAAa,IAAIjL,EAAKpZ,GAc1B,OAZAqkB,EAAWF,kBAEXE,EAAWR,UAAY,SAAU5T,GAC/BA,EAAKD,WAAWiU,GAEhB,IAAIxiB,EAAMwO,EAAKtC,aAEXlM,GACFwO,EAAKwB,YAAYhQ,IAId4iB,EAGTtvB,EAAQ0kB,iBAAmBA,EAC3B1kB,EAAQ+uB,iBAAmBA,EAC3B/uB,EAAQgvB,UAAYA,G,uBCvbpB,IAAI9tB,EAAQ,EAAQ,QAEhB8N,EAAW9N,EAAM8N,SAEjBugB,EAAa,EAAQ,QAErB/hB,EAAe,EAAQ,QAU3B,SAASgiB,EAAsBvkB,GAC7BskB,EAAW1sB,KAAKpD,KAAMwL,GACtBxL,KAAKgwB,cAAgB,GACrBhwB,KAAKiwB,uBAAyB,GAC9BjwB,KAAKkwB,QAAU,EACflwB,KAAKmwB,UAAW,EAGlBJ,EAAsBluB,UAAUuR,aAAc,EAE9C2c,EAAsBluB,UAAUuuB,iBAAmB,WACjDpwB,KAAKgwB,cAAgB,GACrBhwB,KAAKiwB,uBAAyB,GAC9BjwB,KAAKkwB,QAAU,EACflwB,KAAK4T,QACL5T,KAAKmwB,UAAW,GAGlBJ,EAAsBluB,UAAUwuB,eAAiB,SAAUC,EAAaC,GAClEA,EACFvwB,KAAKiwB,uBAAuB9sB,KAAKmtB,GAEjCtwB,KAAKgwB,cAAc7sB,KAAKmtB,GAG1BtwB,KAAK4T,SAGPmc,EAAsBluB,UAAU2uB,gBAAkB,SAAUC,EAAcF,GACxEA,EAAgBA,IAAiB,EAEjC,IAAK,IAAIzxB,EAAI,EAAGA,EAAI2xB,EAAa9yB,OAAQmB,IACvCkB,KAAKqwB,eAAeI,EAAa3xB,GAAIyxB,IAIzCR,EAAsBluB,UAAU6uB,uBAAyB,SAAUhoB,GACjE,IAAK,IAAI5J,EAAIkB,KAAKkwB,QAASpxB,EAAIkB,KAAKgwB,cAAcryB,OAAQmB,IACxD4J,GAAMA,EAAG1I,KAAKgwB,cAAclxB,IAG9B,IAASA,EAAI,EAAGA,EAAIkB,KAAKiwB,uBAAuBtyB,OAAQmB,IACtD4J,GAAMA,EAAG1I,KAAKiwB,uBAAuBnxB,KAIzCixB,EAAsBluB,UAAUmrB,OAAS,WACvChtB,KAAKiM,kBAEL,IAAK,IAAInN,EAAIkB,KAAKkwB,QAASpxB,EAAIkB,KAAKgwB,cAAcryB,OAAQmB,IAAK,CAC7D,IAAIwxB,EAActwB,KAAKgwB,cAAclxB,GAErCwxB,EAAYpkB,OAASlM,KACrBswB,EAAYtD,SACZsD,EAAYpkB,OAAS,KAGvB,IAASpN,EAAI,EAAGA,EAAIkB,KAAKiwB,uBAAuBtyB,OAAQmB,IAAK,CACvDwxB,EAActwB,KAAKiwB,uBAAuBnxB,GAE9CwxB,EAAYpkB,OAASlM,KACrBswB,EAAYtD,SACZsD,EAAYpkB,OAAS,OAIzB6jB,EAAsBluB,UAAUsM,MAAQ,SAAUlB,EAAKmB,GAErD,IAAK,IAAItP,EAAIkB,KAAKkwB,QAASpxB,EAAIkB,KAAKgwB,cAAcryB,OAAQmB,IAAK,CAC7D,IAAIwxB,EAActwB,KAAKgwB,cAAclxB,GACrCwxB,EAAYjd,aAAeid,EAAYjd,YAAYpG,GACnDqjB,EAAYniB,MAAMlB,EAAKnO,IAAMkB,KAAKkwB,QAAU,KAAOlwB,KAAKgwB,cAAclxB,EAAI,IAC1EwxB,EAAYhd,YAAcgd,EAAYhd,WAAWrG,GAGnDjN,KAAKkwB,QAAUpxB,EAEf,IAASA,EAAI,EAAGA,EAAIkB,KAAKiwB,uBAAuBtyB,OAAQmB,IAAK,CACvDwxB,EAActwB,KAAKiwB,uBAAuBnxB,GAC9CwxB,EAAYjd,aAAeid,EAAYjd,YAAYpG,GACnDqjB,EAAYniB,MAAMlB,EAAW,IAANnO,EAAU,KAAOkB,KAAKiwB,uBAAuBnxB,EAAI,IACxEwxB,EAAYhd,YAAcgd,EAAYhd,WAAWrG,GAGnDjN,KAAKiwB,uBAAyB,GAC9BjwB,KAAKmwB,UAAW,GAGlB,IAAIlyB,EAAI,GAER8xB,EAAsBluB,UAAUwN,gBAAkB,WAChD,IAAKrP,KAAKsP,MAAO,CAGf,IAFA,IAAIqE,EAAO,IAAI5F,EAAa4iB,IAAUA,KAAWA,KAAWA,KAEnD7xB,EAAI,EAAGA,EAAIkB,KAAKgwB,cAAcryB,OAAQmB,IAAK,CAClD,IAAIwxB,EAActwB,KAAKgwB,cAAclxB,GACjC8xB,EAAYN,EAAYjhB,kBAAkBqC,QAE1C4e,EAAYvkB,sBACd6kB,EAAUjjB,eAAe2iB,EAAYjkB,kBAAkBpO,IAGzD0V,EAAKkd,MAAMD,GAGb5wB,KAAKsP,MAAQqE,EAGf,OAAO3T,KAAKsP,OAGdygB,EAAsBluB,UAAUd,QAAU,SAAUE,EAAGC,GACrD,IAAI4vB,EAAW9wB,KAAKyN,sBAAsBxM,EAAGC,GACzCyS,EAAO3T,KAAKqP,kBAEhB,GAAIsE,EAAK5S,QAAQ+vB,EAAS,GAAIA,EAAS,IACrC,IAAK,IAAIhyB,EAAI,EAAGA,EAAIkB,KAAKgwB,cAAcryB,OAAQmB,IAAK,CAClD,IAAIwxB,EAActwB,KAAKgwB,cAAclxB,GAErC,GAAIwxB,EAAYvvB,QAAQE,EAAGC,GACzB,OAAO,EAKb,OAAO,GAGTqO,EAASwgB,EAAuBD,GAChC,IAAIlnB,EAAWmnB,EACfzvB,EAAOC,QAAUqI,G,qBCjJjB,IAAIoH,EAAoC,qBAAjBC,aAA+BrO,MAAQqO,aAQ9D,SAAS7D,EAAOnL,EAAGC,GACjB,IAAIsB,EAAM,IAAIwN,EAAU,GAYxB,OAVS,MAAL/O,IACFA,EAAI,GAGG,MAALC,IACFA,EAAI,GAGNsB,EAAI,GAAKvB,EACTuB,EAAI,GAAKtB,EACFsB,EAUT,SAAS+J,EAAK/J,EAAKmO,GAGjB,OAFAnO,EAAI,GAAKmO,EAAE,GACXnO,EAAI,GAAKmO,EAAE,GACJnO,EAST,SAASkP,EAAMf,GACb,IAAInO,EAAM,IAAIwN,EAAU,GAGxB,OAFAxN,EAAI,GAAKmO,EAAE,GACXnO,EAAI,GAAKmO,EAAE,GACJnO,EAWT,SAAS2R,EAAI3R,EAAK7B,EAAGC,GAGnB,OAFA4B,EAAI,GAAK7B,EACT6B,EAAI,GAAK5B,EACF4B,EAUT,SAAS8kB,EAAI9kB,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACpBlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACblL,EAWT,SAASuuB,EAAYvuB,EAAKqB,EAAI6J,EAAI/M,GAGhC,OAFA6B,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GAAK/M,EACzB6B,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GAAK/M,EAClB6B,EAUT,SAASwuB,EAAIxuB,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACpBlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACblL,EAST,SAASE,EAAIiO,GACX,OAAO9P,KAAKuI,KAAK6nB,EAAUtgB,IAG7B,IAAIhT,EAAS+E,EAQb,SAASuuB,EAAUtgB,GACjB,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAGhC,IAAIugB,EAAeD,EAQnB,SAAS3kB,EAAI9J,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACpBlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACblL,EAUT,SAAS2uB,EAAI3uB,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACpBlL,EAAI,GAAKqB,EAAG,GAAK6J,EAAG,GACblL,EAUT,SAAS4uB,EAAIvtB,EAAI6J,GACf,OAAO7J,EAAG,GAAK6J,EAAG,GAAK7J,EAAG,GAAK6J,EAAG,GAUpC,SAAS/B,EAAMnJ,EAAKmO,EAAG0gB,GAGrB,OAFA7uB,EAAI,GAAKmO,EAAE,GAAK0gB,EAChB7uB,EAAI,GAAKmO,EAAE,GAAK0gB,EACT7uB,EAST,SAAS8uB,EAAU9uB,EAAKmO,GACtB,IAAIuM,EAAIxa,EAAIiO,GAUZ,OARU,IAANuM,GACF1a,EAAI,GAAK,EACTA,EAAI,GAAK,IAETA,EAAI,GAAKmO,EAAE,GAAKuM,EAChB1a,EAAI,GAAKmO,EAAE,GAAKuM,GAGX1a,EAUT,SAAS+uB,EAAS1tB,EAAI6J,GACpB,OAAO7M,KAAKuI,MAAMvF,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,KAGrF,IAAI1E,EAAOuoB,EAQX,SAASC,EAAe3tB,EAAI6J,GAC1B,OAAQ7J,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,KAAO7J,EAAG,GAAK6J,EAAG,IAG3E,IAAI+jB,EAAaD,EAOjB,SAASE,EAAOlvB,EAAKmO,GAGnB,OAFAnO,EAAI,IAAMmO,EAAE,GACZnO,EAAI,IAAMmO,EAAE,GACLnO,EAWT,SAASmvB,EAAKnvB,EAAKqB,EAAI6J,EAAIxQ,GAGzB,OAFAsF,EAAI,GAAKqB,EAAG,GAAK3G,GAAKwQ,EAAG,GAAK7J,EAAG,IACjCrB,EAAI,GAAKqB,EAAG,GAAK3G,GAAKwQ,EAAG,GAAK7J,EAAG,IAC1BrB,EAUT,SAASmL,EAAenL,EAAKmO,EAAG1S,GAC9B,IAAIgD,EAAI0P,EAAE,GACNzP,EAAIyP,EAAE,GAGV,OAFAnO,EAAI,GAAKvE,EAAE,GAAKgD,EAAIhD,EAAE,GAAKiD,EAAIjD,EAAE,GACjCuE,EAAI,GAAKvE,EAAE,GAAKgD,EAAIhD,EAAE,GAAKiD,EAAIjD,EAAE,GAC1BuE,EAUT,SAAS4D,EAAI5D,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAK3B,KAAKuF,IAAIvC,EAAG,GAAI6J,EAAG,IAC5BlL,EAAI,GAAK3B,KAAKuF,IAAIvC,EAAG,GAAI6J,EAAG,IACrBlL,EAUT,SAAS+U,EAAI/U,EAAKqB,EAAI6J,GAGpB,OAFAlL,EAAI,GAAK3B,KAAK0W,IAAI1T,EAAG,GAAI6J,EAAG,IAC5BlL,EAAI,GAAK3B,KAAK0W,IAAI1T,EAAG,GAAI6J,EAAG,IACrBlL,EAGTjC,EAAQ6L,OAASA,EACjB7L,EAAQgM,KAAOA,EACfhM,EAAQmR,MAAQA,EAChBnR,EAAQ4T,IAAMA,EACd5T,EAAQ+mB,IAAMA,EACd/mB,EAAQwwB,YAAcA,EACtBxwB,EAAQywB,IAAMA,EACdzwB,EAAQmC,IAAMA,EACdnC,EAAQ5C,OAASA,EACjB4C,EAAQ0wB,UAAYA,EACpB1wB,EAAQ2wB,aAAeA,EACvB3wB,EAAQ+L,IAAMA,EACd/L,EAAQ4wB,IAAMA,EACd5wB,EAAQ6wB,IAAMA,EACd7wB,EAAQoL,MAAQA,EAChBpL,EAAQ+wB,UAAYA,EACpB/wB,EAAQgxB,SAAWA,EACnBhxB,EAAQyI,KAAOA,EACfzI,EAAQixB,eAAiBA,EACzBjxB,EAAQkxB,WAAaA,EACrBlxB,EAAQmxB,OAASA,EACjBnxB,EAAQoxB,KAAOA,EACfpxB,EAAQoN,eAAiBA,EACzBpN,EAAQ6F,IAAMA,EACd7F,EAAQgX,IAAMA,G,kCCxTd,IAAIqa,EAAI,EAAQ,QACZliB,EAAU,EAAQ,QAItBkiB,EAAE,CAAE5vB,OAAQ,QAAS6vB,OAAO,EAAMC,OAAQ,GAAGpiB,SAAWA,GAAW,CACjEA,QAASA,K,uBCPX,IAAIqiB,EAAM,EAAQ,QAEdC,EAAiB,CACnB,YAAe,CAAC,EAAG,EAAG,EAAG,GACzB,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,aAAgB,CAAC,IAAK,IAAK,IAAK,GAChC,KAAQ,CAAC,EAAG,IAAK,IAAK,GACtB,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,OAAU,CAAC,IAAK,IAAK,IAAK,GAC1B,MAAS,CAAC,EAAG,EAAG,EAAG,GACnB,eAAkB,CAAC,IAAK,IAAK,IAAK,GAClC,KAAQ,CAAC,EAAG,EAAG,IAAK,GACpB,WAAc,CAAC,IAAK,GAAI,IAAK,GAC7B,MAAS,CAAC,IAAK,GAAI,GAAI,GACvB,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,UAAa,CAAC,GAAI,IAAK,IAAK,GAC5B,WAAc,CAAC,IAAK,IAAK,EAAG,GAC5B,UAAa,CAAC,IAAK,IAAK,GAAI,GAC5B,MAAS,CAAC,IAAK,IAAK,GAAI,GACxB,eAAkB,CAAC,IAAK,IAAK,IAAK,GAClC,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,QAAW,CAAC,IAAK,GAAI,GAAI,GACzB,KAAQ,CAAC,EAAG,IAAK,IAAK,GACtB,SAAY,CAAC,EAAG,EAAG,IAAK,GACxB,SAAY,CAAC,EAAG,IAAK,IAAK,GAC1B,cAAiB,CAAC,IAAK,IAAK,GAAI,GAChC,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,UAAa,CAAC,EAAG,IAAK,EAAG,GACzB,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,YAAe,CAAC,IAAK,EAAG,IAAK,GAC7B,eAAkB,CAAC,GAAI,IAAK,GAAI,GAChC,WAAc,CAAC,IAAK,IAAK,EAAG,GAC5B,WAAc,CAAC,IAAK,GAAI,IAAK,GAC7B,QAAW,CAAC,IAAK,EAAG,EAAG,GACvB,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,aAAgB,CAAC,IAAK,IAAK,IAAK,GAChC,cAAiB,CAAC,GAAI,GAAI,IAAK,GAC/B,cAAiB,CAAC,GAAI,GAAI,GAAI,GAC9B,cAAiB,CAAC,GAAI,GAAI,GAAI,GAC9B,cAAiB,CAAC,EAAG,IAAK,IAAK,GAC/B,WAAc,CAAC,IAAK,EAAG,IAAK,GAC5B,SAAY,CAAC,IAAK,GAAI,IAAK,GAC3B,YAAe,CAAC,EAAG,IAAK,IAAK,GAC7B,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,WAAc,CAAC,GAAI,IAAK,IAAK,GAC7B,UAAa,CAAC,IAAK,GAAI,GAAI,GAC3B,YAAe,CAAC,IAAK,IAAK,IAAK,GAC/B,YAAe,CAAC,GAAI,IAAK,GAAI,GAC7B,QAAW,CAAC,IAAK,EAAG,IAAK,GACzB,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,KAAQ,CAAC,IAAK,IAAK,EAAG,GACtB,UAAa,CAAC,IAAK,IAAK,GAAI,GAC5B,KAAQ,CAAC,IAAK,IAAK,IAAK,GACxB,MAAS,CAAC,EAAG,IAAK,EAAG,GACrB,YAAe,CAAC,IAAK,IAAK,GAAI,GAC9B,KAAQ,CAAC,IAAK,IAAK,IAAK,GACxB,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,UAAa,CAAC,IAAK,GAAI,GAAI,GAC3B,OAAU,CAAC,GAAI,EAAG,IAAK,GACvB,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,cAAiB,CAAC,IAAK,IAAK,IAAK,GACjC,UAAa,CAAC,IAAK,IAAK,EAAG,GAC3B,aAAgB,CAAC,IAAK,IAAK,IAAK,GAChC,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,qBAAwB,CAAC,IAAK,IAAK,IAAK,GACxC,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,YAAe,CAAC,IAAK,IAAK,IAAK,GAC/B,cAAiB,CAAC,GAAI,IAAK,IAAK,GAChC,aAAgB,CAAC,IAAK,IAAK,IAAK,GAChC,eAAkB,CAAC,IAAK,IAAK,IAAK,GAClC,eAAkB,CAAC,IAAK,IAAK,IAAK,GAClC,eAAkB,CAAC,IAAK,IAAK,IAAK,GAClC,YAAe,CAAC,IAAK,IAAK,IAAK,GAC/B,KAAQ,CAAC,EAAG,IAAK,EAAG,GACpB,UAAa,CAAC,GAAI,IAAK,GAAI,GAC3B,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,QAAW,CAAC,IAAK,EAAG,IAAK,GACzB,OAAU,CAAC,IAAK,EAAG,EAAG,GACtB,iBAAoB,CAAC,IAAK,IAAK,IAAK,GACpC,WAAc,CAAC,EAAG,EAAG,IAAK,GAC1B,aAAgB,CAAC,IAAK,GAAI,IAAK,GAC/B,aAAgB,CAAC,IAAK,IAAK,IAAK,GAChC,eAAkB,CAAC,GAAI,IAAK,IAAK,GACjC,gBAAmB,CAAC,IAAK,IAAK,IAAK,GACnC,kBAAqB,CAAC,EAAG,IAAK,IAAK,GACnC,gBAAmB,CAAC,GAAI,IAAK,IAAK,GAClC,gBAAmB,CAAC,IAAK,GAAI,IAAK,GAClC,aAAgB,CAAC,GAAI,GAAI,IAAK,GAC9B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,YAAe,CAAC,IAAK,IAAK,IAAK,GAC/B,KAAQ,CAAC,EAAG,EAAG,IAAK,GACpB,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,MAAS,CAAC,IAAK,IAAK,EAAG,GACvB,UAAa,CAAC,IAAK,IAAK,GAAI,GAC5B,OAAU,CAAC,IAAK,IAAK,EAAG,GACxB,UAAa,CAAC,IAAK,GAAI,EAAG,GAC1B,OAAU,CAAC,IAAK,IAAK,IAAK,GAC1B,cAAiB,CAAC,IAAK,IAAK,IAAK,GACjC,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,cAAiB,CAAC,IAAK,IAAK,IAAK,GACjC,cAAiB,CAAC,IAAK,IAAK,IAAK,GACjC,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,KAAQ,CAAC,IAAK,IAAK,GAAI,GACvB,KAAQ,CAAC,IAAK,IAAK,IAAK,GACxB,KAAQ,CAAC,IAAK,IAAK,IAAK,GACxB,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,OAAU,CAAC,IAAK,EAAG,IAAK,GACxB,IAAO,CAAC,IAAK,EAAG,EAAG,GACnB,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,UAAa,CAAC,GAAI,IAAK,IAAK,GAC5B,YAAe,CAAC,IAAK,GAAI,GAAI,GAC7B,OAAU,CAAC,IAAK,IAAK,IAAK,GAC1B,WAAc,CAAC,IAAK,IAAK,GAAI,GAC7B,SAAY,CAAC,GAAI,IAAK,GAAI,GAC1B,SAAY,CAAC,IAAK,IAAK,IAAK,GAC5B,OAAU,CAAC,IAAK,GAAI,GAAI,GACxB,OAAU,CAAC,IAAK,IAAK,IAAK,GAC1B,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,UAAa,CAAC,IAAK,GAAI,IAAK,GAC5B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,UAAa,CAAC,IAAK,IAAK,IAAK,GAC7B,KAAQ,CAAC,IAAK,IAAK,IAAK,GACxB,YAAe,CAAC,EAAG,IAAK,IAAK,GAC7B,UAAa,CAAC,GAAI,IAAK,IAAK,GAC5B,IAAO,CAAC,IAAK,IAAK,IAAK,GACvB,KAAQ,CAAC,EAAG,IAAK,IAAK,GACtB,QAAW,CAAC,IAAK,IAAK,IAAK,GAC3B,OAAU,CAAC,IAAK,GAAI,GAAI,GACxB,UAAa,CAAC,GAAI,IAAK,IAAK,GAC5B,OAAU,CAAC,IAAK,IAAK,IAAK,GAC1B,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,MAAS,CAAC,IAAK,IAAK,IAAK,GACzB,WAAc,CAAC,IAAK,IAAK,IAAK,GAC9B,OAAU,CAAC,IAAK,IAAK,EAAG,GACxB,YAAe,CAAC,IAAK,IAAK,GAAI,IAGhC,SAASC,EAAanzB,GAIpB,OAFAA,EAAI+B,KAAKqxB,MAAMpzB,GAERA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAGrC,SAASqzB,EAAcrzB,GAIrB,OAFAA,EAAI+B,KAAKqxB,MAAMpzB,GAERA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAGrC,SAASszB,EAAcpE,GAErB,OAAOA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,EAGjC,SAASqE,EAAY/H,GAEnB,OAAIA,EAAI3sB,QAAyC,MAA/B2sB,EAAIwE,OAAOxE,EAAI3sB,OAAS,GACjCs0B,EAAatL,WAAW2D,GAAO,IAAM,KAGvC2H,EAAanJ,SAASwB,EAAK,KAGpC,SAASgI,EAAchI,GAErB,OAAIA,EAAI3sB,QAAyC,MAA/B2sB,EAAIwE,OAAOxE,EAAI3sB,OAAS,GACjCy0B,EAAczL,WAAW2D,GAAO,KAGlC8H,EAAczL,WAAW2D,IAGlC,SAASiI,EAAYriB,EAAIC,EAAImF,GAO3B,OANIA,EAAI,EACNA,GAAK,EACIA,EAAI,IACbA,GAAK,GAGC,EAAJA,EAAQ,EACHpF,GAAMC,EAAKD,GAAMoF,EAAI,EAGtB,EAAJA,EAAQ,EACHnF,EAGD,EAAJmF,EAAQ,EACHpF,GAAMC,EAAKD,IAAO,EAAI,EAAIoF,GAAK,EAGjCpF,EAGT,SAASsiB,EAAW7xB,EAAGC,EAAGQ,GACxB,OAAOT,GAAKC,EAAID,GAAKS,EAGvB,SAASqxB,EAAQjwB,EAAK9F,EAAG2rB,EAAGznB,EAAGD,GAK7B,OAJA6B,EAAI,GAAK9F,EACT8F,EAAI,GAAK6lB,EACT7lB,EAAI,GAAK5B,EACT4B,EAAI,GAAK7B,EACF6B,EAGT,SAASkwB,EAASlwB,EAAK7B,GAKrB,OAJA6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACX6B,EAAI,GAAK7B,EAAE,GACJ6B,EAGT,IAAImwB,EAAa,IAAIZ,EAAI,IACrBa,EAAiB,KAErB,SAASC,EAAWC,EAAUC,GAExBH,GACFF,EAASE,EAAgBG,GAG3BH,EAAiBD,EAAWK,IAAIF,EAAUF,GAAkBG,EAAQjxB,SAUtE,SAASgE,EAAMgtB,EAAUC,GACvB,GAAKD,EAAL,CAIAC,EAAUA,GAAW,GACrB,IAAIE,EAASN,EAAWO,IAAIJ,GAE5B,GAAIG,EACF,OAAOP,EAASK,EAASE,GAI3BH,GAAsB,GAEtB,IAAIxI,EAAMwI,EAASpI,QAAQ,KAAM,IAAI1E,cAErC,GAAIsE,KAAO0H,EAGT,OAFAU,EAASK,EAASf,EAAe1H,IACjCuI,EAAWC,EAAUC,GACdA,EAIT,GAAsB,MAAlBzI,EAAIwE,OAAO,GAAf,CA4BA,IAAIqE,EAAK7I,EAAIrB,QAAQ,KACjBmK,EAAK9I,EAAIrB,QAAQ,KAErB,IAAY,IAARkK,GAAaC,EAAK,IAAM9I,EAAI3sB,OAAQ,CACtC,IAAI01B,EAAQ/I,EAAIgJ,OAAO,EAAGH,GACtBI,EAASjJ,EAAIgJ,OAAOH,EAAK,EAAGC,GAAMD,EAAK,IAAIjM,MAAM,KACjDsM,EAAQ,EAEZ,OAAQH,GACN,IAAK,OACH,GAAsB,IAAlBE,EAAO51B,OAET,YADA80B,EAAQM,EAAS,EAAG,EAAG,EAAG,GAI5BS,EAAQlB,EAAciB,EAAOzG,OAI/B,IAAK,MACH,OAAsB,IAAlByG,EAAO51B,YACT80B,EAAQM,EAAS,EAAG,EAAG,EAAG,IAI5BN,EAAQM,EAASV,EAAYkB,EAAO,IAAKlB,EAAYkB,EAAO,IAAKlB,EAAYkB,EAAO,IAAKC,GACzFX,EAAWC,EAAUC,GACdA,GAET,IAAK,OACH,OAAsB,IAAlBQ,EAAO51B,YACT80B,EAAQM,EAAS,EAAG,EAAG,EAAG,IAI5BQ,EAAO,GAAKjB,EAAciB,EAAO,IACjCE,EAAUF,EAAQR,GAClBF,EAAWC,EAAUC,GACdA,GAET,IAAK,MACH,OAAsB,IAAlBQ,EAAO51B,YACT80B,EAAQM,EAAS,EAAG,EAAG,EAAG,IAI5BU,EAAUF,EAAQR,GAClBF,EAAWC,EAAUC,GACdA,GAET,QACE,QAINN,EAAQM,EAAS,EAAG,EAAG,EAAG,OAnF1B,CACE,GAAmB,IAAfzI,EAAI3sB,OAAc,CACpB,IAAI+1B,EAAK5K,SAASwB,EAAIgJ,OAAO,GAAI,IAEjC,OAAMI,GAAM,GAAKA,GAAM,MAKvBjB,EAAQM,GAAe,KAALW,IAAe,GAAU,KAALA,IAAe,EAAQ,IAALA,GAAkB,IAALA,IAAc,EAAQ,GAALA,GAAiB,GAALA,IAAa,EAAG,GAClHb,EAAWC,EAAUC,GACdA,QANLN,EAAQM,EAAS,EAAG,EAAG,EAAG,GAOvB,GAAmB,IAAfzI,EAAI3sB,OAAc,CACvB+1B,EAAK5K,SAASwB,EAAIgJ,OAAO,GAAI,IAEjC,OAAMI,GAAM,GAAKA,GAAM,UAKvBjB,EAAQM,GAAe,SAALW,IAAkB,IAAU,MAALA,IAAgB,EAAQ,IAALA,EAAW,GACvEb,EAAWC,EAAUC,GACdA,QANLN,EAAQM,EAAS,EAAG,EAAG,EAAG,MA6ElC,SAASU,EAAUE,EAAM1vB,GACvB,IAAIqR,GAAKqR,WAAWgN,EAAK,IAAM,IAAM,KAAO,IAAM,IAI9CtC,EAAIiB,EAAcqB,EAAK,IACvB1d,EAAIqc,EAAcqB,EAAK,IACvBxjB,EAAK8F,GAAK,GAAMA,GAAKob,EAAI,GAAKpb,EAAIob,EAAIpb,EAAIob,EAC1CnhB,EAAS,EAAJ+F,EAAQ9F,EAQjB,OAPAlM,EAAOA,GAAQ,GACfwuB,EAAQxuB,EAAMguB,EAA8C,IAAjCM,EAAYriB,EAAIC,EAAImF,EAAI,EAAI,IAAW2c,EAAsC,IAAzBM,EAAYriB,EAAIC,EAAImF,IAAW2c,EAA8C,IAAjCM,EAAYriB,EAAIC,EAAImF,EAAI,EAAI,IAAW,GAE9I,IAAhBqe,EAAKh2B,SACPsG,EAAK,GAAK0vB,EAAK,IAGV1vB,EAQT,SAAS2vB,EAAU3vB,GACjB,GAAKA,EAAL,CAKA,IAUI4vB,EACAC,EAXAxc,EAAIrT,EAAK,GAAK,IACd8vB,EAAI9vB,EAAK,GAAK,IACd+vB,EAAI/vB,EAAK,GAAK,IACdgwB,EAAOpzB,KAAKuF,IAAIkR,EAAGyc,EAAGC,GAEtBE,EAAOrzB,KAAK0W,IAAID,EAAGyc,EAAGC,GAEtBxH,EAAQ0H,EAAOD,EAEfhd,GAAKid,EAAOD,GAAQ,EAIxB,GAAc,IAAVzH,EACFqH,EAAI,EACJC,EAAI,MACC,CAEHA,EADE7c,EAAI,GACFuV,GAAS0H,EAAOD,GAEhBzH,GAAS,EAAI0H,EAAOD,GAG1B,IAAIE,IAAWD,EAAO5c,GAAK,EAAIkV,EAAQ,GAAKA,EACxC4H,IAAWF,EAAOH,GAAK,EAAIvH,EAAQ,GAAKA,EACxC6H,IAAWH,EAAOF,GAAK,EAAIxH,EAAQ,GAAKA,EAExClV,IAAM4c,EACRL,EAAIQ,EAASD,EACJL,IAAMG,EACfL,EAAI,EAAI,EAAIM,EAASE,EACZL,IAAME,IACfL,EAAI,EAAI,EAAIO,EAASD,GAGnBN,EAAI,IACNA,GAAK,GAGHA,EAAI,IACNA,GAAK,GAIT,IAAIF,EAAO,CAAK,IAAJE,EAASC,EAAG7c,GAMxB,OAJe,MAAXhT,EAAK,IACP0vB,EAAKxwB,KAAKc,EAAK,IAGV0vB,GAUT,SAASW,EAAK9yB,EAAO+yB,GACnB,IAAIC,EAAW1uB,EAAMtE,GAErB,GAAIgzB,EAAU,CACZ,IAAK,IAAI11B,EAAI,EAAGA,EAAI,EAAGA,IAEnB01B,EAAS11B,GADPy1B,EAAQ,EACIC,EAAS11B,IAAM,EAAIy1B,GAAS,GAE3B,IAAMC,EAAS11B,IAAMy1B,EAAQC,EAAS11B,GAAK,EAGxD01B,EAAS11B,GAAK,IAChB01B,EAAS11B,GAAK,IACL0C,EAAM1C,GAAK,IACpB01B,EAAS11B,GAAK,GAIlB,OAAO21B,EAAUD,EAA8B,IAApBA,EAAS72B,OAAe,OAAS,QAUhE,SAAS+2B,EAAMlzB,GACb,IAAIgzB,EAAW1uB,EAAMtE,GAErB,GAAIgzB,EACF,QAAS,GAAK,KAAOA,EAAS,IAAM,KAAOA,EAAS,IAAM,KAAMA,EAAS,IAAIG,SAAS,IAAI7yB,MAAM,GAYpG,SAAS8yB,EAASC,EAAiBC,EAAQtyB,GACzC,GAAMsyB,GAAUA,EAAOn3B,QAAak3B,GAAmB,GAAKA,GAAmB,EAA/E,CAIAryB,EAAMA,GAAO,GACb,IAAI9E,EAAQm3B,GAAmBC,EAAOn3B,OAAS,GAC3Co3B,EAAYl0B,KAAKqD,MAAMxG,GACvBs3B,EAAan0B,KAAKo0B,KAAKv3B,GACvBw3B,EAAYJ,EAAOC,GACnBI,EAAaL,EAAOE,GACpBI,EAAK13B,EAAQq3B,EAKjB,OAJAvyB,EAAI,GAAKyvB,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAC9D5yB,EAAI,GAAKyvB,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAC9D5yB,EAAI,GAAKyvB,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAC9D5yB,EAAI,GAAK4vB,EAAcI,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IACxD5yB,GAOT,IAAI6yB,EAAiBT,EAUrB,SAASjD,EAAKkD,EAAiBC,EAAQQ,GACrC,GAAMR,GAAUA,EAAOn3B,QAAak3B,GAAmB,GAAKA,GAAmB,EAA/E,CAIA,IAAIn3B,EAAQm3B,GAAmBC,EAAOn3B,OAAS,GAC3Co3B,EAAYl0B,KAAKqD,MAAMxG,GACvBs3B,EAAan0B,KAAKo0B,KAAKv3B,GACvBw3B,EAAYpvB,EAAMgvB,EAAOC,IACzBI,EAAarvB,EAAMgvB,EAAOE,IAC1BI,EAAK13B,EAAQq3B,EACbvzB,EAAQizB,EAAU,CAACxC,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAAMnD,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAAMnD,EAAaO,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,IAAMhD,EAAcI,EAAW0C,EAAU,GAAIC,EAAW,GAAIC,KAAO,QACrQ,OAAOE,EAAa,CAClB9zB,MAAOA,EACPuzB,UAAWA,EACXC,WAAYA,EACZt3B,MAAOA,GACL8D,GAON,IAAI+zB,EAAa5D,EAUjB,SAAS6D,EAAUh0B,EAAO8T,EAAG+b,EAAGpb,GAG9B,GAFAzU,EAAQsE,EAAMtE,GAEVA,EAKF,OAJAA,EAAQoyB,EAAUpyB,GACb,MAAL8T,IAAc9T,EAAM,GAAK2wB,EAAc7c,IAClC,MAAL+b,IAAc7vB,EAAM,GAAK8wB,EAAcjB,IAClC,MAALpb,IAAczU,EAAM,GAAK8wB,EAAcrc,IAChCwe,EAAUhB,EAAUjyB,GAAQ,QAWvC,SAASi0B,EAAYj0B,EAAOgyB,GAG1B,GAFAhyB,EAAQsE,EAAMtE,GAEVA,GAAkB,MAATgyB,EAEX,OADAhyB,EAAM,GAAK4wB,EAAcoB,GAClBiB,EAAUjzB,EAAO,QAU5B,SAASizB,EAAUiB,EAAU1qB,GAC3B,GAAK0qB,GAAaA,EAAS/3B,OAA3B,CAIA,IAAIm1B,EAAW4C,EAAS,GAAK,IAAMA,EAAS,GAAK,IAAMA,EAAS,GAMhE,MAJa,SAAT1qB,GAA4B,SAATA,GAA4B,SAATA,IACxC8nB,GAAY,IAAM4C,EAAS,IAGtB1qB,EAAO,IAAM8nB,EAAW,KAGjCvyB,EAAQuF,MAAQA,EAChBvF,EAAQ+zB,KAAOA,EACf/zB,EAAQm0B,MAAQA,EAChBn0B,EAAQq0B,SAAWA,EACnBr0B,EAAQ80B,eAAiBA,EACzB90B,EAAQoxB,KAAOA,EACfpxB,EAAQg1B,WAAaA,EACrBh1B,EAAQi1B,UAAYA,EACpBj1B,EAAQk1B,YAAcA,EACtBl1B,EAAQk0B,UAAYA,G,qBC/mBpB,IAAIkB,EAAW,SAAUzR,GACvBlkB,KAAKkkB,WAAaA,GAAc,IAGlCyR,EAAS9zB,UAAY,CACnByH,YAAaqsB,EACbxR,aAAc,SAAUpmB,EAAQyD,GAC9BxB,KAAKkkB,WAAW/gB,KAAK,CACnBpF,OAAQA,EACRyD,MAAOA,MAIb,IAAIoH,EAAW+sB,EACfr1B,EAAOC,QAAUqI,G,qBCjBjB,IAAIgtB,EAAc,EAAQ,QAgB1B,SAASr0B,EAAKoqB,GACZ3rB,KAAK+F,QAAU4lB,EAAQ3pB,OAEvBhC,KAAK61B,MAAQlK,EAAQplB,MAAQ,IAE7BvG,KAAK2G,OAASglB,EAAQjlB,OAAS,EAG/B1G,KAAK81B,cAAe,EAEpB91B,KAAKwG,KAAuB,MAAhBmlB,EAAQnlB,MAAuBmlB,EAAQnlB,KACnDxG,KAAK+1B,IAAMpK,EAAQoK,KAAO,EAC1B/1B,KAAKyE,OAASknB,EAAQlnB,QAAU,SAChCzE,KAAKkG,QAAUylB,EAAQzlB,QACvBlG,KAAK4G,UAAY+kB,EAAQ/kB,UACzB5G,KAAKg2B,UAAYrK,EAAQqK,UACzBh2B,KAAKgsB,YAAc,EACnBhsB,KAAK0H,SAAU,EAGjBnG,EAAKM,UAAY,CACfyH,YAAa/H,EACbqrB,KAAM,SAAUqJ,EAAYC,GAQ1B,GALKl2B,KAAK81B,eACR91B,KAAKm2B,WAAaF,EAAaj2B,KAAK2G,OACpC3G,KAAK81B,cAAe,GAGlB91B,KAAK0H,QACP1H,KAAKgsB,aAAekK,MADtB,CAKA,IAAI7zB,GAAW4zB,EAAaj2B,KAAKm2B,WAAan2B,KAAKgsB,aAAehsB,KAAK61B,MAEvE,KAAIxzB,EAAU,GAAd,CAIAA,EAAUxB,KAAKuF,IAAI/D,EAAS,GAC5B,IAAIoC,EAASzE,KAAKyE,OACd2xB,EAA+B,kBAAX3xB,EAAsBmxB,EAAYnxB,GAAUA,EAChE4xB,EAAiC,oBAAfD,EAA4BA,EAAW/zB,GAAWA,EAGxE,OAFArC,KAAK+sB,KAAK,QAASsJ,GAEH,IAAZh0B,EACErC,KAAKwG,MACPxG,KAAKs2B,QAAQL,GAGN,YAKTj2B,KAAK6sB,cAAe,EACb,WAGF,QAETyJ,QAAS,SAAUL,GACjB,IAAIM,GAAaN,EAAaj2B,KAAKm2B,WAAan2B,KAAKgsB,aAAehsB,KAAK61B,MACzE71B,KAAKm2B,WAAaF,EAAaM,EAAYv2B,KAAK+1B,IAChD/1B,KAAKgsB,YAAc,EACnBhsB,KAAK6sB,cAAe,GAEtBE,KAAM,SAAUyJ,EAAWC,GACzBD,EAAY,KAAOA,EAEfx2B,KAAKw2B,IACPx2B,KAAKw2B,GAAWx2B,KAAK+F,QAAS0wB,IAGlChvB,MAAO,WACLzH,KAAK0H,SAAU,GAEjBC,OAAQ,WACN3H,KAAK0H,SAAU,IAGnB,IAAIkB,EAAWrH,EACfjB,EAAOC,QAAUqI,G,qBCpGjB,IAAIgc,EAAO,EAAQ,QAMfhc,EAAWgc,EAAKO,OAAO,CACzBna,KAAM,OACNyc,MAAO,CACLnN,GAAI,EACJC,GAAI,EACJ7d,EAAG,EACHg6B,GAAI,GAENrH,UAAW,SAAUpiB,EAAKwa,GACxB,IAAIxmB,EAAIwmB,EAAMnN,GACVpZ,EAAIumB,EAAMlN,GACVoc,EAAgB,EAAV91B,KAAKusB,GACfngB,EAAIoM,OAAOpY,EAAIwmB,EAAM/qB,EAAGwE,GACxB+L,EAAIoN,IAAIpZ,EAAGC,EAAGumB,EAAM/qB,EAAG,EAAGi6B,GAAK,GAC/B1pB,EAAIoM,OAAOpY,EAAIwmB,EAAMiP,GAAIx1B,GACzB+L,EAAIoN,IAAIpZ,EAAGC,EAAGumB,EAAMiP,GAAI,EAAGC,GAAK,MAIpCr2B,EAAOC,QAAUqI,G,uBCzBjB,IAAIoF,EAAS,EAAQ,QAEjB2nB,EAAW,EAAQ,QAWnB5Q,EAAiB,SAAU9jB,EAAGC,EAAG4Y,EAAIC,EAAImK,EAAY0S,GAIvD52B,KAAKiB,EAAS,MAALA,EAAY,EAAIA,EACzBjB,KAAKkB,EAAS,MAALA,EAAY,EAAIA,EACzBlB,KAAK8Z,GAAW,MAANA,EAAa,EAAIA,EAC3B9Z,KAAK+Z,GAAW,MAANA,EAAa,EAAIA,EAE3B/Z,KAAKgL,KAAO,SAEZhL,KAAKwP,OAASonB,IAAe,EAC7BjB,EAASvyB,KAAKpD,KAAMkkB,IAGtBa,EAAeljB,UAAY,CACzByH,YAAayb,GAEf/W,EAAOuB,SAASwV,EAAgB4Q,GAChC,IAAI/sB,EAAWmc,EACfzkB,EAAOC,QAAUqI,G,wBCjCjB,IAAIiO,EAAU,EAAQ,SAElBwN,EAAYxN,EAAQwN,UAEpBwS,EAAW,aAEG,IAAdxS,IACFwS,EAAWjM,QAAQ7a,OAGrB,IAAInH,EAAWiuB,EACfv2B,EAAOC,QAAUqI,G,uBCXjB,IAAIkuB,EAAU,EAAQ,QAElBC,EAAWD,EAAQ1qB,OACnB4qB,EAAeF,EAAQrF,WAOvBwF,EAAUp2B,KAAKq2B,IACfpf,EAAWjX,KAAKuI,KAChB3I,EAAU,KACV02B,EAAkB,KAClBC,EAAatf,EAAS,GACtBuf,EAAY,EAAI,EAEhBC,EAAMP,IAENQ,EAAMR,IAENS,EAAMT,IAEV,SAASU,EAAansB,GACpB,OAAOA,GAAO7K,GAAW6K,EAAM7K,EAGjC,SAAS4K,EAAgBC,GACvB,OAAOA,EAAM7K,GAAW6K,GAAO7K,EAcjC,SAAS2b,EAAQ9a,EAAIc,EAAIf,EAAImC,EAAItG,GAC/B,IAAIw6B,EAAO,EAAIx6B,EACf,OAAOw6B,EAAOA,GAAQA,EAAOp2B,EAAK,EAAIpE,EAAIkF,GAAMlF,EAAIA,GAAKA,EAAIsG,EAAK,EAAIk0B,EAAOr2B,GAc/E,SAASs2B,EAAkBr2B,EAAIc,EAAIf,EAAImC,EAAItG,GACzC,IAAIw6B,EAAO,EAAIx6B,EACf,OAAO,KAAOkF,EAAKd,GAAMo2B,EAAO,GAAKr2B,EAAKe,GAAMlF,GAAKw6B,GAAQl0B,EAAKnC,GAAMnE,EAAIA,GAe9E,SAAS06B,EAAYt2B,EAAIc,EAAIf,EAAImC,EAAI8H,EAAKusB,GAExC,IAAIl3B,EAAI6C,EAAK,GAAKpB,EAAKf,GAAMC,EACzBV,EAAI,GAAKS,EAAU,EAALe,EAASd,GACvBw2B,EAAI,GAAK11B,EAAKd,GACd4b,EAAI5b,EAAKgK,EACT8L,EAAIxW,EAAIA,EAAI,EAAID,EAAIm3B,EACpB9D,EAAIpzB,EAAIk3B,EAAI,EAAIn3B,EAAIuc,EACpBhG,EAAI4gB,EAAIA,EAAI,EAAIl3B,EAAIsc,EACpBzgB,EAAI,EAER,GAAIg7B,EAAargB,IAAMqgB,EAAazD,GAClC,GAAIyD,EAAa72B,GACfi3B,EAAM,GAAK,MACN,CACL,IAAIE,GAAMD,EAAIl3B,EAEVm3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,OAGZ,CACL,IAAIC,EAAOhE,EAAIA,EAAI,EAAI5c,EAAIF,EAE3B,GAAIugB,EAAaO,GAAO,CACtB,IAAIC,EAAIjE,EAAI5c,EAGR3T,GAFAs0B,GAAMn3B,EAAID,EAAIs3B,GAERA,EAAI,GAEVF,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,GAGXt0B,GAAM,GAAKA,GAAM,IACnBo0B,EAAMp7B,KAAOgH,QAEV,GAAIu0B,EAAO,EAAG,CACnB,IAAIE,EAAWpgB,EAASkgB,GACpBG,EAAK/gB,EAAIxW,EAAI,IAAMD,IAAMqzB,EAAIkE,GAC7BE,EAAKhhB,EAAIxW,EAAI,IAAMD,IAAMqzB,EAAIkE,GAG/BC,EADEA,EAAK,GACDlB,GAASkB,EAAId,GAEdJ,EAAQkB,EAAId,GAIjBe,EADEA,EAAK,GACDnB,GAASmB,EAAIf,GAEdJ,EAAQmB,EAAIf,GAGfU,IAAOn3B,GAAKu3B,EAAKC,KAAQ,EAAIz3B,GAE7Bo3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,OAEV,CACL,IAAIM,GAAK,EAAIjhB,EAAIxW,EAAI,EAAID,EAAIqzB,IAAM,EAAIlc,EAASV,EAAIA,EAAIA,IACpDiG,EAAQxc,KAAK4sB,KAAK4K,GAAK,EACvBC,EAAQxgB,EAASV,GACjBpZ,EAAM6C,KAAKyQ,IAAI+L,GAGf3Z,GAFAq0B,IAAOn3B,EAAI,EAAI03B,EAAQt6B,IAAQ,EAAI2C,GACnC8C,IAAO7C,EAAI03B,GAASt6B,EAAMo5B,EAAav2B,KAAKuQ,IAAIiM,MAAY,EAAI1c,KACzDC,EAAI03B,GAASt6B,EAAMo5B,EAAav2B,KAAKuQ,IAAIiM,MAAY,EAAI1c,IAEhEo3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,GAGXt0B,GAAM,GAAKA,GAAM,IACnBo0B,EAAMp7B,KAAOgH,GAGXC,GAAM,GAAKA,GAAM,IACnBm0B,EAAMp7B,KAAOiH,IAKnB,OAAOjH,EAcT,SAAS87B,EAAaj3B,EAAIc,EAAIf,EAAImC,EAAIg1B,GACpC,IAAI53B,EAAI,EAAIS,EAAK,GAAKe,EAAK,EAAId,EAC3BX,EAAI,EAAIyB,EAAK,EAAIoB,EAAK,EAAIlC,EAAK,EAAID,EACnCy2B,EAAI,EAAI11B,EAAK,EAAId,EACjB7E,EAAI,EAER,GAAIg7B,EAAa92B,IACf,GAAI0K,EAAgBzK,GAAI,CACtB,IAAIm3B,GAAMD,EAAIl3B,EAEVm3B,GAAM,GAAKA,GAAM,IACnBS,EAAQ/7B,KAAOs7B,QAGd,CACL,IAAIC,EAAOp3B,EAAIA,EAAI,EAAID,EAAIm3B,EAE3B,GAAIL,EAAaO,GACfQ,EAAQ,IAAM53B,GAAK,EAAID,QAClB,GAAIq3B,EAAO,EAAG,CACnB,IAAIE,EAAWpgB,EAASkgB,GAEpBv0B,GADAs0B,IAAOn3B,EAAIs3B,IAAa,EAAIv3B,KACrBC,EAAIs3B,IAAa,EAAIv3B,IAE5Bo3B,GAAM,GAAKA,GAAM,IACnBS,EAAQ/7B,KAAOs7B,GAGbt0B,GAAM,GAAKA,GAAM,IACnB+0B,EAAQ/7B,KAAOgH,IAKrB,OAAOhH,EAcT,SAASg8B,EAAen3B,EAAIc,EAAIf,EAAImC,EAAItG,EAAGsF,GACzC,IAAIk2B,GAAOt2B,EAAKd,GAAMpE,EAAIoE,EACtBq3B,GAAOt3B,EAAKe,GAAMlF,EAAIkF,EACtBw2B,GAAOp1B,EAAKnC,GAAMnE,EAAImE,EACtBw3B,GAAQF,EAAMD,GAAOx7B,EAAIw7B,EACzBI,GAAQF,EAAMD,GAAOz7B,EAAIy7B,EACzBI,GAASD,EAAOD,GAAQ37B,EAAI27B,EAEhCr2B,EAAI,GAAKlB,EACTkB,EAAI,GAAKk2B,EACTl2B,EAAI,GAAKq2B,EACTr2B,EAAI,GAAKu2B,EAETv2B,EAAI,GAAKu2B,EACTv2B,EAAI,GAAKs2B,EACTt2B,EAAI,GAAKo2B,EACTp2B,EAAI,GAAKgB,EAoBX,SAASw1B,EAAkBle,EAAIC,EAAInB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIhZ,EAAGC,EAAGsB,GAE/D,IAAItF,EAGA+7B,EACAC,EACAC,EACAC,EALAC,EAAW,KACXnc,EAAIyT,IAKR2G,EAAI,GAAKr2B,EACTq2B,EAAI,GAAKp2B,EAGT,IAAK,IAAIo4B,EAAK,EAAGA,EAAK,EAAGA,GAAM,IAC7B/B,EAAI,GAAKnb,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAIsf,GACjC/B,EAAI,GAAKnb,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAIqf,GACjCH,EAAKnC,EAAaM,EAAKC,GAEnB4B,EAAKjc,IACPhgB,EAAIo8B,EACJpc,EAAIic,GAIRjc,EAAIyT,IAEJ,IAAK,IAAI7xB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,GAAIu6B,EAAWlC,EACb,MAGF8B,EAAO/7B,EAAIm8B,EACXH,EAAOh8B,EAAIm8B,EAEX9B,EAAI,GAAKnb,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAIif,GACjC1B,EAAI,GAAKnb,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAIgf,GACjCE,EAAKnC,EAAaO,EAAKD,GAEnB2B,GAAQ,GAAKE,EAAKjc,GACpBhgB,EAAI+7B,EACJ/b,EAAIic,IAGJ3B,EAAI,GAAKpb,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAIkf,GACjC1B,EAAI,GAAKpb,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAIif,GACjCE,EAAKpC,EAAaQ,EAAKF,GAEnB4B,GAAQ,GAAKE,EAAKlc,GACpBhgB,EAAIg8B,EACJhc,EAAIkc,GAEJC,GAAY,IAYlB,OANI72B,IACFA,EAAI,GAAK4Z,EAAQtB,EAAIlB,EAAIE,EAAIE,EAAI9c,GACjCsF,EAAI,GAAK4Z,EAAQrB,EAAIlB,EAAIE,EAAIE,EAAI/c,IAI5B4a,EAASoF,GAYlB,SAASqc,EAAYj4B,EAAIc,EAAIf,EAAInE,GAC/B,IAAIw6B,EAAO,EAAIx6B,EACf,OAAOw6B,GAAQA,EAAOp2B,EAAK,EAAIpE,EAAIkF,GAAMlF,EAAIA,EAAImE,EAYnD,SAASm4B,EAAsBl4B,EAAIc,EAAIf,EAAInE,GACzC,OAAO,IAAM,EAAIA,IAAMkF,EAAKd,GAAMpE,GAAKmE,EAAKe,IAa9C,SAASq3B,EAAgBn4B,EAAIc,EAAIf,EAAIiK,EAAKusB,GACxC,IAAIl3B,EAAIW,EAAK,EAAIc,EAAKf,EAClBT,EAAI,GAAKwB,EAAKd,GACdw2B,EAAIx2B,EAAKgK,EACT7O,EAAI,EAER,GAAIg7B,EAAa92B,IACf,GAAI0K,EAAgBzK,GAAI,CACtB,IAAIm3B,GAAMD,EAAIl3B,EAEVm3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,QAGZ,CACL,IAAIC,EAAOp3B,EAAIA,EAAI,EAAID,EAAIm3B,EAE3B,GAAIL,EAAaO,GAAO,CAClBD,GAAMn3B,GAAK,EAAID,GAEfo3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,QAEV,GAAIC,EAAO,EAAG,CACnB,IAAIE,EAAWpgB,EAASkgB,GAEpBv0B,GADAs0B,IAAOn3B,EAAIs3B,IAAa,EAAIv3B,KACrBC,EAAIs3B,IAAa,EAAIv3B,IAE5Bo3B,GAAM,GAAKA,GAAM,IACnBF,EAAMp7B,KAAOs7B,GAGXt0B,GAAM,GAAKA,GAAM,IACnBo0B,EAAMp7B,KAAOgH,IAKnB,OAAOhH,EAYT,SAASi9B,EAAkBp4B,EAAIc,EAAIf,GACjC,IAAIs4B,EAAUr4B,EAAKD,EAAK,EAAIe,EAE5B,OAAgB,IAAZu3B,EAEK,IAECr4B,EAAKc,GAAMu3B,EAcvB,SAASC,EAAmBt4B,EAAIc,EAAIf,EAAInE,EAAGsF,GACzC,IAAIk2B,GAAOt2B,EAAKd,GAAMpE,EAAIoE,EACtBq3B,GAAOt3B,EAAKe,GAAMlF,EAAIkF,EACtBy2B,GAAQF,EAAMD,GAAOx7B,EAAIw7B,EAE7Bl2B,EAAI,GAAKlB,EACTkB,EAAI,GAAKk2B,EACTl2B,EAAI,GAAKq2B,EAETr2B,EAAI,GAAKq2B,EACTr2B,EAAI,GAAKm2B,EACTn2B,EAAI,GAAKnB,EAkBX,SAASw4B,EAAsB/e,EAAIC,EAAInB,EAAIC,EAAIC,EAAIC,EAAI9Y,EAAGC,EAAGsB,GAE3D,IAAItF,EACAm8B,EAAW,KACXnc,EAAIyT,IACR2G,EAAI,GAAKr2B,EACTq2B,EAAI,GAAKp2B,EAGT,IAAK,IAAIo4B,EAAK,EAAGA,EAAK,EAAGA,GAAM,IAAM,CACnC/B,EAAI,GAAKgC,EAAYze,EAAIlB,EAAIE,EAAIwf,GACjC/B,EAAI,GAAKgC,EAAYxe,EAAIlB,EAAIE,EAAIuf,GACjC,IAAIH,EAAKnC,EAAaM,EAAKC,GAEvB4B,EAAKjc,IACPhgB,EAAIo8B,EACJpc,EAAIic,GAIRjc,EAAIyT,IAEJ,IAAK,IAAI7xB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,GAAIu6B,EAAWlC,EACb,MAGF,IAAI8B,EAAO/7B,EAAIm8B,EACXH,EAAOh8B,EAAIm8B,EAEf9B,EAAI,GAAKgC,EAAYze,EAAIlB,EAAIE,EAAImf,GACjC1B,EAAI,GAAKgC,EAAYxe,EAAIlB,EAAIE,EAAIkf,GAC7BE,EAAKnC,EAAaO,EAAKD,GAE3B,GAAI2B,GAAQ,GAAKE,EAAKjc,EACpBhgB,EAAI+7B,EACJ/b,EAAIic,MACC,CAEL3B,EAAI,GAAK+B,EAAYze,EAAIlB,EAAIE,EAAIof,GACjC1B,EAAI,GAAK+B,EAAYxe,EAAIlB,EAAIE,EAAImf,GACjC,IAAIE,EAAKpC,EAAaQ,EAAKF,GAEvB4B,GAAQ,GAAKE,EAAKlc,GACpBhgB,EAAIg8B,EACJhc,EAAIkc,GAEJC,GAAY,IAYlB,OANI72B,IACFA,EAAI,GAAK+2B,EAAYze,EAAIlB,EAAIE,EAAI5c,GACjCsF,EAAI,GAAK+2B,EAAYxe,EAAIlB,EAAIE,EAAI7c,IAI5B4a,EAASoF,GAGlB3c,EAAQ6b,QAAUA,EAClB7b,EAAQo3B,kBAAoBA,EAC5Bp3B,EAAQq3B,YAAcA,EACtBr3B,EAAQg4B,aAAeA,EACvBh4B,EAAQk4B,eAAiBA,EACzBl4B,EAAQy4B,kBAAoBA,EAC5Bz4B,EAAQg5B,YAAcA,EACtBh5B,EAAQi5B,sBAAwBA,EAChCj5B,EAAQk5B,gBAAkBA,EAC1Bl5B,EAAQm5B,kBAAoBA,EAC5Bn5B,EAAQq5B,mBAAqBA,EAC7Br5B,EAAQs5B,sBAAwBA,G,uBCnhBhC,IAAIjV,EAAO,EAAQ,QAEfkV,EAAoB,EAAQ,QAM5BlxB,EAAWgc,EAAKO,OAAO,CACzBna,KAAM,SACNyc,MAAO,CACLnN,GAAI,EACJC,GAAI,EACJmc,GAAI,EACJh6B,EAAG,EACH8d,WAAY,EACZC,SAAoB,EAAV5Z,KAAKusB,GACf2M,WAAW,GAEb5rB,MAAO2rB,EAAkBlV,EAAK/iB,UAAUsM,OACxCkhB,UAAW,SAAUpiB,EAAKwa,GACxB,IAAIxmB,EAAIwmB,EAAMnN,GACVpZ,EAAIumB,EAAMlN,GACVmc,EAAK71B,KAAK0W,IAAIkQ,EAAMiP,IAAM,EAAG,GAC7Bh6B,EAAImE,KAAK0W,IAAIkQ,EAAM/qB,EAAG,GACtB8d,EAAaiN,EAAMjN,WACnBC,EAAWgN,EAAMhN,SACjBsf,EAAYtS,EAAMsS,UAClBC,EAAQn5B,KAAKyQ,IAAIkJ,GACjByf,EAAQp5B,KAAKuQ,IAAIoJ,GACrBvN,EAAIoM,OAAO2gB,EAAQtD,EAAKz1B,EAAGg5B,EAAQvD,EAAKx1B,GACxC+L,EAAIsM,OAAOygB,EAAQt9B,EAAIuE,EAAGg5B,EAAQv9B,EAAIwE,GACtC+L,EAAIoN,IAAIpZ,EAAGC,EAAGxE,EAAG8d,EAAYC,GAAWsf,GACxC9sB,EAAIsM,OAAO1Y,KAAKyQ,IAAImJ,GAAYic,EAAKz1B,EAAGJ,KAAKuQ,IAAIqJ,GAAYic,EAAKx1B,GAEvD,IAAPw1B,GACFzpB,EAAIoN,IAAIpZ,EAAGC,EAAGw1B,EAAIjc,EAAUD,EAAYuf,GAG1C9sB,EAAI4N,eAIRva,EAAOC,QAAUqI,G,uBC3CjB,IAAIsxB,EAAe,EAAQ,QAEvBC,EAAe,EAAQ,QAE3B,SAAS9K,EAAUpiB,EAAKwa,EAAO5M,GAC7B,IAAI7Z,EAASymB,EAAMzmB,OACfo5B,EAAS3S,EAAM2S,OAEnB,GAAIp5B,GAAUA,EAAOrD,QAAU,EAAG,CAChC,GAAIy8B,GAAqB,WAAXA,EAAqB,CACjC,IAAIC,EAAgBF,EAAan5B,EAAQo5B,EAAQvf,EAAW4M,EAAM6S,kBAClErtB,EAAIoM,OAAOrY,EAAO,GAAG,GAAIA,EAAO,GAAG,IAGnC,IAFA,IAAI0B,EAAM1B,EAAOrD,OAERmB,EAAI,EAAGA,GAAK+b,EAAYnY,EAAMA,EAAM,GAAI5D,IAAK,CACpD,IAAIy7B,EAAMF,EAAkB,EAAJv7B,GACpB07B,EAAMH,EAAkB,EAAJv7B,EAAQ,GAC5BsC,EAAIJ,GAAQlC,EAAI,GAAK4D,GACzBuK,EAAI0M,cAAc4gB,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIp5B,EAAE,GAAIA,EAAE,SAEvD,CACU,WAAXg5B,IACFp5B,EAASk5B,EAAal5B,EAAQ6Z,IAGhC5N,EAAIoM,OAAOrY,EAAO,GAAG,GAAIA,EAAO,GAAG,IAE1BlC,EAAI,EAAb,IAAK,IAAWmX,EAAIjV,EAAOrD,OAAQmB,EAAImX,EAAGnX,IACxCmO,EAAIsM,OAAOvY,EAAOlC,GAAG,GAAIkC,EAAOlC,GAAG,IAIvC+b,GAAa5N,EAAI4N,aAIrBta,EAAQ8uB,UAAYA,G,mBC3BpB,SAASA,EAAUpiB,EAAKwa,GACtB,IAKIgT,EACAC,EACAC,EACAC,EAkCAC,EA1CA55B,EAAIwmB,EAAMxmB,EACVC,EAAIumB,EAAMvmB,EACV2N,EAAQ4Y,EAAM5Y,MACdC,EAAS2Y,EAAM3Y,OACfpS,EAAI+qB,EAAM/qB,EAMVmS,EAAQ,IACV5N,GAAQ4N,EACRA,GAASA,GAGPC,EAAS,IACX5N,GAAQ4N,EACRA,GAAUA,GAGK,kBAANpS,EACT+9B,EAAKC,EAAKC,EAAKC,EAAKl+B,EACXA,aAAakF,MACL,IAAblF,EAAEiB,OACJ88B,EAAKC,EAAKC,EAAKC,EAAKl+B,EAAE,GACA,IAAbA,EAAEiB,QACX88B,EAAKE,EAAKj+B,EAAE,GACZg+B,EAAKE,EAAKl+B,EAAE,IACU,IAAbA,EAAEiB,QACX88B,EAAK/9B,EAAE,GACPg+B,EAAKE,EAAKl+B,EAAE,GACZi+B,EAAKj+B,EAAE,KAEP+9B,EAAK/9B,EAAE,GACPg+B,EAAKh+B,EAAE,GACPi+B,EAAKj+B,EAAE,GACPk+B,EAAKl+B,EAAE,IAGT+9B,EAAKC,EAAKC,EAAKC,EAAK,EAKlBH,EAAKC,EAAK7rB,IACZgsB,EAAQJ,EAAKC,EACbD,GAAM5rB,EAAQgsB,EACdH,GAAM7rB,EAAQgsB,GAGZF,EAAKC,EAAK/rB,IACZgsB,EAAQF,EAAKC,EACbD,GAAM9rB,EAAQgsB,EACdD,GAAM/rB,EAAQgsB,GAGZH,EAAKC,EAAK7rB,IACZ+rB,EAAQH,EAAKC,EACbD,GAAM5rB,EAAS+rB,EACfF,GAAM7rB,EAAS+rB,GAGbJ,EAAKG,EAAK9rB,IACZ+rB,EAAQJ,EAAKG,EACbH,GAAM3rB,EAAS+rB,EACfD,GAAM9rB,EAAS+rB,GAGjB5tB,EAAIoM,OAAOpY,EAAIw5B,EAAIv5B,GACnB+L,EAAIsM,OAAOtY,EAAI4N,EAAQ6rB,EAAIx5B,GACpB,IAAPw5B,GAAYztB,EAAIoN,IAAIpZ,EAAI4N,EAAQ6rB,EAAIx5B,EAAIw5B,EAAIA,GAAK75B,KAAKusB,GAAK,EAAG,GAC9DngB,EAAIsM,OAAOtY,EAAI4N,EAAO3N,EAAI4N,EAAS6rB,GAC5B,IAAPA,GAAY1tB,EAAIoN,IAAIpZ,EAAI4N,EAAQ8rB,EAAIz5B,EAAI4N,EAAS6rB,EAAIA,EAAI,EAAG95B,KAAKusB,GAAK,GACtEngB,EAAIsM,OAAOtY,EAAI25B,EAAI15B,EAAI4N,GAChB,IAAP8rB,GAAY3tB,EAAIoN,IAAIpZ,EAAI25B,EAAI15B,EAAI4N,EAAS8rB,EAAIA,EAAI/5B,KAAKusB,GAAK,EAAGvsB,KAAKusB,IACnEngB,EAAIsM,OAAOtY,EAAGC,EAAIu5B,GACX,IAAPA,GAAYxtB,EAAIoN,IAAIpZ,EAAIw5B,EAAIv5B,EAAIu5B,EAAIA,EAAI55B,KAAKusB,GAAc,IAAVvsB,KAAKusB,IAGxD7sB,EAAQ8uB,UAAYA,G,uBCzFpB,IAAI/D,EAAO,EAAQ,QAEfzU,EAAU,EAAQ,SAElBC,EAAmBD,EAAQC,iBAE3B3E,EAAQ,EAAQ,QAEhB2oB,EAAU,EAAQ,QAMtB,SAASC,IACP,OAAO,EAYT,SAASC,EAAUlT,EAAImT,EAAS/tB,GAC9B,IAAIguB,EAAS5P,EAAK6P,eACdtsB,EAAQosB,EAAQG,WAChBtsB,EAASmsB,EAAQI,YACjBC,EAAcJ,EAAO7sB,MAczB,OAZIitB,IAEFA,EAAY7vB,SAAW,WACvB6vB,EAAY/9B,KAAO,EACnB+9B,EAAYC,IAAM,EAClBD,EAAYzsB,MAAQA,EAAQ,KAC5BysB,EAAYxsB,OAASA,EAAS,KAC9BosB,EAAOM,aAAa,iBAAkB1T,IAGxCoT,EAAOrsB,MAAQA,EAAQ3B,EACvBguB,EAAOpsB,OAASA,EAAS5B,EAClBguB,EAYT,IAAIO,EAAQ,SAAU3T,EAAImT,EAAS/tB,GACjC,IAAIwuB,EACJxuB,EAAMA,GAAO4J,EAEK,kBAAPgR,EACT4T,EAAMV,EAAUlT,EAAImT,EAAS/tB,GAEtBoe,EAAKqQ,SAAS7T,KACnB4T,EAAM5T,EACNA,EAAK4T,EAAI5T,IAGb9nB,KAAK8nB,GAAKA,EACV9nB,KAAK07B,IAAMA,EACX,IAAIE,EAAWF,EAAIrtB,MAEfutB,IAEFF,EAAIG,cAAgBd,EAEpBa,EAAS,uBAAyB,OAClCA,EAAS,eAAiB,OAC1BA,EAAS,yBAA2B,OACpCA,EAAS,+BAAiC,gBAC1CA,EAAS,WAAa,EAEtBA,EAAS,UAAY,EAErBA,EAAS,gBAAkB,GAG7B57B,KAAK87B,QAAU,KACf97B,KAAK+7B,QAAU,KACf/7B,KAAKi7B,QAAUA,EACfj7B,KAAKg8B,OAAS,KAQdh8B,KAAKi8B,WAAa,EAOlBj8B,KAAKk8B,YAAa,EAOlBl8B,KAAKm8B,eAAiB,GAMtBn8B,KAAKkN,IAAMA,GAGbuuB,EAAM55B,UAAY,CAChByH,YAAamyB,EACbjpB,SAAS,EACT4pB,QAAQ,EACRC,YAAa,EACbC,aAAc,EACdC,WAAY,EACZnpB,aAAa,EACbopB,gBAAiB,WACf,OAAOx8B,KAAKu8B,WAAav8B,KAAKs8B,cAEhCG,YAAa,WACXz8B,KAAKiN,IAAMjN,KAAK07B,IAAIviB,WAAW,MAC/BnZ,KAAKiN,IAAIC,IAAMlN,KAAKkN,KAEtBwvB,iBAAkB,WAChB,IAAIxvB,EAAMlN,KAAKkN,IACflN,KAAK87B,QAAUd,EAAU,QAAUh7B,KAAK8nB,GAAI9nB,KAAKi7B,QAAS/tB,GAC1DlN,KAAK+7B,QAAU/7B,KAAK87B,QAAQ3iB,WAAW,MAE3B,IAARjM,GACFlN,KAAK+7B,QAAQpwB,MAAMuB,EAAKA,IAQ5ByvB,OAAQ,SAAU9tB,EAAOC,GACvB,IAAI5B,EAAMlN,KAAKkN,IACXwuB,EAAM17B,KAAK07B,IACXE,EAAWF,EAAIrtB,MACfytB,EAAU97B,KAAK87B,QAEfF,IACFA,EAAS/sB,MAAQA,EAAQ,KACzB+sB,EAAS9sB,OAASA,EAAS,MAG7B4sB,EAAI7sB,MAAQA,EAAQ3B,EACpBwuB,EAAI5sB,OAASA,EAAS5B,EAElB4uB,IACFA,EAAQjtB,MAAQA,EAAQ3B,EACxB4uB,EAAQhtB,OAASA,EAAS5B,EAEd,IAARA,GACFlN,KAAK+7B,QAAQpwB,MAAMuB,EAAKA,KAU9BtD,MAAO,SAAUgzB,EAAUX,GACzB,IAqBMY,EArBFnB,EAAM17B,KAAK07B,IACXzuB,EAAMjN,KAAKiN,IACX4B,EAAQ6sB,EAAI7sB,MACZC,EAAS4sB,EAAI5sB,OAEbguB,GADAb,EAAaA,GAAcj8B,KAAKi8B,WACfj8B,KAAKk8B,aAAeU,GACrCT,EAAiBn8B,KAAKm8B,eACtBjvB,EAAMlN,KAAKkN,KAEX4vB,IACG98B,KAAK87B,SACR97B,KAAK08B,mBAGP18B,KAAK+7B,QAAQtY,yBAA2B,OACxCzjB,KAAK+7B,QAAQ7sB,UAAUwsB,EAAK,EAAG,EAAG7sB,EAAQ3B,EAAK4B,EAAS5B,IAG1DD,EAAI8vB,UAAU,EAAG,EAAGluB,EAAOC,GAEvBmtB,GAA6B,gBAAfA,KAGZA,EAAW/X,YAEb2Y,EAA8BZ,EAAWe,kBAAoB7qB,EAAM6R,YAAY/W,EAAKgvB,EAAY,CAC9Fh7B,EAAG,EACHC,EAAG,EACH2N,MAAOA,EACPC,OAAQA,IAEVmtB,EAAWe,iBAAmBH,GAEvBZ,EAAW1tB,QAChBsuB,EAA8B/B,EAAQj5B,UAAUo7B,iBAAiB75B,KAAK64B,EAAYhvB,IAGtFA,EAAIiwB,OACJjwB,EAAIqW,UAAYuZ,GAA+BZ,EAC/ChvB,EAAIkwB,SAAS,EAAG,EAAGtuB,EAAOC,GAC1B7B,EAAImwB,WAGN,GAAIN,EAAgB,CAClB,IAAIhB,EAAU97B,KAAK87B,QACnB7uB,EAAIiwB,OACJjwB,EAAIuW,YAAc2Y,EAClBlvB,EAAIiC,UAAU4sB,EAAS,EAAG,EAAGjtB,EAAOC,GACpC7B,EAAImwB,aAIV,IAAIx0B,EAAW6yB,EACfn7B,EAAOC,QAAUqI,G,uBC1OjB,IAAImpB,EAAM,EAAQ,QAEdsL,EAAmB,IAAItL,EAAI,IAM/B,SAASuL,EAAeC,GACtB,GAA6B,kBAAlBA,EAA4B,CACrC,IAAIC,EAAeH,EAAiBnK,IAAIqK,GACxC,OAAOC,GAAgBA,EAAajvB,MAEpC,OAAOgvB,EAgBX,SAAS7uB,EAAoB6uB,EAAehvB,EAAOkvB,EAAQ/0B,EAAIg1B,GAC7D,GAAKH,EAEE,IAA6B,kBAAlBA,EAA4B,CAE5C,GAAIhvB,GAASA,EAAMovB,eAAiBJ,IAAkBE,EACpD,OAAOlvB,EAKT,IAAIivB,EAAeH,EAAiBnK,IAAIqK,GACpCK,EAAc,CAChBH,OAAQA,EACR/0B,GAAIA,EACJg1B,UAAWA,GAgBb,OAbIF,GACFjvB,EAAQivB,EAAajvB,OACpBK,EAAaL,IAAUivB,EAAaK,QAAQ16B,KAAKy6B,KAElDrvB,EAAQ,IAAIuvB,MACZvvB,EAAMI,OAASJ,EAAMwvB,QAAUC,EAC/BX,EAAiBrK,IAAIuK,EAAehvB,EAAM0vB,eAAiB,CACzD1vB,MAAOA,EACPsvB,QAAS,CAACD,KAEZrvB,EAAMD,IAAMC,EAAMovB,aAAeJ,GAG5BhvB,EAGL,OAAOgvB,EAhCT,OAAOhvB,EAoCX,SAASyvB,IACP,IAAIR,EAAex9B,KAAKi+B,eACxBj+B,KAAK2O,OAAS3O,KAAK+9B,QAAU/9B,KAAKi+B,eAAiB,KAEnD,IAAK,IAAIn/B,EAAI,EAAGA,EAAI0+B,EAAaK,QAAQlgC,OAAQmB,IAAK,CACpD,IAAI8+B,EAAcJ,EAAaK,QAAQ/+B,GACnC4J,EAAKk1B,EAAYl1B,GACrBA,GAAMA,EAAG1I,KAAM49B,EAAYF,WAC3BE,EAAYH,OAAO7pB,QAGrB4pB,EAAaK,QAAQlgC,OAAS,EAGhC,SAASiR,EAAaL,GACpB,OAAOA,GAASA,EAAMM,OAASN,EAAMO,OAGvCvO,EAAQ+8B,eAAiBA,EACzB/8B,EAAQmO,oBAAsBA,EAC9BnO,EAAQqO,aAAeA,G,uBCvFvB,IAAI8F,EAAW,EAAQ,QAEvBnU,EAAQirB,WAAa9W,EAErB,IAAIkJ,EAAM,EAAQ,QAEdsgB,EAAO,EAAQ,QAEfC,EAAaD,EAAKC,WAClBC,EAA6BF,EAAKE,2BAKlCC,EAAgC,qBAAX/e,UAA4BA,OAAOgf,iBACxDC,EAAkB,iDAClBC,EAAW,GAyBf,SAASv0B,EAAc8Y,EAAI4J,EAAGnqB,EAAKi8B,GA6BjC,OA5BAj8B,EAAMA,GAAO,GAOTi8B,IAAc7gB,EAAIO,gBACpBugB,EAAc3b,EAAI4J,EAAGnqB,GAQdob,EAAIG,QAAQc,SAAuB,MAAZ8N,EAAEgS,QAAkBhS,EAAEgS,SAAWhS,EAAEiS,SAC/Dp8B,EAAI0H,IAAMyiB,EAAEgS,OACZn8B,EAAI2H,IAAMwiB,EAAEkS,QAEQ,MAAblS,EAAEiS,SACPp8B,EAAI0H,IAAMyiB,EAAEiS,QACZp8B,EAAI2H,IAAMwiB,EAAEmS,SAGVJ,EAAc3b,EAAI4J,EAAGnqB,GAGtBA,EAGT,SAASk8B,EAAc3b,EAAI4J,EAAGnqB,GAE5B,GAAIob,EAAIU,cAAgByE,EAAGgc,sBAAuB,CAChD,IAAIC,EAAKrS,EAAEsS,QACPC,EAAKvS,EAAEwS,QAEX,GAAIhB,EAAWpb,GAAK,CAMlB,IAAIqc,EAAMrc,EAAGgc,wBAGb,OAFAv8B,EAAI0H,IAAM80B,EAAKI,EAAI7hC,UACnBiF,EAAI2H,IAAM+0B,EAAKE,EAAI7D,KAGnB,GAAI6C,EAA2BI,EAAUzb,EAAIic,EAAIE,GAG/C,OAFA18B,EAAI0H,IAAMs0B,EAAS,QACnBh8B,EAAI2H,IAAMq0B,EAAS,IAMzBh8B,EAAI0H,IAAM1H,EAAI2H,IAAM,EAYtB,SAASk1B,EAAe1S,GACtB,OAAOA,GAAKrN,OAAO9V,MAuBrB,SAAS81B,EAAevc,EAAI4J,EAAG8R,GAG7B,GAFA9R,EAAI0S,EAAe1S,GAEN,MAATA,EAAEziB,IACJ,OAAOyiB,EAGT,IAAI6J,EAAY7J,EAAE3hB,KACdu0B,EAAU/I,GAAaA,EAAUvN,QAAQ,UAAY,EAEzD,GAAKsW,EAGE,CACL,IAAIx1B,EAAsB,aAAdysB,EAA2B7J,EAAE6S,cAAc,GAAK7S,EAAE8S,eAAe,GAC7E11B,GAASE,EAAc8Y,EAAIhZ,EAAO4iB,EAAG8R,QAJrCx0B,EAAc8Y,EAAI4J,EAAGA,EAAG8R,GACxB9R,EAAE+S,QAAU/S,EAAEgT,WAAahT,EAAEgT,WAAa,MAAQhT,EAAEiT,QAAU,GAAK,EAUrE,IAAIC,EAASlT,EAAEkT,OAUf,OARe,MAAXlT,EAAEmT,YAA4B5tB,IAAX2tB,GAAwBtB,EAAgBrf,KAAKyN,EAAE3hB,QACpE2hB,EAAEmT,MAAiB,EAATD,EAAa,EAAa,EAATA,EAAa,EAAa,EAATA,EAAa,EAAI,GAOxDlT,EAYT,SAAS2R,EAAiBvb,EAAIzQ,EAAM6C,EAASqR,GACvC6X,EAqBFtb,EAAGub,iBAAiBhsB,EAAM6C,EAASqR,GAGnCzD,EAAGgd,YAAY,KAAOztB,EAAM6C,GAYhC,SAAS6qB,EAAoBjd,EAAIzQ,EAAM6C,EAASqR,GAC1C6X,EACFtb,EAAGid,oBAAoB1tB,EAAM6C,EAASqR,GAEtCzD,EAAGkd,YAAY,KAAO3tB,EAAM6C,GAYhC,IAAI9M,EAAOg2B,EAAc,SAAU1R,GACjCA,EAAEuT,iBACFvT,EAAEwT,kBACFxT,EAAEyT,cAAe,GACf,SAAUzT,GACZA,EAAE0T,aAAc,EAChB1T,EAAEyT,cAAe,GAUnB,SAASE,EAAmC3T,GAC1C,OAAmB,IAAZA,EAAEmT,OAA2B,IAAZnT,EAAEmT,MAQ5B,SAASS,EAAa5T,GAEpB,OAAOA,EAAEmT,MAAQ,EAInBv/B,EAAQ0J,cAAgBA,EACxB1J,EAAQ8+B,eAAiBA,EACzB9+B,EAAQ++B,eAAiBA,EACzB/+B,EAAQ+9B,iBAAmBA,EAC3B/9B,EAAQy/B,oBAAsBA,EAC9Bz/B,EAAQ8H,KAAOA,EACf9H,EAAQ+/B,mCAAqCA,EAC7C//B,EAAQggC,aAAeA,G,uBC7QvB,IAAIzJ,EAAU,EAAQ,QAElB0J,EAAa1J,EAAQvF,SAazB,SAASkP,EAAYn/B,EAAIc,EAAIf,EAAImC,EAAItG,EAAGuG,EAAIC,GAC1C,IAAIE,EAAiB,IAAXvC,EAAKC,GACXuC,EAAiB,IAAXL,EAAKpB,GACf,OAAQ,GAAKA,EAAKf,GAAMuC,EAAKC,GAAMH,IAAO,GAAKtB,EAAKf,GAAM,EAAIuC,EAAKC,GAAMJ,EAAKG,EAAK1G,EAAIkF,EAUzF,SAASwG,EAAS5H,EAAQ0/B,GAKxB,IAJA,IAAIh+B,EAAM1B,EAAOrD,OACboG,EAAM,GACNwtB,EAAW,EAENzyB,EAAI,EAAGA,EAAI4D,EAAK5D,IACvByyB,GAAYiP,EAAWx/B,EAAOlC,EAAI,GAAIkC,EAAOlC,IAG/C,IAAI6hC,EAAOpP,EAAW,EACtBoP,EAAOA,EAAOj+B,EAAMA,EAAMi+B,EAE1B,IAAS7hC,EAAI,EAAGA,EAAI6hC,EAAM7hC,IAAK,CAC7B,IAGIwC,EAEAD,EACAmC,EANAwG,EAAMlL,GAAK6hC,EAAO,IAAMD,EAASh+B,EAAMA,EAAM,GAC7CuZ,EAAMpb,KAAKqD,MAAM8F,GACjB7I,EAAI6I,EAAMiS,EAEV7Z,EAAKpB,EAAOib,EAAMvZ,GAIjBg+B,GAKHp/B,EAAKN,GAAQib,EAAM,EAAIvZ,GAAOA,GAC9BrB,EAAKL,GAAQib,EAAM,GAAKvZ,GACxBc,EAAKxC,GAAQib,EAAM,GAAKvZ,KANxBpB,EAAKN,EAAe,IAARib,EAAYA,EAAMA,EAAM,GACpC5a,EAAKL,EAAOib,EAAMvZ,EAAM,EAAIA,EAAM,EAAIuZ,EAAM,GAC5CzY,EAAKxC,EAAOib,EAAMvZ,EAAM,EAAIA,EAAM,EAAIuZ,EAAM,IAO9C,IAAI2kB,EAAKz/B,EAAIA,EACT0/B,EAAK1/B,EAAIy/B,EACb78B,EAAIZ,KAAK,CAACs9B,EAAYn/B,EAAG,GAAIc,EAAG,GAAIf,EAAG,GAAImC,EAAG,GAAIrC,EAAGy/B,EAAIC,GAAKJ,EAAYn/B,EAAG,GAAIc,EAAG,GAAIf,EAAG,GAAImC,EAAG,GAAIrC,EAAGy/B,EAAIC,KAG/G,OAAO98B,EAGTzD,EAAOC,QAAUqI,G,uBCnEjB,IAAIgV,EAAM,EAAQ,QAEdkjB,EAAuB,EAAQ,QAE/BC,EAAmBD,EAAqBC,iBACxCC,EAAmB,kBACnBxC,EAAW,GAmCf,SAASyC,EAAoBz+B,EAAK0+B,EAAQC,EAAUC,EAAKC,GACvD,OAAOjD,EAA2BI,EAAU0C,EAAQE,EAAKC,GAAK,IAASjD,EAA2B57B,EAAK2+B,EAAU3C,EAAS,GAAIA,EAAS,IA0BzI,SAASJ,EAA2B57B,EAAKugB,EAAIqe,EAAKC,EAAKC,GACrD,GAAIve,EAAGgc,uBAAyBnhB,EAAIU,eAAiB6f,EAAWpb,GAAK,CACnE,IAAIwe,EAAQxe,EAAGie,KAAsBje,EAAGie,GAAoB,IACxDQ,EAAUC,EAAoB1e,EAAIwe,GAClCG,EAAcC,EAA0BH,EAASD,EAAOD,GAE5D,GAAII,EAEF,OADAA,EAAYl/B,EAAK4+B,EAAKC,IACf,EAIX,OAAO,EAGT,SAASI,EAAoB1e,EAAIwe,GAC/B,IAAIC,EAAUD,EAAMC,QAEpB,GAAIA,EACF,OAAOA,EAGTA,EAAUD,EAAMC,QAAU,GAI1B,IAHA,IAAII,EAAS,CAAC,OAAQ,SAClBC,EAAS,CAAC,MAAO,UAEZ/iC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIgjC,EAASvjB,SAASa,cAAc,OAChC2iB,EAAMD,EAAOzzB,MACb2zB,EAAQljC,EAAI,EACZmjC,GAASnjC,GAAK,GAAK,EACvBijC,EAAIG,QAAU,CAAC,qBAAsB,qBAAsB,aAAc,YAAa,kBAAmB,oBAAqB,UAAW,WAEzIN,EAAOI,GAAS,KAAMH,EAAOI,GAAS,KAAML,EAAO,EAAII,GAAS,QAASH,EAAO,EAAII,GAAS,QAAS,IAAI99B,KAAK,eAC/G4e,EAAGof,YAAYL,GACfN,EAAQr+B,KAAK2+B,GAGf,OAAON,EAGT,SAASG,EAA0BH,EAASD,EAAOD,GAQjD,IAPA,IAAIc,EAAkBd,EAAU,WAAa,QACzCI,EAAcH,EAAMa,GACpBC,EAAed,EAAMe,UACrBC,GAAkB,EAClBD,EAAY,GACZE,EAAa,GAER1jC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAI6U,EAAO6tB,EAAQ1iC,GAAGigC,wBAClB0D,EAAK,EAAI3jC,EACTmC,EAAI0S,EAAKpW,KACT2D,EAAIyS,EAAK4nB,IACb+G,EAAUn/B,KAAKlC,EAAGC,GAClBqhC,EAAkBA,GAAmBF,GAAgBphC,IAAMohC,EAAaI,IAAOvhC,IAAMmhC,EAAaI,EAAK,GACvGD,EAAWr/B,KAAKq+B,EAAQ1iC,GAAG4jC,WAAYlB,EAAQ1iC,GAAG6jC,WAIpD,OAAOJ,GAAmBb,EAAcA,GAAeH,EAAMe,UAAYA,EAAWf,EAAMa,GAAmBd,EAAUP,EAAiByB,EAAYF,GAAavB,EAAiBuB,EAAWE,IAG/L,SAASrE,EAAWpb,GAClB,MAAqC,WAA9BA,EAAGgD,SAAS6c,cAGrBriC,EAAQ0gC,oBAAsBA,EAC9B1gC,EAAQ69B,2BAA6BA,EACrC79B,EAAQ49B,WAAaA,G,uBCzIrB,IAAI0E,EAAS,EAAQ,QAEjBhJ,EAAwBgJ,EAAOhJ,sBAenC,SAASiJ,EAAchoB,EAAIC,EAAInB,EAAIC,EAAIC,EAAIC,EAAIwG,EAAWtf,EAAGC,GAC3D,GAAkB,IAAdqf,EACF,OAAO,EAGT,IAAIwiB,EAAKxiB,EAET,GAAIrf,EAAI6Z,EAAKgoB,GAAM7hC,EAAI2Y,EAAKkpB,GAAM7hC,EAAI6Y,EAAKgpB,GAAM7hC,EAAI6Z,EAAKgoB,GAAM7hC,EAAI2Y,EAAKkpB,GAAM7hC,EAAI6Y,EAAKgpB,GAAM9hC,EAAI6Z,EAAKioB,GAAM9hC,EAAI2Y,EAAKmpB,GAAM9hC,EAAI6Y,EAAKipB,GAAM9hC,EAAI6Z,EAAKioB,GAAM9hC,EAAI2Y,EAAKmpB,GAAM9hC,EAAI6Y,EAAKipB,EAChL,OAAO,EAGT,IAAI7lB,EAAI2c,EAAsB/e,EAAIC,EAAInB,EAAIC,EAAIC,EAAIC,EAAI9Y,EAAGC,EAAG,MAC5D,OAAOgc,GAAK6lB,EAAK,EAGnBxiC,EAAQuiC,cAAgBA,G,wBChCxB,IAAIE,EAAO,EAAQ,QAEfplB,EAAM,EAAQ,QAEd5P,EAAS,EAAQ,QAEjBi1B,EAAU,EAAQ,QAElBC,EAAU,EAAQ,QAElBC,EAAU,EAAQ,QAElBzX,EAAY,EAAQ,QAEpB0X,EAAe,EAAQ,QAWvBC,GAAUzlB,EAAIO,gBACdmlB,EAAe,CACjBC,OAAQJ,GAENK,EAAY,GAMZrkB,EAAU,QAYd,SAASskB,EAAK/H,EAAKlwB,GACjB,IAAIk4B,EAAK,IAAIC,EAAQX,IAAQtH,EAAKlwB,GAElC,OADAg4B,EAAUE,EAAG5b,IAAM4b,EACZA,EAQT,SAASE,EAAQF,GACf,GAAIA,EACFA,EAAGE,cACE,CACL,IAAK,IAAI3hC,KAAOuhC,EACVA,EAAUl8B,eAAerF,IAC3BuhC,EAAUvhC,GAAK2hC,UAInBJ,EAAY,GAGd,OAAOxjC,KAST,SAAS6jC,EAAY/b,GACnB,OAAO0b,EAAU1b,GAGnB,SAASgc,EAAgBxxB,EAAMyxB,GAC7BT,EAAahxB,GAAQyxB,EAGvB,SAASC,EAAYlc,UACZ0b,EAAU1b,GAmBnB,IAAI6b,EAAU,SAAU7b,EAAI4T,EAAKlwB,GAC/BA,EAAOA,GAAQ,GAKfxL,KAAK07B,IAAMA,EAKX17B,KAAK8nB,GAAKA,EACV,IAAI9f,EAAOhI,KACPikC,EAAU,IAAIf,EACdgB,EAAe14B,EAAK24B,SAExB,GAAId,EAAQ,CACV,IAAKC,EAAac,IAChB,MAAM,IAAIvkC,MAAM,wDAGlBqkC,EAAe,WACLA,GAAiBZ,EAAaY,KACxCA,EAAe,UAGjB,IAAIjJ,EAAU,IAAIqI,EAAaY,GAAcxI,EAAKuI,EAASz4B,EAAMsc,GACjE9nB,KAAKikC,QAAUA,EACfjkC,KAAKi7B,QAAUA,EACf,IAAIoJ,EAAezmB,EAAIK,MAASL,EAAIY,OAAqE,KAA5D,IAAI4kB,EAAanI,EAAQqJ,kBAAmBrJ,EAAQxxB,MACjGzJ,KAAKmV,QAAU,IAAI8tB,EAAQgB,EAAShJ,EAASoJ,EAAapJ,EAAQxxB,MAKlEzJ,KAAKkI,UAAY,IAAIwjB,EAAU,CAC7BE,MAAO,CACLoB,OAAQhf,EAAOQ,KAAKxO,KAAKukC,MAAOvkC,SAGpCA,KAAKkI,UAAU9K,QAMf4C,KAAKwkC,cAGL,IAAIC,EAAoBR,EAAQS,eAC5BC,EAAkBV,EAAQW,aAE9BX,EAAQS,eAAiB,SAAU3hB,GACjC0hB,EAAkBrhC,KAAK6gC,EAASlhB,GAChCA,GAAMA,EAAG8hB,iBAAiB78B,IAG5Bi8B,EAAQW,aAAe,SAAU7hB,GAC/B4hB,EAAgBvhC,KAAK6gC,EAASlhB,GAC9BA,EAAG+hB,YAAY98B,KAInB27B,EAAQ9hC,UAAY,CAClByH,YAAaq6B,EAMboB,MAAO,WACL,OAAO/kC,KAAK8nB,IAOdR,IAAK,SAAUvE,GACb/iB,KAAKikC,QAAQe,QAAQjiB,GACrB/iB,KAAKwkC,eAAgB,GAOvBS,OAAQ,SAAUliB,GAChB/iB,KAAKikC,QAAQiB,QAAQniB,GACrB/iB,KAAKwkC,eAAgB,GAWvBW,YAAa,SAAUC,EAAQpJ,GACzBh8B,KAAKi7B,QAAQkK,aACfnlC,KAAKi7B,QAAQkK,YAAYC,EAAQpJ,GAGnCh8B,KAAKwkC,eAAgB,GAOvBa,mBAAoB,SAAUC,GACxBtlC,KAAKi7B,QAAQoK,oBACfrlC,KAAKi7B,QAAQoK,mBAAmBC,GAGlCtlC,KAAKwkC,eAAgB,GAMvBe,mBAAoB,WAIlBvlC,KAAKwkC,cAAgBxkC,KAAKwlC,oBAAqB,EAC/CxlC,KAAKi7B,QAAQlnB,UAEb/T,KAAKwkC,cAAgBxkC,KAAKwlC,oBAAqB,GAUjDzxB,QAAS,WACP/T,KAAKwkC,eAAgB,GAMvBD,MAAO,WACL,IAAIkB,EAEAzlC,KAAKwkC,gBACPiB,GAAkB,EAClBzlC,KAAKulC,sBAGHvlC,KAAKwlC,qBACPC,GAAkB,EAClBzlC,KAAK0lC,2BAGPD,GAAmBzlC,KAAKkW,QAAQ,aAQlCyvB,SAAU,SAAU5iB,EAAI1U,GACtB,GAAIrO,KAAKi7B,QAAQ0K,SAAU,CACzB,IAAIC,EAAW5lC,KAAKi7B,QAAQ0K,SAAS5iB,EAAI1U,GAEzC,OADArO,KAAK6lC,eACED,IAQXE,YAAa,SAAU/iB,GACjB/iB,KAAKi7B,QAAQ6K,cACf9lC,KAAKi7B,QAAQ6K,YAAY/iB,GACzB/iB,KAAK6lC,iBAQTE,WAAY,WACN/lC,KAAKi7B,QAAQ8K,aACf/lC,KAAKi7B,QAAQ8K,aACb/lC,KAAK6lC,iBAOTA,aAAc,WACZ7lC,KAAKwlC,oBAAqB,GAM5BE,wBAAyB,WACvB1lC,KAAKwlC,oBAAqB,EAC1BxlC,KAAKi7B,QAAQ4K,cAAgB7lC,KAAKi7B,QAAQ4K,gBAU5ClJ,OAAQ,SAAUnxB,GAChBA,EAAOA,GAAQ,GACfxL,KAAKi7B,QAAQ0B,OAAOnxB,EAAKqD,MAAOrD,EAAKsD,QACrC9O,KAAKmV,QAAQwnB,UAMfqJ,eAAgB,WACdhmC,KAAKkI,UAAU0B,SAMjBwxB,SAAU,WACR,OAAOp7B,KAAKi7B,QAAQG,YAMtBC,UAAW,WACT,OAAOr7B,KAAKi7B,QAAQI,aAsBtB4K,YAAa,SAAUtZ,EAAGzf,GACxB,OAAOlN,KAAKi7B,QAAQgL,YAAYtZ,EAAGzf,IAOrCg5B,eAAgB,SAAUC,GACxBnmC,KAAKmV,QAAQ+wB,eAAeC,IAS9BC,UAAW,SAAUnlC,EAAGC,GACtB,OAAOlB,KAAKmV,QAAQixB,UAAUnlC,EAAGC,IAUnC+T,GAAI,SAAU7K,EAAWi8B,EAAc5yB,GACrCzT,KAAKmV,QAAQF,GAAG7K,EAAWi8B,EAAc5yB,IAQ3CsC,IAAK,SAAU3L,EAAWi8B,GACxBrmC,KAAKmV,QAAQY,IAAI3L,EAAWi8B,IAS9BnwB,QAAS,SAAU9L,EAAWZ,GAC5BxJ,KAAKmV,QAAQe,QAAQ9L,EAAWZ,IAMlCI,MAAO,WACL5J,KAAKikC,QAAQiB,UACbllC,KAAKi7B,QAAQrxB,SAMfg6B,QAAS,WACP5jC,KAAKkI,UAAUG,OACfrI,KAAK4J,QACL5J,KAAKikC,QAAQL,UACb5jC,KAAKi7B,QAAQ2I,UACb5jC,KAAKmV,QAAQyuB,UACb5jC,KAAKkI,UAAYlI,KAAKikC,QAAUjkC,KAAKi7B,QAAUj7B,KAAKmV,QAAU,KAC9D6uB,EAAYhkC,KAAK8nB,MAGrBvnB,EAAQ4e,QAAUA,EAClB5e,EAAQkjC,KAAOA,EACfljC,EAAQqjC,QAAUA,EAClBrjC,EAAQsjC,YAAcA,EACtBtjC,EAAQujC,gBAAkBA,G,qBC/b1B,IAAIwC,EAAiB,CACnB,oBAAqB,EACrB,kBAAmB,EACnB,gBAAiB,EACjB,iBAAkB,EAClB,0BAA2B,EAC3B,yBAA0B,EAE1B,iBAAkB,EAClB,kBAAmB,GAEjBC,EAAc,CAChB,qBAAsB,EACtB,sBAAuB,EACvB,6BAA8B,EAC9B,sBAAuB,EACvB,uBAAwB,EACxB,sBAAuB,EACvB,uBAAwB,EACxB,wBAAyB,EACzB,wBAAyB,GAEvBC,EAAcC,OAAO5kC,UAAU8yB,SAC/B+R,EAAa9kC,MAAMC,UACnB8kC,EAAgBD,EAAWh3B,QAC3Bk3B,EAAeF,EAAWpwB,OAC1BuwB,EAAcH,EAAW5kC,MACzBglC,EAAYJ,EAAWK,IACvBC,EAAeN,EAAWO,OAE1BC,EAAU,GAEd,SAASC,EAAU70B,EAAM80B,GAEV,iBAAT90B,IACF+F,EAAO,MAGT6uB,EAAQ50B,GAAQ80B,EAoBlB,SAAS11B,EAAM21B,GACb,GAAc,MAAVA,GAAoC,kBAAXA,EAC3B,OAAOA,EAGT,IAAItc,EAASsc,EACTC,EAAUd,EAAYpjC,KAAKikC,GAE/B,GAAgB,mBAAZC,GACF,IAAKC,EAAYF,GAAS,CACxBtc,EAAS,GAET,IAAK,IAAIjsB,EAAI,EAAG4D,EAAM2kC,EAAO1pC,OAAQmB,EAAI4D,EAAK5D,IAC5CisB,EAAOjsB,GAAK4S,EAAM21B,EAAOvoC,UAGxB,GAAIynC,EAAYe,IACrB,IAAKC,EAAYF,GAAS,CACxB,IAAItD,EAAOsD,EAAO/9B,YAElB,GAAI+9B,EAAO/9B,YAAYk+B,KACrBzc,EAASgZ,EAAKyD,KAAKH,OACd,CACLtc,EAAS,IAAIgZ,EAAKsD,EAAO1pC,QAEzB,IAASmB,EAAI,EAAG4D,EAAM2kC,EAAO1pC,OAAQmB,EAAI4D,EAAK5D,IAC5CisB,EAAOjsB,GAAK4S,EAAM21B,EAAOvoC,WAI1B,IAAKwnC,EAAegB,KAAaC,EAAYF,KAAYI,EAAMJ,GAGpE,IAAK,IAAIplC,KAFT8oB,EAAS,GAEOsc,EACVA,EAAO//B,eAAerF,KACxB8oB,EAAO9oB,GAAOyP,EAAM21B,EAAOplC,KAKjC,OAAO8oB,EAUT,SAAS2c,EAAM1lC,EAAQqlC,EAAQvjB,GAG7B,IAAK6X,EAAS0L,KAAY1L,EAAS35B,GACjC,OAAO8hB,EAAYpS,EAAM21B,GAAUrlC,EAGrC,IAAK,IAAIC,KAAOolC,EACd,GAAIA,EAAO//B,eAAerF,GAAM,CAC9B,IAAI0lC,EAAa3lC,EAAOC,GACpB2lC,EAAaP,EAAOplC,IAEpB05B,EAASiM,KAAejM,EAASgM,IAAgBE,EAAQD,IAAgBC,EAAQF,IAAgBF,EAAMG,IAAgBH,EAAME,IAAgBG,EAAgBF,IAAgBE,EAAgBH,IAAgBJ,EAAYK,IAAgBL,EAAYI,IAG9O7jB,GAAe7hB,KAAOD,IAG/BA,EAAOC,GAAOyP,EAAM21B,EAAOplC,IAAM,IAJjCylC,EAAMC,EAAYC,EAAY9jB,GASpC,OAAO9hB,EAST,SAAS+lC,EAASC,EAAkBlkB,GAGlC,IAFA,IAAIiH,EAASid,EAAiB,GAErBlpC,EAAI,EAAG4D,EAAMslC,EAAiBrqC,OAAQmB,EAAI4D,EAAK5D,IACtDisB,EAAS2c,EAAM3c,EAAQid,EAAiBlpC,GAAIglB,GAG9C,OAAOiH,EAST,SAAS5F,EAAOnjB,EAAQqlC,GACtB,IAAK,IAAIplC,KAAOolC,EACVA,EAAO//B,eAAerF,KACxBD,EAAOC,GAAOolC,EAAOplC,IAIzB,OAAOD,EAUT,SAASojB,EAASpjB,EAAQqlC,EAAQY,GAChC,IAAK,IAAIhmC,KAAOolC,EACVA,EAAO//B,eAAerF,KAASgmC,EAAyB,MAAfZ,EAAOplC,GAA8B,MAAfD,EAAOC,MACxED,EAAOC,GAAOolC,EAAOplC,IAIzB,OAAOD,EAGT,IASIqW,EATA8iB,EAAe,WACjB,OAAO+L,EAAQ/L,gBAUjB,SAAShiB,IAOP,OANKd,IAGHA,EAAO8iB,IAAehiB,WAAW,OAG5Bd,EAQT,SAAS4Q,EAAQrsB,EAAOc,GACtB,GAAId,EAAO,CACT,GAAIA,EAAMqsB,QACR,OAAOrsB,EAAMqsB,QAAQvrB,GAGvB,IAAK,IAAIoB,EAAI,EAAG4D,EAAM9F,EAAMe,OAAQmB,EAAI4D,EAAK5D,IAC3C,GAAIlC,EAAMkC,KAAOpB,EACf,OAAOoB,EAKb,OAAQ,EAWV,SAASyQ,EAAS24B,EAAOC,GACvB,IAAIC,EAAiBF,EAAMrmC,UAE3B,SAASwmC,KAKT,IAAK,IAAIjlB,KAHTilB,EAAExmC,UAAYsmC,EAAUtmC,UACxBqmC,EAAMrmC,UAAY,IAAIwmC,EAELD,EACXA,EAAe9gC,eAAe8b,KAChC8kB,EAAMrmC,UAAUuhB,GAAQglB,EAAehlB,IAI3C8kB,EAAMrmC,UAAUyH,YAAc4+B,EAC9BA,EAAMI,WAAaH,EAUrB,SAAS3zB,EAAMxS,EAAQqlC,EAAQY,GAC7BjmC,EAAS,cAAeA,EAASA,EAAOH,UAAYG,EACpDqlC,EAAS,cAAeA,EAASA,EAAOxlC,UAAYwlC,EACpDjiB,EAASpjB,EAAQqlC,EAAQY,GAQ3B,SAASvmC,EAAY0W,GACnB,GAAKA,EAIL,MAAoB,kBAATA,GAImB,kBAAhBA,EAAKza,OAWrB,SAAS2nB,EAAKhR,EAAK5L,EAAI+K,GACrB,GAAMa,GAAO5L,EAIb,GAAI4L,EAAI5E,SAAW4E,EAAI5E,UAAYi3B,EACjCryB,EAAI5E,QAAQhH,EAAI+K,QACX,GAAIa,EAAI3W,UAAY2W,EAAI3W,OAC7B,IAAK,IAAImB,EAAI,EAAG4D,EAAM4R,EAAI3W,OAAQmB,EAAI4D,EAAK5D,IACzC4J,EAAGtF,KAAKqQ,EAASa,EAAIxV,GAAIA,EAAGwV,QAG9B,IAAK,IAAIrS,KAAOqS,EACVA,EAAIhN,eAAerF,IACrByG,EAAGtF,KAAKqQ,EAASa,EAAIrS,GAAMA,EAAKqS,GAexC,SAASyyB,EAAIzyB,EAAK5L,EAAI+K,GACpB,GAAMa,GAAO5L,EAAb,CAIA,GAAI4L,EAAIyyB,KAAOzyB,EAAIyyB,MAAQD,EACzB,OAAOxyB,EAAIyyB,IAAIr+B,EAAI+K,GAInB,IAFA,IAAIsX,EAAS,GAEJjsB,EAAI,EAAG4D,EAAM4R,EAAI3W,OAAQmB,EAAI4D,EAAK5D,IACzCisB,EAAO5nB,KAAKuF,EAAGtF,KAAKqQ,EAASa,EAAIxV,GAAIA,EAAGwV,IAG1C,OAAOyW,GAaX,SAASkc,EAAO3yB,EAAK5L,EAAI6/B,EAAM90B,GAC7B,GAAMa,GAAO5L,EAAb,CAIA,GAAI4L,EAAI2yB,QAAU3yB,EAAI2yB,SAAWD,EAC/B,OAAO1yB,EAAI2yB,OAAOv+B,EAAI6/B,EAAM90B,GAE5B,IAAK,IAAI3U,EAAI,EAAG4D,EAAM4R,EAAI3W,OAAQmB,EAAI4D,EAAK5D,IACzCypC,EAAO7/B,EAAGtF,KAAKqQ,EAAS80B,EAAMj0B,EAAIxV,GAAIA,EAAGwV,GAG3C,OAAOi0B,GAaX,SAASjyB,EAAOhC,EAAK5L,EAAI+K,GACvB,GAAMa,GAAO5L,EAAb,CAIA,GAAI4L,EAAIgC,QAAUhC,EAAIgC,SAAWswB,EAC/B,OAAOtyB,EAAIgC,OAAO5N,EAAI+K,GAItB,IAFA,IAAIsX,EAAS,GAEJjsB,EAAI,EAAG4D,EAAM4R,EAAI3W,OAAQmB,EAAI4D,EAAK5D,IACrC4J,EAAGtF,KAAKqQ,EAASa,EAAIxV,GAAIA,EAAGwV,IAC9ByW,EAAO5nB,KAAKmR,EAAIxV,IAIpB,OAAOisB,GAaX,SAASyd,EAAKl0B,EAAK5L,EAAI+K,GACrB,GAAMa,GAAO5L,EAIb,IAAK,IAAI5J,EAAI,EAAG4D,EAAM4R,EAAI3W,OAAQmB,EAAI4D,EAAK5D,IACzC,GAAI4J,EAAGtF,KAAKqQ,EAASa,EAAIxV,GAAIA,EAAGwV,GAC9B,OAAOA,EAAIxV,GAYjB,SAAS0P,EAAKi6B,EAAMh1B,GAClB,IAAI0C,EAAO0wB,EAAYzjC,KAAK6O,UAAW,GACvC,OAAO,WACL,OAAOw2B,EAAKlyB,MAAM9C,EAAS0C,EAAKuyB,OAAO7B,EAAYzjC,KAAK6O,cAU5D,SAAS02B,EAAMF,GACb,IAAItyB,EAAO0wB,EAAYzjC,KAAK6O,UAAW,GACvC,OAAO,WACL,OAAOw2B,EAAKlyB,MAAMvW,KAAMmW,EAAKuyB,OAAO7B,EAAYzjC,KAAK6O,cAUzD,SAAS41B,EAAQnqC,GACf,MAAmC,mBAA5B8oC,EAAYpjC,KAAK1F,GAS1B,SAASkrC,EAAWlrC,GAClB,MAAwB,oBAAVA,EAShB,SAASwnB,EAASxnB,GAChB,MAAmC,oBAA5B8oC,EAAYpjC,KAAK1F,GAS1B,SAASi+B,EAASj+B,GAGhB,IAAIsN,SAActN,EAClB,MAAgB,aAATsN,KAAyBtN,GAAkB,WAATsN,EAS3C,SAAS88B,EAAgBpqC,GACvB,QAAS4oC,EAAeE,EAAYpjC,KAAK1F,IAS3C,SAASmrC,EAAanrC,GACpB,QAAS6oC,EAAYC,EAAYpjC,KAAK1F,IASxC,SAAS+pC,EAAM/pC,GACb,MAAwB,kBAAVA,GAAgD,kBAAnBA,EAAMmoB,UAAwD,kBAAxBnoB,EAAMorC,cASzF,SAASC,EAAMrrC,GAEb,OAAOA,IAAUA,EAUnB,SAASsrC,EAASC,GAChB,IAAK,IAAInqC,EAAI,EAAG4D,EAAMuP,UAAUtU,OAAQmB,EAAI4D,EAAK5D,IAC/C,GAAoB,MAAhBmT,UAAUnT,GACZ,OAAOmT,UAAUnT,GAKvB,SAASoqC,EAAUC,EAAQC,GACzB,OAAiB,MAAVD,EAAiBA,EAASC,EAGnC,SAASC,EAAUF,EAAQC,EAAQE,GACjC,OAAiB,MAAVH,EAAiBA,EAAmB,MAAVC,EAAiBA,EAASE,EAW7D,SAASxnC,IACP,OAAOynC,SAASnmC,KAAKmT,MAAMswB,EAAa50B,WAa1C,SAASu3B,EAAkBl+B,GACzB,GAAmB,kBAARA,EACT,MAAO,CAACA,EAAKA,EAAKA,EAAKA,GAGzB,IAAI5I,EAAM4I,EAAI3N,OAEd,OAAY,IAAR+E,EAEK,CAAC4I,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IACnB,IAAR5I,EAEF,CAAC4I,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAG/BA,EAST,SAASm+B,EAAOC,EAAWC,GACzB,IAAKD,EACH,MAAM,IAAI7pC,MAAM8pC,GAUpB,SAAStkB,EAAKiF,GACZ,OAAW,MAAPA,EACK,KACsB,oBAAbA,EAAIjF,KACbiF,EAAIjF,OAEJiF,EAAII,QAAQ,qCAAsC,IAta7Dwc,EAAQ/L,aAAe,WACrB,OAAO5c,SAASa,cAAc,WAyahC,IAAIwqB,EAAe,mBAKnB,SAASC,EAAev1B,GACtBA,EAAIs1B,IAAgB,EAGtB,SAASrC,EAAYjzB,GACnB,OAAOA,EAAIs1B,GAQb,SAASE,EAAQx1B,GACf,IAAIy1B,EAAQlC,EAAQvzB,GAGpBtU,KAAKoY,KAAO,GACZ,IAAI4xB,EAAUhqC,KAGd,SAASiqC,EAAMvsC,EAAOuE,GACpB8nC,EAAQC,EAAQ71B,IAAIzW,EAAOuE,GAAO+nC,EAAQ71B,IAAIlS,EAAKvE,GAHrD4W,aAAew1B,EAAUx1B,EAAIgR,KAAK2kB,GAAS31B,GAAOgR,EAAKhR,EAAK21B,GAsC9D,SAASC,EAAc51B,GACrB,OAAO,IAAIw1B,EAAQx1B,GAGrB,SAAS61B,EAAYxpC,EAAGC,GAGtB,IAFA,IAAIwpC,EAAW,IAAIzpC,EAAE2I,YAAY3I,EAAEhD,OAASiD,EAAEjD,QAErCmB,EAAI,EAAGA,EAAI6B,EAAEhD,OAAQmB,IAC5BsrC,EAAStrC,GAAK6B,EAAE7B,GAGlB,IAAIf,EAAS4C,EAAEhD,OAEf,IAAKmB,EAAI,EAAGA,EAAI8B,EAAEjD,OAAQmB,IACxBsrC,EAAStrC,EAAIf,GAAU6C,EAAE9B,GAG3B,OAAOsrC,EAGT,SAASC,KAnDTP,EAAQjoC,UAAY,CAClByH,YAAawgC,EAIb5W,IAAK,SAAUjxB,GACb,OAAOjC,KAAKoY,KAAK9Q,eAAerF,GAAOjC,KAAKoY,KAAKnW,GAAO,MAE1DkS,IAAK,SAAUlS,EAAKvE,GAGlB,OAAOsC,KAAKoY,KAAKnW,GAAOvE,GAI1B4nB,KAAM,SAAU5c,EAAI+K,GAIlB,IAAK,IAAIxR,UAHG,IAAZwR,IAAuB/K,EAAK8F,EAAK9F,EAAI+K,IAGrBzT,KAAKoY,KACnBpY,KAAKoY,KAAK9Q,eAAerF,IAAQyG,EAAG1I,KAAKoY,KAAKnW,GAAMA,IAMxDqoC,UAAW,SAAUroC,UACZjC,KAAKoY,KAAKnW,KA0BrB1B,EAAQ4mC,UAAYA,EACpB5mC,EAAQmR,MAAQA,EAChBnR,EAAQmnC,MAAQA,EAChBnnC,EAAQwnC,SAAWA,EACnBxnC,EAAQ4kB,OAASA,EACjB5kB,EAAQ6kB,SAAWA,EACnB7kB,EAAQ46B,aAAeA,EACvB56B,EAAQ4Y,WAAaA,EACrB5Y,EAAQ0oB,QAAUA,EAClB1oB,EAAQgP,SAAWA,EACnBhP,EAAQiU,MAAQA,EAChBjU,EAAQmB,YAAcA,EACtBnB,EAAQ+kB,KAAOA,EACf/kB,EAAQwmC,IAAMA,EACdxmC,EAAQ0mC,OAASA,EACjB1mC,EAAQ+V,OAASA,EACjB/V,EAAQioC,KAAOA,EACfjoC,EAAQiO,KAAOA,EACfjO,EAAQooC,MAAQA,EAChBpoC,EAAQsnC,QAAUA,EAClBtnC,EAAQqoC,WAAaA,EACrBroC,EAAQ2kB,SAAWA,EACnB3kB,EAAQo7B,SAAWA,EACnBp7B,EAAQunC,gBAAkBA,EAC1BvnC,EAAQsoC,aAAeA,EACvBtoC,EAAQknC,MAAQA,EAChBlnC,EAAQwoC,MAAQA,EAChBxoC,EAAQyoC,SAAWA,EACnBzoC,EAAQ2oC,UAAYA,EACpB3oC,EAAQ8oC,UAAYA,EACpB9oC,EAAQuB,MAAQA,EAChBvB,EAAQipC,kBAAoBA,EAC5BjpC,EAAQkpC,OAASA,EACjBlpC,EAAQ8kB,KAAOA,EACf9kB,EAAQspC,eAAiBA,EACzBtpC,EAAQgnC,YAAcA,EACtBhnC,EAAQ2pC,cAAgBA,EACxB3pC,EAAQ4pC,YAAcA,EACtB5pC,EAAQ8pC,KAAOA,G,qBC9tBf,IAAI5lC,EAAS,CAKX8lC,OAAQ,SAAUprC,GAChB,OAAOA,GAOTqrC,YAAa,SAAUrrC,GACrB,OAAOA,EAAIA,GAObsrC,aAAc,SAAUtrC,GACtB,OAAOA,GAAK,EAAIA,IAOlBurC,eAAgB,SAAUvrC,GACxB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,GAGX,MAASA,GAAKA,EAAI,GAAK,IAQjCwrC,QAAS,SAAUxrC,GACjB,OAAOA,EAAIA,EAAIA,GAOjByrC,SAAU,SAAUzrC,GAClB,QAASA,EAAIA,EAAIA,EAAI,GAOvB0rC,WAAY,SAAU1rC,GACpB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAGhB,KAAQA,GAAK,GAAKA,EAAIA,EAAI,IAQnC2rC,UAAW,SAAU3rC,GACnB,OAAOA,EAAIA,EAAIA,EAAIA,GAOrB4rC,WAAY,SAAU5rC,GACpB,OAAO,KAAMA,EAAIA,EAAIA,EAAIA,GAO3B6rC,aAAc,SAAU7rC,GACtB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,GAGnB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,IAQxC8rC,UAAW,SAAU9rC,GACnB,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,GAOzB+rC,WAAY,SAAU/rC,GACpB,QAASA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,GAO/BgsC,aAAc,SAAUhsC,GACtB,OAAKA,GAAK,GAAK,EACN,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAGxB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAQ3CisC,aAAc,SAAUjsC,GACtB,OAAO,EAAI0B,KAAKyQ,IAAInS,EAAI0B,KAAKusB,GAAK,IAOpCie,cAAe,SAAUlsC,GACvB,OAAO0B,KAAKuQ,IAAIjS,EAAI0B,KAAKusB,GAAK,IAOhCke,gBAAiB,SAAUnsC,GACzB,MAAO,IAAO,EAAI0B,KAAKyQ,IAAIzQ,KAAKusB,GAAKjuB,KAQvCosC,cAAe,SAAUpsC,GACvB,OAAa,IAANA,EAAU,EAAI0B,KAAKq2B,IAAI,KAAM/3B,EAAI,IAO1CqsC,eAAgB,SAAUrsC,GACxB,OAAa,IAANA,EAAU,EAAI,EAAI0B,KAAKq2B,IAAI,GAAI,GAAK/3B,IAO7CssC,iBAAkB,SAAUtsC,GAC1B,OAAU,IAANA,EACK,EAGC,IAANA,EACK,GAGJA,GAAK,GAAK,EACN,GAAM0B,KAAKq2B,IAAI,KAAM/3B,EAAI,GAG3B,IAAqC,EAA7B0B,KAAKq2B,IAAI,GAAI,IAAM/3B,EAAI,MAQxCusC,WAAY,SAAUvsC,GACpB,OAAO,EAAI0B,KAAKuI,KAAK,EAAIjK,EAAIA,IAO/BwsC,YAAa,SAAUxsC,GACrB,OAAO0B,KAAKuI,KAAK,KAAMjK,EAAIA,IAO7BysC,cAAe,SAAUzsC,GACvB,OAAKA,GAAK,GAAK,GACL,IAAO0B,KAAKuI,KAAK,EAAIjK,EAAIA,GAAK,GAGjC,IAAO0B,KAAKuI,KAAK,GAAKjK,GAAK,GAAKA,GAAK,IAQ9C0sC,UAAW,SAAU1sC,GACnB,IAAIkyB,EACA1wB,EAAI,GACJS,EAAI,GAER,OAAU,IAANjC,EACK,EAGC,IAANA,EACK,IAGJwB,GAAKA,EAAI,GACZA,EAAI,EACJ0wB,EAAIjwB,EAAI,GAERiwB,EAAIjwB,EAAIP,KAAKirC,KAAK,EAAInrC,IAAM,EAAIE,KAAKusB,KAG9BzsB,EAAIE,KAAKq2B,IAAI,EAAG,IAAM/3B,GAAK,IAAM0B,KAAKuQ,KAAKjS,EAAIkyB,IAAM,EAAIxwB,KAAKusB,IAAMhsB,KAO/E2qC,WAAY,SAAU5sC,GACpB,IAAIkyB,EACA1wB,EAAI,GACJS,EAAI,GAER,OAAU,IAANjC,EACK,EAGC,IAANA,EACK,IAGJwB,GAAKA,EAAI,GACZA,EAAI,EACJ0wB,EAAIjwB,EAAI,GAERiwB,EAAIjwB,EAAIP,KAAKirC,KAAK,EAAInrC,IAAM,EAAIE,KAAKusB,IAGhCzsB,EAAIE,KAAKq2B,IAAI,GAAI,GAAK/3B,GAAK0B,KAAKuQ,KAAKjS,EAAIkyB,IAAM,EAAIxwB,KAAKusB,IAAMhsB,GAAK,IAO5E4qC,aAAc,SAAU7sC,GACtB,IAAIkyB,EACA1wB,EAAI,GACJS,EAAI,GAER,OAAU,IAANjC,EACK,EAGC,IAANA,EACK,IAGJwB,GAAKA,EAAI,GACZA,EAAI,EACJ0wB,EAAIjwB,EAAI,GAERiwB,EAAIjwB,EAAIP,KAAKirC,KAAK,EAAInrC,IAAM,EAAIE,KAAKusB,KAGlCjuB,GAAK,GAAK,EACEwB,EAAIE,KAAKq2B,IAAI,EAAG,IAAM/3B,GAAK,IAAM0B,KAAKuQ,KAAKjS,EAAIkyB,IAAM,EAAIxwB,KAAKusB,IAAMhsB,IAA3E,GAGHT,EAAIE,KAAKq2B,IAAI,GAAI,IAAM/3B,GAAK,IAAM0B,KAAKuQ,KAAKjS,EAAIkyB,IAAM,EAAIxwB,KAAKusB,IAAMhsB,GAAK,GAAM,IAQzF6qC,OAAQ,SAAU9sC,GAChB,IAAIkyB,EAAI,QACR,OAAOlyB,EAAIA,IAAMkyB,EAAI,GAAKlyB,EAAIkyB,IAOhC6a,QAAS,SAAU/sC,GACjB,IAAIkyB,EAAI,QACR,QAASlyB,EAAIA,IAAMkyB,EAAI,GAAKlyB,EAAIkyB,GAAK,GAOvC8a,UAAW,SAAUhtC,GACnB,IAAIkyB,EAAI,UAER,OAAKlyB,GAAK,GAAK,EACCA,EAAIA,IAAMkyB,EAAI,GAAKlyB,EAAIkyB,GAA9B,GAGF,KAAQlyB,GAAK,GAAKA,IAAMkyB,EAAI,GAAKlyB,EAAIkyB,GAAK,IAQnD+a,SAAU,SAAUjtC,GAClB,OAAO,EAAIsF,EAAO4nC,UAAU,EAAIltC,IAOlCktC,UAAW,SAAUltC,GACnB,OAAIA,EAAI,EAAI,KACH,OAASA,EAAIA,EACXA,EAAI,EAAI,KACV,QAAUA,GAAK,IAAM,MAAQA,EAAI,IAC/BA,EAAI,IAAM,KACZ,QAAUA,GAAK,KAAO,MAAQA,EAAI,MAElC,QAAUA,GAAK,MAAQ,MAAQA,EAAI,SAQ9CmtC,YAAa,SAAUntC,GACrB,OAAIA,EAAI,GAC0B,GAAzBsF,EAAO2nC,SAAa,EAAJjtC,GAGY,GAA9BsF,EAAO4nC,UAAc,EAAJltC,EAAQ,GAAW,KAG3CyJ,EAAWnE,EACfnE,EAAOC,QAAUqI,G,oCCzXjB,yBAAwlB,EAAG,G,uBCA3lB,IAAIkF,EAAc,EAAQ,QAEtBE,EAAS,EAAQ,QAEjBu+B,EAAc,EAAQ,QAEtBC,EAAa,EAAQ,QAErB/sB,EAAY,EAAQ,QAEpBC,EAAkBD,EAAUC,gBAQ5B6E,EAAO,SAAU/Y,GAEnBsC,EAAY1K,KAAKpD,KAAMwL,IAGzB+Y,EAAK1iB,UAAY,CACfyH,YAAaib,EACbvZ,KAAM,OACNmD,MAAO,SAAUlB,EAAKmB,GACpB,IAAIC,EAAQrO,KAAKqO,MAEjBrO,KAAKwS,SAAWg6B,EAAWC,mBAAmBp+B,GAAO,GAErDA,EAAM2M,KAAO3M,EAAM6M,OAAS7M,EAAM+R,WAAa/R,EAAMq+B,YAAcr+B,EAAMgS,cAAgBhS,EAAMiS,cAAgB,KAC/G,IAAInR,EAAOd,EAAMc,KAET,MAARA,IAAiBA,GAAQ,IAKpBq9B,EAAWG,aAAax9B,EAAMd,IAOnCrO,KAAKgN,aAAaC,GAClBu/B,EAAWI,WAAW5sC,KAAMiN,EAAKkC,EAAMd,EAAO,KAAMD,GACpDpO,KAAKmN,iBAAiBF,IANpBA,EAAIiW,eAAiBxD,EAAgBmtB,MAQzCx9B,gBAAiB,WACf,IAAIhB,EAAQrO,KAAKqO,MAIjB,GAFArO,KAAKwS,SAAWg6B,EAAWC,mBAAmBp+B,GAAO,IAEhDrO,KAAKsP,MAAO,CACf,IAAIH,EAAOd,EAAMc,KACT,MAARA,EAAeA,GAAQ,GAAKA,EAAO,GACnC,IAAIwE,EAAO44B,EAAYl9B,gBAAgBhB,EAAMc,KAAO,GAAId,EAAMoS,KAAMpS,EAAMoT,UAAWpT,EAAMqT,kBAAmBrT,EAAMsU,YAAatU,EAAMgT,eAAgBhT,EAAMuU,MAI7J,GAHAjP,EAAK1S,GAAKoN,EAAMpN,GAAK,EACrB0S,EAAKzS,GAAKmN,EAAMnN,GAAK,EAEjBsrC,EAAWM,UAAUz+B,EAAM4S,WAAY5S,EAAM+S,iBAAkB,CACjE,IAAIjgB,EAAIkN,EAAM+S,gBACdzN,EAAK1S,GAAKE,EAAI,EACdwS,EAAKzS,GAAKC,EAAI,EACdwS,EAAK9E,OAAS1N,EACdwS,EAAK7E,QAAU3N,EAGjBnB,KAAKsP,MAAQqE,EAGf,OAAO3T,KAAKsP,QAGhBtB,EAAOuB,SAASgV,EAAMzW,GACtB,IAAIlF,EAAW2b,EACfjkB,EAAOC,QAAUqI,G,qBC9EjB,IAAImkC,EAAe,CACjB,WAAc,EACd,cAAiB,EACjB,cAAiB,EACjB,eAAkB,EAClB,kBAAqB,EACrB,kBAAqB,EACrB,kBAAqB,EACrB,qBAAwB,EACxB,qBAAwB,GAG1B,SAASnkC,EAASqE,EAAKtI,EAAUjH,GAC/B,OAAIqvC,EAAazlC,eAAe3C,GACvBjH,EAASuP,EAAIC,IAGfxP,EAGT4C,EAAOC,QAAUqI,G,qBCpBjB,IAAI8W,EAAkB,CACpBmtB,KAAM,EACN1pB,WAAY,EACZ6pB,WAAY,GAGVC,EAAmB,EACvB1sC,EAAQmf,gBAAkBA,EAC1Bnf,EAAQ0sC,iBAAmBA,G,qBCD3B,IAAIC,EAAMrsC,KAAKssC,IAAI,GAEnB,SAASC,EAAYC,EAAMC,EAAMC,EAAUC,EAASC,EAASC,GAC3D,IAAIC,EAAWH,EAAU,IAAMC,EAC3BG,EAAWP,EAAK1vC,OAEpB,GAAI+vC,EAASpmC,eAAeqmC,GAC1B,OAAOD,EAASC,GAGlB,GAAa,IAATL,EAAY,CAEd,IAAIO,EAAWhtC,KAAKqxB,MAAMrxB,KAAKssC,KAAK,GAAKS,GAAY,GAAKH,GAAWP,GACrE,OAAOG,EAAKE,GAAUM,GAGxB,IAAIC,EAAaN,EAAU,GAAKD,EAC5BQ,EAAcR,EAAW,EAE7B,MAAOC,EAAU,GAAKO,EACpBA,IAKF,IAFA,IAAIC,EAAM,EAEDprC,EAAI,EAAGqrC,EAAc,EAAGrrC,EAAIgrC,EAAUhrC,IAAK,CAClD,IAAIsrC,EAAS,GAAKtrC,EAEZsrC,EAAST,IACbO,IAAQC,EAAc,GAAK,EAAI,GAAKZ,EAAKE,GAAU3qC,GACjDwqC,EAAYC,EAAMC,EAAO,EAAGS,EAAaD,EAAYL,EAAUS,EAAQR,GACzEO,KAKJ,OADAP,EAASC,GAAYK,EACdA,EAqBT,SAASjN,EAAiBzyB,EAAK9O,GAC7B,IAAI2uC,EAAK,CAAC,CAAC7/B,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAI9O,EAAK,GAAK8O,EAAI,IAAK9O,EAAK,GAAK8O,EAAI,KACjiBo/B,EAAW,GACXj8B,EAAM27B,EAAYe,EAAI,EAAG,EAAG,EAAG,EAAGT,GAEtC,GAAY,IAARj8B,EAAJ,CASA,IAFA,IAAI28B,EAAK,GAEAtvC,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK,IAAI8D,EAAI,EAAGA,EAAI,EAAGA,IACZ,MAATwrC,EAAGxrC,KAAewrC,EAAGxrC,GAAK,GAC1BwrC,EAAGxrC,MAAQ9D,EAAI8D,GAAK,GAAK,EAAI,GAC7BwqC,EAAYe,EAAI,EAAS,IAANrvC,EAAU,EAAI,EAAG,GAAKA,EAAG,GAAK8D,EAAG8qC,GAAYj8B,EAAMjS,EAAKV,GAI/E,OAAO,SAAU0D,EAAK6rC,EAAWC,GAC/B,IAAIC,EAAKF,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAK,EACjD5rC,EAAI,IAAM6rC,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAKA,EAAG,IAAMG,EAC3D/rC,EAAI,IAAM6rC,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAKA,EAAG,IAAMG,IAI/DhuC,EAAQwgC,iBAAmBA,G,qBC7F3B,IAAIpK,EAAgB,EAAV91B,KAAKusB,GAEf,SAASohB,EAAgBC,GAOvB,OANAA,GAAS9X,EAEL8X,EAAQ,IACVA,GAAS9X,GAGJ8X,EAGTluC,EAAQiuC,gBAAkBA,G,mBCZ1B,SAAShuC,EAAYsa,EAAIC,EAAInB,EAAIC,EAAI5Y,EAAGC,GACtC,GAAIA,EAAI6Z,GAAM7Z,EAAI2Y,GAAM3Y,EAAI6Z,GAAM7Z,EAAI2Y,EACpC,OAAO,EAIT,GAAIA,IAAOkB,EACT,OAAO,EAGT,IAAI2zB,EAAM70B,EAAKkB,EAAK,GAAK,EACrB7d,GAAKgE,EAAI6Z,IAAOlB,EAAKkB,GAEf,IAAN7d,GAAiB,IAANA,IACbwxC,EAAM70B,EAAKkB,EAAK,IAAO,IAGzB,IAAI4zB,EAAKzxC,GAAK0c,EAAKkB,GAAMA,EAEzB,OAAO6zB,IAAO1tC,EAAI0vB,IAAWge,EAAK1tC,EAAIytC,EAAM,EAG9CpuC,EAAOC,QAAUC,G,uBCtBjB,IAAIokB,EAAO,EAAQ,QAEfgqB,EAAa,EAAQ,QAMrBhmC,EAAWgc,EAAKO,OAAO,CACzBna,KAAM,UACNyc,MAAO,CACLzmB,OAAQ,KACRo5B,QAAQ,EACRE,iBAAkB,MAEpBjL,UAAW,SAAUpiB,EAAKwa,GACxBmnB,EAAWvf,UAAUpiB,EAAKwa,GAAO,MAIrCnnB,EAAOC,QAAUqI,G,uBCpBjB,IAAIgV,EAAM,EAAQ,QAgBdixB,EAAa,CAAC,CAAC,aAAc,GAAI,CAAC,cAAe,QAAS,CAAC,gBAAiB,GAAI,CAAC,gBAAiB,IAEtG,SAASjmC,EAASkmC,GAEhB,OAAOlxB,EAAIG,QAAQgB,IAAMnB,EAAIG,QAAQoB,SAAW,GAAK,WACnD,IAEI4vB,EAFAC,EAAYhvC,KAAKuS,YACjBlE,EAAQrO,KAAKqO,MAGjB,GAAI2gC,EACF,IAAK,IAAIlwC,EAAI,EAAGA,EAAIkwC,EAAUrxC,OAAQmB,IAAK,CACzC,IAAImwC,EAAWD,EAAUlwC,GACrB2oB,EAAQwnB,GAAYA,EAASxnB,MAC7Bzc,EAAOikC,GAAYA,EAASjkC,KAEhC,GAAIyc,IAAmB,WAATzc,GAAqByc,EAAMjN,aAAeiN,EAAMhN,UAAqB,SAATzP,KAAqByc,EAAM5Y,QAAU4Y,EAAM3Y,SAAU,CAC7H,IAAK,IAAIlM,EAAI,EAAGA,EAAIisC,EAAWlxC,OAAQiF,IAGrCisC,EAAWjsC,GAAG,GAAKyL,EAAMwgC,EAAWjsC,GAAG,IACvCyL,EAAMwgC,EAAWjsC,GAAG,IAAMisC,EAAWjsC,GAAG,GAG1CmsC,GAAW,EACX,OAON,GAFAD,EAAav4B,MAAMvW,KAAMiS,WAErB88B,EACF,IAASnsC,EAAI,EAAGA,EAAIisC,EAAWlxC,OAAQiF,IACrCyL,EAAMwgC,EAAWjsC,GAAG,IAAMisC,EAAWjsC,GAAG,IAG1CksC,EAGNxuC,EAAOC,QAAUqI,G,2CCvDjB,IAAIsmC,EAAS,WAAa,IAAIC,EAAInvC,KAASqV,EAAG85B,EAAIC,eAAmBC,EAAGF,EAAIG,MAAMD,IAAIh6B,EAAG,OAAOg6B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,4BAA4B,GAAGH,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWx6B,GAAG,CAAC,MAAQ,SAASy6B,GAAQ,OAAOP,EAAIQ,UAAS,MAAS,CAACR,EAAIK,GAAG,WAAWH,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWx6B,GAAG,CAAC,MAAQ,SAASy6B,GAAQ,OAAOP,EAAIQ,UAAS,MAAU,CAACR,EAAIK,GAAG,YAAY,IAAI,GAAGH,EAAG,SAAS,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,IAAI,GAAGA,EAAG,SAAS,CAACO,YAAY,CAAC,aAAa,SAAS,CAACP,EAAG,SAAS,CAAEF,EAAe,YAAEE,EAAG,iBAAiB,CAACI,MAAM,CAAC,UAAYN,EAAIU,aAAaV,EAAIW,MAAM,IAAI,IAAI,IAC1qBC,EAAkB,GCDlB,G,UAAS,WAAa,IAAIZ,EAAInvC,KAASqV,EAAG85B,EAAIC,eAAmBC,EAAGF,EAAIG,MAAMD,IAAIh6B,EAAG,OAAOg6B,EAAG,MAAM,CAACW,IAAI,YAAYT,YAAY,YAAYE,MAAM,CAAC,GAAK,iBAC1J,EAAkB,G,kGCDTQ,EAAc,WACvB,MAAO,CACH,CAAC39B,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,MAAM5U,MAAM,IAClB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,MAAM5U,MAAM,KAClB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,MACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,MACjB,CAAC4U,KAAK,KAAK5U,MAAM,OACjB,CAAC4U,KAAK,KAAK5U,MAAM,MACjB,CAAC4U,KAAK,KAAK5U,MAAM,MACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,KAEjB,CAAC4U,KAAK,KAAK5U,MAAM,GACjB,CAAC4U,KAAK,KAAK5U,MAAM,KACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,IACjB,CAAC4U,KAAK,KAAK5U,MAAM,MAIZwyC,EAAkB,WAC3B,MAAO,CACH,CAAC59B,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAC/E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAC/E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,MAAM5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,MAAM5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,MAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,KAC/E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,MAAM,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC/E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,MAAM,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,MAChF,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,OAAO,CAAC4U,KAAK,KAAK5U,MAAM,MAAM,CAAC4U,KAAK,KAAK5U,MAAM,QAClF,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,MAAM,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,MAAM,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAE9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC3E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,KAAK,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC9E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC5E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC5E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,KAC7E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC5E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,KAC5E,CAAC4U,KAAK,KAAK5U,MAAM,CAAC,CAAC4U,KAAK,KAAK5U,MAAM,IAAI,CAAC4U,KAAK,KAAK5U,MAAM,GAAG,CAAC4U,KAAK,KAAK5U,MAAM,OChEpF,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UAKA,2BAIA,OACE4U,KAAM,WACN69B,OAAQ,CAACxT,EAAX,MACEyT,WAAY,GAEZC,cALF,WAMA,aAGA,qBACA,kBAEEjpC,MAAF,CACA,WACA,cACA,mBACA,OACA,aACU,YAAV,QAKEgR,KAvBF,WAwBI,MAAO,CACX,aAGEk4B,MAAF,CACA,WACM,QADN,SACA,KACA,qBACA,iCACA,oBAKEpJ,QAAF,CACA,UADA,WAEA,2BASQ,KAAR,wCACQ,IAAR,KACA,sBAEA,mCACA,+BAKIqJ,cArBJ,SAqBA,GACM,KAAN,oBACA,2CACA,yBACA,uBAEA,wBAEA,wBAGA,wBAEA,eAlCA,SAkCA,GACA,8CAEA,eArCA,SAqCA,GACA,IAGA,WACA,WACA,sBACA,OACA,KACA,KACA,UACA,0BAGA,6BAOA,cAEA,IADA,SACA,oBACA,mBACA,GACA,QACA,eACA,6BAIA,UAGA,OACA,OACA,OACA,UACA,WACA,WACA,QACA,aACA,YAEA,cACA,WACA,eAIA,SACA,eACA,sBAGA,oCACA,SAEA,YAGA,2BACA,sBACA,oBACA,oCACA,2DANA,mBAaA,SAGA,IADA,KACA,mBACA,sBACA,oBACA,gCACA,qDAMA,WAaA,WACA,QACA,MACA,QACA,YACA,aACA,eACA,cACA,gBACA,SAEA,8BAeA,SACA,QACA,kBACA,aACA,cAKA,KACA,QACA,MACA,OACA,QACA,SAEA,UACA,UAGA,QACA,WACA,QACA,iBACA,uBAEA,UACA,uBAIA,QAEA,CACA,UACA,eACA,uBACA,6BACA,0BACA,mBACA,uBACA,MAeA,OAbA,EADA,UAEA,SADA,SAIA,QAEA,OAEA,MAEA,WACA,KAEA,GAIA,OACA,QACA,sBAEgB,MAAhB,aACA,OACA,aACA,cAEA,QAGA,kBACA,SAEA,UACA,UAGA,WACA,QACA,gBAKA,CACA,WACA,MACA,WACA,gBACA,oBACA,OACA,QACA,SAEA,UACA,QACA,WACA,gBAIA,QACA,WACA,QACA,oBACA,uBAEA,UACA,sBAGA,aACA,QAmCA,CACA,aACA,qBACA,uBACA,6BACA,0BACA,YACA,uBACA,MAeA,OAbA,EADA,UAEA,SADA,SAIA,QAEA,OAEA,MAEA,WACA,KAEA,GAEA,sBACA,cACA,oBAEA,kBACA,OACA,QACA,gBACA,iBACA,UAGA,WACA,QACA,eACA,cACA,uBAGA,cAOEC,QAhZF,WAiZA,uBAEA,mBC/aiW,I,wBCQ7VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCUf,uGAIA,GACEn+B,KAAM,aACN89B,WAAY,CACV,aAAJ,EACI,SAAJ,GAEEh4B,KANF,WAOI,MAAO,CACL,UAAN,GACM,aAAN,IAGE8uB,QAAF,CACI,SADJ,SACA,GACM,QAAN,WAEQ,KAAR,UADA,EACA,kBACU,WAAV,8BACU,MAAV,sBACU,WAAV,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","file":"assets/js/echarttest.8260584d.js","sourcesContent":["// https://github.com/mziccard/node-timsort\nvar DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\n\nfunction minRunLength(n) {\n  var r = 0;\n\n  while (n >= DEFAULT_MIN_MERGE) {\n    r |= n & 1;\n    n >>= 1;\n  }\n\n  return n + r;\n}\n\nfunction makeAscendingRun(array, lo, hi, compare) {\n  var runHi = lo + 1;\n\n  if (runHi === hi) {\n    return 1;\n  }\n\n  if (compare(array[runHi++], array[lo]) < 0) {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n      runHi++;\n    }\n\n    reverseRun(array, lo, runHi);\n  } else {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n      runHi++;\n    }\n  }\n\n  return runHi - lo;\n}\n\nfunction reverseRun(array, lo, hi) {\n  hi--;\n\n  while (lo < hi) {\n    var t = array[lo];\n    array[lo++] = array[hi];\n    array[hi--] = t;\n  }\n}\n\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n  if (start === lo) {\n    start++;\n  }\n\n  for (; start < hi; start++) {\n    var pivot = array[start];\n    var left = lo;\n    var right = start;\n    var mid;\n\n    while (left < right) {\n      mid = left + right >>> 1;\n\n      if (compare(pivot, array[mid]) < 0) {\n        right = mid;\n      } else {\n        left = mid + 1;\n      }\n    }\n\n    var n = start - left;\n\n    switch (n) {\n      case 3:\n        array[left + 3] = array[left + 2];\n\n      case 2:\n        array[left + 2] = array[left + 1];\n\n      case 1:\n        array[left + 1] = array[left];\n        break;\n\n      default:\n        while (n > 0) {\n          array[left + n] = array[left + n - 1];\n          n--;\n        }\n\n    }\n\n    array[left] = pivot;\n  }\n}\n\nfunction gallopLeft(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) > 0) {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  } else {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) > 0) {\n      lastOffset = m + 1;\n    } else {\n      offset = m;\n    }\n  }\n\n  return offset;\n}\n\nfunction gallopRight(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) < 0) {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  } else {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) < 0) {\n      offset = m;\n    } else {\n      lastOffset = m + 1;\n    }\n  }\n\n  return offset;\n}\n\nfunction TimSort(array, compare) {\n  var minGallop = DEFAULT_MIN_GALLOPING;\n  var length = 0;\n  var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n  var stackLength = 0;\n  var runStart;\n  var runLength;\n  var stackSize = 0;\n  length = array.length;\n\n  if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n    tmpStorageLength = length >>> 1;\n  }\n\n  var tmp = [];\n  stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n  runStart = [];\n  runLength = [];\n\n  function pushRun(_runStart, _runLength) {\n    runStart[stackSize] = _runStart;\n    runLength[stackSize] = _runLength;\n    stackSize += 1;\n  }\n\n  function mergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n        if (runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n      } else if (runLength[n] > runLength[n + 1]) {\n        break;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function forceMergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n        n--;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function mergeAt(i) {\n    var start1 = runStart[i];\n    var length1 = runLength[i];\n    var start2 = runStart[i + 1];\n    var length2 = runLength[i + 1];\n    runLength[i] = length1 + length2;\n\n    if (i === stackSize - 3) {\n      runStart[i + 1] = runStart[i + 2];\n      runLength[i + 1] = runLength[i + 2];\n    }\n\n    stackSize--;\n    var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n    start1 += k;\n    length1 -= k;\n\n    if (length1 === 0) {\n      return;\n    }\n\n    length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n    if (length2 === 0) {\n      return;\n    }\n\n    if (length1 <= length2) {\n      mergeLow(start1, length1, start2, length2);\n    } else {\n      mergeHigh(start1, length1, start2, length2);\n    }\n  }\n\n  function mergeLow(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length1; i++) {\n      tmp[i] = array[start1 + i];\n    }\n\n    var cursor1 = 0;\n    var cursor2 = start2;\n    var dest = start1;\n    array[dest++] = array[cursor2++];\n\n    if (--length2 === 0) {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n\n      return;\n    }\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n      return;\n    }\n\n    var _minGallop = minGallop;\n    var count1;\n    var count2;\n    var exit;\n\n    while (1) {\n      count1 = 0;\n      count2 = 0;\n      exit = false;\n\n      do {\n        if (compare(array[cursor2], tmp[cursor1]) < 0) {\n          array[dest++] = array[cursor2++];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest++] = tmp[cursor1++];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n        if (count1 !== 0) {\n          for (i = 0; i < count1; i++) {\n            array[dest + i] = tmp[cursor1 + i];\n          }\n\n          dest += count1;\n          cursor1 += count1;\n          length1 -= count1;\n\n          if (length1 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = array[cursor2++];\n\n        if (--length2 === 0) {\n          exit = true;\n          break;\n        }\n\n        count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n        if (count2 !== 0) {\n          for (i = 0; i < count2; i++) {\n            array[dest + i] = array[cursor2 + i];\n          }\n\n          dest += count2;\n          cursor2 += count2;\n          length2 -= count2;\n\n          if (length2 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = tmp[cursor1++];\n\n        if (--length1 === 1) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n    minGallop < 1 && (minGallop = 1);\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n    } else if (length1 === 0) {\n      throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n    } else {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n    }\n  }\n\n  function mergeHigh(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length2; i++) {\n      tmp[i] = array[start2 + i];\n    }\n\n    var cursor1 = start1 + length1 - 1;\n    var cursor2 = length2 - 1;\n    var dest = start2 + length2 - 1;\n    var customCursor = 0;\n    var customDest = 0;\n    array[dest--] = array[cursor1--];\n\n    if (--length1 === 0) {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n\n      return;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n      return;\n    }\n\n    var _minGallop = minGallop;\n\n    while (true) {\n      var count1 = 0;\n      var count2 = 0;\n      var exit = false;\n\n      do {\n        if (compare(tmp[cursor2], array[cursor1]) < 0) {\n          array[dest--] = array[cursor1--];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest--] = tmp[cursor2--];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n        if (count1 !== 0) {\n          dest -= count1;\n          cursor1 -= count1;\n          length1 -= count1;\n          customDest = dest + 1;\n          customCursor = cursor1 + 1;\n\n          for (i = count1 - 1; i >= 0; i--) {\n            array[customDest + i] = array[customCursor + i];\n          }\n\n          if (length1 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = tmp[cursor2--];\n\n        if (--length2 === 1) {\n          exit = true;\n          break;\n        }\n\n        count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n        if (count2 !== 0) {\n          dest -= count2;\n          cursor2 -= count2;\n          length2 -= count2;\n          customDest = dest + 1;\n          customCursor = cursor2 + 1;\n\n          for (i = 0; i < count2; i++) {\n            array[customDest + i] = tmp[customCursor + i];\n          }\n\n          if (length2 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = array[cursor1--];\n\n        if (--length1 === 0) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n\n    if (minGallop < 1) {\n      minGallop = 1;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n    } else if (length2 === 0) {\n      throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n    } else {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n    }\n  }\n\n  this.mergeRuns = mergeRuns;\n  this.forceMergeRuns = forceMergeRuns;\n  this.pushRun = pushRun;\n}\n\nfunction sort(array, compare, lo, hi) {\n  if (!lo) {\n    lo = 0;\n  }\n\n  if (!hi) {\n    hi = array.length;\n  }\n\n  var remaining = hi - lo;\n\n  if (remaining < 2) {\n    return;\n  }\n\n  var runLength = 0;\n\n  if (remaining < DEFAULT_MIN_MERGE) {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n    binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n    return;\n  }\n\n  var ts = new TimSort(array, compare);\n  var minRun = minRunLength(remaining);\n\n  do {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n\n    if (runLength < minRun) {\n      var force = remaining;\n\n      if (force > minRun) {\n        force = minRun;\n      }\n\n      binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n      runLength = force;\n    }\n\n    ts.pushRun(lo, runLength);\n    ts.mergeRuns();\n    remaining -= runLength;\n    lo += runLength;\n  } while (remaining !== 0);\n\n  ts.forceMergeRuns();\n}\n\nmodule.exports = sort;","var windingLine = require(\"./windingLine\");\n\nvar EPSILON = 1e-8;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n}\n\nfunction contain(points, x, y) {\n  var w = 0;\n  var p = points[0];\n\n  if (!p) {\n    return false;\n  }\n\n  for (var i = 1; i < points.length; i++) {\n    var p2 = points[i];\n    w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n    p = p2;\n  } // Close polygon\n\n\n  var p0 = points[0];\n\n  if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n    w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n  }\n\n  return w !== 0;\n}\n\nexports.contain = contain;","var Clip = require(\"./Clip\");\n\nvar color = require(\"../tool/color\");\n\nvar _util = require(\"../core/util\");\n\nvar isArrayLike = _util.isArrayLike;\n\n/**\n * @module echarts/animation/Animator\n */\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n  return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n  target[key] = value;\n}\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\n\n\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\n\n\nfunction interpolateString(p0, p1, percent) {\n  return percent > 0.5 ? p1 : p0;\n}\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n  } else {\n    var len2 = len && p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n      }\n    }\n  }\n} // arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\nfunction fillArr(arr0, arr1, arrDim) {\n  var arr0Len = arr0.length;\n  var arr1Len = arr1.length;\n\n  if (arr0Len !== arr1Len) {\n    // FIXME Not work for TypedArray\n    var isPreviousLarger = arr0Len > arr1Len;\n\n    if (isPreviousLarger) {\n      // Cut the previous\n      arr0.length = arr1Len;\n    } else {\n      // Fill the previous\n      for (var i = arr0Len; i < arr1Len; i++) {\n        arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n      }\n    }\n  } // Handling NaN value\n\n\n  var len2 = arr0[0] && arr0[0].length;\n\n  for (var i = 0; i < arr0.length; i++) {\n    if (arrDim === 1) {\n      if (isNaN(arr0[i])) {\n        arr0[i] = arr1[i];\n      }\n    } else {\n      for (var j = 0; j < len2; j++) {\n        if (isNaN(arr0[i][j])) {\n          arr0[i][j] = arr1[i][j];\n        }\n      }\n    }\n  }\n}\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\n\n\nfunction isArraySame(arr0, arr1, arrDim) {\n  if (arr0 === arr1) {\n    return true;\n  }\n\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      if (arr0[i] !== arr1[i]) {\n        return false;\n      }\n    }\n  } else {\n    var len2 = arr0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        if (arr0[i][j] !== arr1[i][j]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n    }\n  } else {\n    var len2 = p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n      }\n    }\n  }\n}\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\n\n\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n  if (isArrayLike(value)) {\n    var len = value.length;\n\n    if (isArrayLike(value[0])) {\n      var ret = [];\n\n      for (var i = 0; i < len; i++) {\n        ret.push(arraySlice.call(value[i]));\n      }\n\n      return ret;\n    }\n\n    return arraySlice.call(value);\n  }\n\n  return value;\n}\n\nfunction rgba2String(rgba) {\n  rgba[0] = Math.floor(rgba[0]);\n  rgba[1] = Math.floor(rgba[1]);\n  rgba[2] = Math.floor(rgba[2]);\n  return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n  var lastValue = keyframes[keyframes.length - 1].value;\n  return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n  var getter = animator._getter;\n  var setter = animator._setter;\n  var useSpline = easing === 'spline';\n  var trackLen = keyframes.length;\n\n  if (!trackLen) {\n    return;\n  } // Guess data type\n\n\n  var firstVal = keyframes[0].value;\n  var isValueArray = isArrayLike(firstVal);\n  var isValueColor = false;\n  var isValueString = false; // For vertices morphing\n\n  var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n  var trackMaxTime; // Sort keyframe as ascending\n\n  keyframes.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n  var kfPercents = []; // Value of each keyframe\n\n  var kfValues = [];\n  var prevValue = keyframes[0].value;\n  var isAllValueEqual = true;\n\n  for (var i = 0; i < trackLen; i++) {\n    kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n    var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n    if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n      isAllValueEqual = false;\n    }\n\n    prevValue = value; // Try converting a string to a color array\n\n    if (typeof value === 'string') {\n      var colorArray = color.parse(value);\n\n      if (colorArray) {\n        value = colorArray;\n        isValueColor = true;\n      } else {\n        isValueString = true;\n      }\n    }\n\n    kfValues.push(value);\n  }\n\n  if (!forceAnimate && isAllValueEqual) {\n    return;\n  }\n\n  var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n  for (var i = 0; i < trackLen - 1; i++) {\n    if (isValueArray) {\n      fillArr(kfValues[i], lastValue, arrDim);\n    } else {\n      if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n        kfValues[i] = lastValue;\n      }\n    }\n  }\n\n  isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n  // animation playback is sequency\n\n  var lastFrame = 0;\n  var lastFramePercent = 0;\n  var start;\n  var w;\n  var p0;\n  var p1;\n  var p2;\n  var p3;\n\n  if (isValueColor) {\n    var rgba = [0, 0, 0, 0];\n  }\n\n  var onframe = function (target, percent) {\n    // Find the range keyframes\n    // kf1-----kf2---------current--------kf3\n    // find kf2 and kf3 and do interpolation\n    var frame; // In the easing function like elasticOut, percent may less than 0\n\n    if (percent < 0) {\n      frame = 0;\n    } else if (percent < lastFramePercent) {\n      // Start from next key\n      // PENDING start from lastFrame ?\n      start = Math.min(lastFrame + 1, trackLen - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (kfPercents[frame] <= percent) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, trackLen - 2);\n    } else {\n      for (frame = lastFrame; frame < trackLen; frame++) {\n        if (kfPercents[frame] > percent) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, trackLen - 2);\n    }\n\n    lastFrame = frame;\n    lastFramePercent = percent;\n    var range = kfPercents[frame + 1] - kfPercents[frame];\n\n    if (range === 0) {\n      return;\n    } else {\n      w = (percent - kfPercents[frame]) / range;\n    }\n\n    if (useSpline) {\n      p1 = kfValues[frame];\n      p0 = kfValues[frame === 0 ? frame : frame - 1];\n      p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n      p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n      if (isValueArray) {\n        catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(p1, p2, w);\n        } else {\n          value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n        }\n\n        setter(target, propName, value);\n      }\n    } else {\n      if (isValueArray) {\n        interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n        } else {\n          value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n        }\n\n        setter(target, propName, value);\n      }\n    }\n  };\n\n  var clip = new Clip({\n    target: animator._target,\n    life: trackMaxTime,\n    loop: animator._loop,\n    delay: animator._delay,\n    onframe: onframe,\n    ondestroy: oneTrackDone\n  });\n\n  if (easing && easing !== 'spline') {\n    clip.easing = easing;\n  }\n\n  return clip;\n}\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\n\n\nvar Animator = function (target, loop, getter, setter) {\n  this._tracks = {};\n  this._target = target;\n  this._loop = loop || false;\n  this._getter = getter || defaultGetter;\n  this._setter = setter || defaultSetter;\n  this._clipCount = 0;\n  this._delay = 0;\n  this._doneList = [];\n  this._onframeList = [];\n  this._clipList = [];\n};\n\nAnimator.prototype = {\n  /**\n   * Set Animation keyframe\n   * @param  {number} time ms\n   * @param  {Object} props key-value\n   * @return {module:zrender/animation/Animator}\n   */\n  when: function (time\n  /* ms */\n  , props) {\n    var tracks = this._tracks;\n\n    for (var propName in props) {\n      if (!props.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      if (!tracks[propName]) {\n        tracks[propName] = []; // Invalid value\n\n        var value = this._getter(this._target, propName);\n\n        if (value == null) {\n          // zrLog('Invalid property ' + propName);\n          continue;\n        } // If time is 0\n        //  Then props is given initialize value\n        // Else\n        //  Initialize value from current prop value\n\n\n        if (time !== 0) {\n          tracks[propName].push({\n            time: 0,\n            value: cloneValue(value)\n          });\n        }\n      }\n\n      tracks[propName].push({\n        time: time,\n        value: props[propName]\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} callback\n   * @return {module:zrender/animation/Animator}\n   */\n  during: function (callback) {\n    this._onframeList.push(callback);\n\n    return this;\n  },\n  pause: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].pause();\n    }\n\n    this._paused = true;\n  },\n  resume: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].resume();\n    }\n\n    this._paused = false;\n  },\n  isPaused: function () {\n    return !!this._paused;\n  },\n  _doneCallback: function () {\n    // Clear all tracks\n    this._tracks = {}; // Clear all clips\n\n    this._clipList.length = 0;\n    var doneList = this._doneList;\n    var len = doneList.length;\n\n    for (var i = 0; i < len; i++) {\n      doneList[i].call(this);\n    }\n  },\n\n  /**\n   * Start the animation\n   * @param  {string|Function} [easing]\n   *         {@link module:zrender/animation/easing}\n   * @param  {boolean} forceAnimate\n   * @return {module:zrender/animation/Animator}\n   */\n  start: function (easing, forceAnimate) {\n    var self = this;\n    var clipCount = 0;\n\n    var oneTrackDone = function () {\n      clipCount--;\n\n      if (!clipCount) {\n        self._doneCallback();\n      }\n    };\n\n    var lastClip;\n\n    for (var propName in this._tracks) {\n      if (!this._tracks.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n      if (clip) {\n        this._clipList.push(clip);\n\n        clipCount++; // If start after added to animation\n\n        if (this.animation) {\n          this.animation.addClip(clip);\n        }\n\n        lastClip = clip;\n      }\n    } // Add during callback on the last clip\n\n\n    if (lastClip) {\n      var oldOnFrame = lastClip.onframe;\n\n      lastClip.onframe = function (target, percent) {\n        oldOnFrame(target, percent);\n\n        for (var i = 0; i < self._onframeList.length; i++) {\n          self._onframeList[i](target, percent);\n        }\n      };\n    } // This optimization will help the case that in the upper application\n    // the view may be refreshed frequently, where animation will be\n    // called repeatly but nothing changed.\n\n\n    if (!clipCount) {\n      this._doneCallback();\n    }\n\n    return this;\n  },\n\n  /**\n   * Stop animation\n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stop: function (forwardToLast) {\n    var clipList = this._clipList;\n    var animation = this.animation;\n\n    for (var i = 0; i < clipList.length; i++) {\n      var clip = clipList[i];\n\n      if (forwardToLast) {\n        // Move to last frame before stop\n        clip.onframe(this._target, 1);\n      }\n\n      animation && animation.removeClip(clip);\n    }\n\n    clipList.length = 0;\n  },\n\n  /**\n   * Set when animation delay starts\n   * @param  {number} time ms\n   * @return {module:zrender/animation/Animator}\n   */\n  delay: function (time) {\n    this._delay = time;\n    return this;\n  },\n\n  /**\n   * Add callback for animation end\n   * @param  {Function} cb\n   * @return {module:zrender/animation/Animator}\n   */\n  done: function (cb) {\n    if (cb) {\n      this._doneList.push(cb);\n    }\n\n    return this;\n  },\n\n  /**\n   * @return {Array.<module:zrender/animation/Clip>}\n   */\n  getClips: function () {\n    return this._clipList;\n  }\n};\nvar _default = Animator;\nmodule.exports = _default;","var eventUtil = require(\"./event\");\n\n/**\n * Only implements needed gestures for mobile.\n */\nvar GestureMgr = function () {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  this._track = [];\n};\n\nGestureMgr.prototype = {\n  constructor: GestureMgr,\n  recognize: function (event, target, root) {\n    this._doTrack(event, target, root);\n\n    return this._recognize(event);\n  },\n  clear: function () {\n    this._track.length = 0;\n    return this;\n  },\n  _doTrack: function (event, target, root) {\n    var touches = event.touches;\n\n    if (!touches) {\n      return;\n    }\n\n    var trackItem = {\n      points: [],\n      touches: [],\n      target: target,\n      event: event\n    };\n\n    for (var i = 0, len = touches.length; i < len; i++) {\n      var touch = touches[i];\n      var pos = eventUtil.clientToLocal(root, touch, {});\n      trackItem.points.push([pos.zrX, pos.zrY]);\n      trackItem.touches.push(touch);\n    }\n\n    this._track.push(trackItem);\n  },\n  _recognize: function (event) {\n    for (var eventName in recognizers) {\n      if (recognizers.hasOwnProperty(eventName)) {\n        var gestureInfo = recognizers[eventName](this._track, event);\n\n        if (gestureInfo) {\n          return gestureInfo;\n        }\n      }\n    }\n  }\n};\n\nfunction dist(pointPair) {\n  var dx = pointPair[1][0] - pointPair[0][0];\n  var dy = pointPair[1][1] - pointPair[0][1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction center(pointPair) {\n  return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n}\n\nvar recognizers = {\n  pinch: function (track, event) {\n    var trackLen = track.length;\n\n    if (!trackLen) {\n      return;\n    }\n\n    var pinchEnd = (track[trackLen - 1] || {}).points;\n    var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n    if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n      var pinchScale = dist(pinchEnd) / dist(pinchPre);\n      !isFinite(pinchScale) && (pinchScale = 1);\n      event.pinchScale = pinchScale;\n      var pinchCenter = center(pinchEnd);\n      event.pinchX = pinchCenter[0];\n      event.pinchY = pinchCenter[1];\n      return {\n        type: 'pinch',\n        target: track[0].target,\n        event: event\n      };\n    }\n  } // Only pinch currently.\n\n};\nvar _default = GestureMgr;\nmodule.exports = _default;","var matrix = require(\"../core/matrix\");\n\nvar vector = require(\"../core/vector\");\n\n/**\n * \n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * \n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * \n * , position, rotation, scaletransformtransform\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\nvar scaleTmp = [];\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // \n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // \n\n\n  this.transform = m;\n  var globalScaleRatio = this.globalScaleRatio;\n\n  if (globalScaleRatio != null && globalScaleRatio !== 1) {\n    this.getGlobalScale(scaleTmp);\n    var relX = scaleTmp[0] < 0 ? -1 : 1;\n    var relY = scaleTmp[1] < 0 ? -1 : 1;\n    var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n    var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n    m[0] *= sx;\n    m[1] *= sx;\n    m[2] *= sy;\n    m[3] *= sy;\n  }\n\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * transformcontext\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\nvar originTransform = matrix.create();\n\ntransformableProto.setLocalTransform = function (m) {\n  if (!m) {\n    // TODO return or set identity?\n    return;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * `transform``position`, `rotation`, `scale`\n */\n\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var origin = this.origin;\n\n  if (origin && (origin[0] || origin[1])) {\n    originTransform[4] = origin[0];\n    originTransform[5] = origin[1];\n    matrix.mul(tmpTransform, m, originTransform);\n    tmpTransform[4] -= origin[0];\n    tmpTransform[5] -= origin[1];\n    m = tmpTransform;\n  }\n\n  this.setLocalTransform(m);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function (out) {\n  var m = this.transform;\n  out = out || [];\n\n  if (!m) {\n    out[0] = 1;\n    out[1] = 1;\n    return out;\n  }\n\n  out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    out[0] = -out[0];\n  }\n\n  if (m[3] < 0) {\n    out[1] = -out[1];\n  }\n\n  return out;\n};\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;","var Displayable = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar imageHelper = require(\"./helper/image\");\n\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction ZImage(opts) {\n  Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n  constructor: ZImage,\n  type: 'image',\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var src = style.image; // Must bind each time\n\n    style.bind(ctx, this, prevEl);\n    var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n    if (!image || !imageHelper.isImageReady(image)) {\n      return;\n    } // \n    // if (image.nodeName.toUpperCase() == 'IMG') {\n    //     if (!image.complete) {\n    //         return;\n    //     }\n    // }\n    // Else is canvas\n\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = style.width;\n    var height = style.height;\n    var aspect = image.width / image.height;\n\n    if (width == null && height != null) {\n      // Keep image/height ratio\n      width = height * aspect;\n    } else if (height == null && width != null) {\n      height = width / aspect;\n    } else if (width == null && height == null) {\n      width = image.width;\n      height = image.height;\n    } // transform\n\n\n    this.setTransform(ctx);\n\n    if (style.sWidth && style.sHeight) {\n      var sx = style.sx || 0;\n      var sy = style.sy || 0;\n      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    } else if (style.sx && style.sy) {\n      var sx = style.sx;\n      var sy = style.sy;\n      var sWidth = width - sx;\n      var sHeight = height - sy;\n      ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    } else {\n      ctx.drawImage(image, x, y, width, height);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  getBoundingRect: function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(ZImage, Displayable);\nvar _default = ZImage;\nmodule.exports = _default;","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","/**\n * 3x2\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var zrUtil = require(\"../core/util\");\n\nvar Style = require(\"./Style\");\n\nvar Element = require(\"../Element\");\n\nvar RectText = require(\"./mixin/RectText\");\n\n/**\n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\nfunction Displayable(opts) {\n  opts = opts || {};\n  Element.call(this, opts); // Extend properties\n\n  for (var name in opts) {\n    if (opts.hasOwnProperty(name) && name !== 'style') {\n      this[name] = opts[name];\n    }\n  }\n  /**\n   * @type {module:zrender/graphic/Style}\n   */\n\n\n  this.style = new Style(opts.style, this);\n  this._rect = null; // Shapes for cascade clipping.\n  // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n  // because it is easy to only using null to check whether clipPaths changed.\n\n  this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n  // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n  constructor: Displayable,\n  type: 'displayable',\n\n  /**\n   * Dirty flag. From which painter will determine if this displayable object needs brush.\n   * @name module:zrender/graphic/Displayable#__dirty\n   * @type {boolean}\n   */\n  __dirty: true,\n\n  /**\n   * Whether the displayable object is visible. when it is true, the displayable object\n   * is not drawn, but the mouse event can still trigger the object.\n   * @name module:/zrender/graphic/Displayable#invisible\n   * @type {boolean}\n   * @default false\n   */\n  invisible: false,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z: 0,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z2: 0,\n\n  /**\n   * The z level determines the displayable object can be drawn in which layer canvas.\n   * @name module:/zrender/graphic/Displayable#zlevel\n   * @type {number}\n   * @default 0\n   */\n  zlevel: 0,\n\n  /**\n   * Whether it can be dragged.\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  draggable: false,\n\n  /**\n   * Whether is it dragging.\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  dragging: false,\n\n  /**\n   * Whether to respond to mouse events.\n   * @name module:/zrender/graphic/Displayable#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * If enable culling\n   * @type {boolean}\n   * @default false\n   */\n  culling: false,\n\n  /**\n   * Mouse cursor when hovered\n   * @name module:/zrender/graphic/Displayable#cursor\n   * @type {string}\n   */\n  cursor: 'pointer',\n\n  /**\n   * If hover area is bounding rect\n   * @name module:/zrender/graphic/Displayable#rectHover\n   * @type {string}\n   */\n  rectHover: false,\n\n  /**\n   * Render the element progressively when the value >= 0,\n   * usefull for large data.\n   * @type {boolean}\n   */\n  progressive: false,\n\n  /**\n   * @type {boolean}\n   */\n  incremental: false,\n\n  /**\n   * Scale ratio for global scale.\n   * @type {boolean}\n   */\n  globalScaleRatio: 1,\n  beforeBrush: function (ctx) {},\n  afterBrush: function (ctx) {},\n\n  /**\n   * Graphic drawing method.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  // Interface\n  brush: function (ctx, prevEl) {},\n\n  /**\n   * Get the minimum bounding box.\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // Interface\n  getBoundingRect: function () {},\n\n  /**\n   * If displayable element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  contain: function (x, y) {\n    return this.rectContain(x, y);\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    cb.call(context, this);\n  },\n\n  /**\n   * If bounding rect of element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  rectContain: function (x, y) {\n    var coord = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    return rect.contain(coord[0], coord[1]);\n  },\n\n  /**\n   * Mark displayable element dirty and refresh next frame\n   */\n  dirty: function () {\n    this.__dirty = this.__dirtyText = true;\n    this._rect = null;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * If displayable object binded any event\n   * @return {boolean}\n   */\n  // TODO, events bound by bind\n  // isSilent: function () {\n  //     return !(\n  //         this.hoverable || this.draggable\n  //         || this.onmousemove || this.onmouseover || this.onmouseout\n  //         || this.onmousedown || this.onmouseup || this.onclick\n  //         || this.ondragenter || this.ondragover || this.ondragleave\n  //         || this.ondrop\n  //     );\n  // },\n\n  /**\n   * Alias for animate('style')\n   * @param {boolean} loop\n   */\n  animateStyle: function (loop) {\n    return this.animate('style', loop);\n  },\n  attrKV: function (key, value) {\n    if (key !== 'style') {\n      Element.prototype.attrKV.call(this, key, value);\n    } else {\n      this.style.set(value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setStyle: function (key, value) {\n    this.style.set(key, value);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * Use given style object\n   * @param  {Object} obj\n   */\n  useStyle: function (obj) {\n    this.style = new Style(obj, this);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * The string value of `textPosition` needs to be calculated to a real postion.\n   * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n   * by default. See `contain/text.js#calculateTextPosition` for more details.\n   * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n   * `[width/2, height/2]`. So we provide this hook to customize the calculation\n   * for those shapes. It will be called if the `style.textPosition` is a string.\n   * @param {Obejct} [out] Prepared out object. If not provided, this method should\n   *        be responsible for creating one.\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object} rect {x, y, width, height}\n   * @return {Obejct} out The same as the input out.\n   *         {\n   *             x: number. mandatory.\n   *             y: number. mandatory.\n   *             textAlign: string. optional. use style.textAlign by default.\n   *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n   *         }\n   */\n  calculateTextPosition: null\n};\nzrUtil.inherits(Displayable, Element);\nzrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\nvar _default = Displayable;\nmodule.exports = _default;","/**\n * Event Mixin\n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\nvar arrySlice = Array.prototype.slice;\n/**\n * Event dispatcher.\n *\n * @alias module:zrender/mixin/Eventful\n * @constructor\n * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n *        `eventProcessor.xxx` called.\n * @param {Function} [eventProcessor.normalizeQuery]\n *        param: {string|Object} Raw query.\n *        return: {string|Object} Normalized query.\n * @param {Function} [eventProcessor.filter] Event will be dispatched only\n *        if it returns `true`.\n *        param: {string} eventType\n *        param: {string|Object} query\n *        return: {boolean}\n * @param {Function} [eventProcessor.afterTrigger] Called after all handlers called.\n *        param: {string} eventType\n */\n\nvar Eventful = function (eventProcessor) {\n  this._$handlers = {};\n  this._$eventProcessor = eventProcessor;\n};\n\nEventful.prototype = {\n  constructor: Eventful,\n\n  /**\n   * The handler can only be triggered once, then removed.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} context\n   */\n  one: function (event, query, handler, context) {\n    return on(this, event, query, handler, context, true);\n  },\n\n  /**\n   * Bind a handler.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} [context]\n   */\n  on: function (event, query, handler, context) {\n    return on(this, event, query, handler, context, false);\n  },\n\n  /**\n   * Whether any handler has bound.\n   *\n   * @param  {string}  event\n   * @return {boolean}\n   */\n  isSilent: function (event) {\n    var _h = this._$handlers;\n    return !_h[event] || !_h[event].length;\n  },\n\n  /**\n   * Unbind a event.\n   *\n   * @param {string} [event] The event name.\n   *        If no `event` input, \"off\" all listeners.\n   * @param {Function} [handler] The event handler.\n   *        If no `handler` input, \"off\" all listeners of the `event`.\n   */\n  off: function (event, handler) {\n    var _h = this._$handlers;\n\n    if (!event) {\n      this._$handlers = {};\n      return this;\n    }\n\n    if (handler) {\n      if (_h[event]) {\n        var newList = [];\n\n        for (var i = 0, l = _h[event].length; i < l; i++) {\n          if (_h[event][i].h !== handler) {\n            newList.push(_h[event][i]);\n          }\n        }\n\n        _h[event] = newList;\n      }\n\n      if (_h[event] && _h[event].length === 0) {\n        delete _h[event];\n      }\n    } else {\n      delete _h[event];\n    }\n\n    return this;\n  },\n\n  /**\n   * Dispatch a event.\n   *\n   * @param {string} type The event name.\n   */\n  trigger: function (type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 3) {\n        args = arrySlice.call(args, 1);\n      }\n\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(hItem.ctx);\n            break;\n\n          case 2:\n            hItem.h.call(hItem.ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(hItem.ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(hItem.ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  },\n\n  /**\n   * Dispatch a event with context, which is specified at the last parameter.\n   *\n   * @param {string} type The event name.\n   */\n  triggerWithContext: function (type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 4) {\n        args = arrySlice.call(args, 1, args.length - 1);\n      }\n\n      var ctx = args[args.length - 1];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(ctx);\n            break;\n\n          case 2:\n            hItem.h.call(ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  }\n};\n\nfunction normalizeQuery(host, query) {\n  var eventProcessor = host._$eventProcessor;\n\n  if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n    query = eventProcessor.normalizeQuery(query);\n  }\n\n  return query;\n}\n\nfunction on(eventful, event, query, handler, context, isOnce) {\n  var _h = eventful._$handlers;\n\n  if (typeof query === 'function') {\n    context = handler;\n    handler = query;\n    query = null;\n  }\n\n  if (!handler || !event) {\n    return eventful;\n  }\n\n  query = normalizeQuery(eventful, query);\n\n  if (!_h[event]) {\n    _h[event] = [];\n  }\n\n  for (var i = 0; i < _h[event].length; i++) {\n    if (_h[event][i].h === handler) {\n      return eventful;\n    }\n  }\n\n  var wrap = {\n    h: handler,\n    one: isOnce,\n    query: query,\n    ctx: context || eventful,\n    // FIXME\n    // Do not publish this feature util it is proved that it makes sense.\n    callAtLast: handler.zrEventfulCallAtLast\n  };\n  var lastIndex = _h[event].length - 1;\n  var lastWrap = _h[event][lastIndex];\n  lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n  return eventful;\n} // ----------------------\n// The events in zrender\n// ----------------------\n\n/**\n * @event module:zrender/mixin/Eventful#onclick\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseout\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousemove\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousewheel\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousedown\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseup\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrag\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragstart\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragend\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragenter\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragleave\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrop\n * @type {Function}\n * @default null\n */\n\n\nvar _default = Eventful;\nmodule.exports = _default;","var curve = require(\"./curve\");\n\nvar vec2 = require(\"./vector\");\n\nvar bbox = require(\"./bbox\");\n\nvar BoundingRect = require(\"./BoundingRect\");\n\nvar _config = require(\"../config\");\n\nvar dpr = _config.devicePixelRatio;\n\n/**\n * Path `buildPath``ctx`, pathpathCommands\n *  isInsidePath boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\n\n/* global Float32Array */\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function (notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * Path\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function (sx, sy, segmentIgnoreThreshold) {\n    // Compat. Previously there is no segmentIgnoreThreshold.\n    segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n    this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n    this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n  },\n  getContext: function () {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function (ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function (x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n    // xi, yi , x0, y0  closePath \n    //  beginPath  lineTo x0, y0 \n    //  lineTo dashed line  IE10- \n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function (x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function (x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cy;\n    return this;\n  },\n  // TODO\n  arcTo: function (x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function (x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function () {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context  rebuildPath  fill\n   * stroke \n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function (ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function (ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function (lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function (offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function () {\n    return this._len;\n  },\n\n  /**\n   *  Path \n   */\n  setData: function (data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length === len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * \n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function (path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   *  Path \n   * \n   */\n  addData: function (cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      //  Float32Array\n      // \n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function () {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function () {\n    return this._lineDash;\n  },\n  _dashedLineTo: function (x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function (x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   *  Float32Array \n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function () {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function (ctx) {\n    var d = this.data;\n    var x0;\n    var y0;\n    var xi;\n    var yi;\n    var x;\n    var y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;","/**\n * echarts\n *\n * @desc echartsCanvasJavascript\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\n\n/* global wx */\nvar env = {};\n\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n  // In Weixin Application\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    wxa: true,\n    // Weixin Application\n    canvasSupported: true,\n    svgSupported: false,\n    touchEventsSupported: true,\n    domSupported: false\n  };\n} else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n  // In worker\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    worker: true,\n    canvasSupported: true,\n    domSupported: false\n  };\n} else if (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    worker: false,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true,\n    domSupported: false\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // canvas\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n    // scroll, the `pointermove` event can not be fired any more. That will break some\n    // features like \"pan horizontally to move something and pan vertically to page scroll\".\n    // The horizontal pan probably be interrupted by the casually triggered page scroll.\n    // (2) Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n    // passiveSupported: detectPassiveSupport()\n    domSupported: typeof document !== 'undefined'\n  };\n} // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n// function detectPassiveSupport() {\n//     // Test via a getter in the options object to see if the passive property is accessed\n//     var supportsPassive = false;\n//     try {\n//         var opts = Object.defineProperty({}, 'passive', {\n//             get: function() {\n//                 supportsPassive = true;\n//             }\n//         });\n//         window.addEventListener('testPassive', function() {}, opts);\n//     } catch (e) {\n//     }\n//     return supportsPassive;\n// }\n\n\nmodule.exports = _default;","var fixShadow = require(\"./helper/fixShadow\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts) {\n  this.extendFrom(opts, false);\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  } // Fix NaN when rect is Infinity\n\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {number}\n   */\n  fillOpacity: null,\n\n  /**\n   * @type {number}\n   */\n  strokeOpacity: null,\n\n  /**\n   * `true` is not supported.\n   * `false`/`null`/`undefined` are the same.\n   * `false` is used to remove lineDash in some\n   * case that `null`/`undefined` can not be set.\n   * (e.g., emphasis.lineStyle in echarts)\n   * @type {Array.<number>|boolean}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image.\n   * The origin of the rotation can be specified by `textOrigin`.\n   * Only available in Path and Image element,\n   * where the text is called as `RectText`.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation.\n   * Useful in the case like label rotation of circular symbol.\n   * Only available in Path and Image element, where the text is called\n   * as `RectText` and the element is called as \"host element\".\n   * The value can be:\n   * + If specified as a coordinate like `[10, 40]`, it is the `[x, y]`\n   * base on the left-top corner of the rect of its host element.\n   * + If specified as a string `center`, it is the center of the rect of\n   * its host element.\n   * + By default, this origin is the `textPosition`.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function (ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n    // Only apply cache if the last time cachced by this function.\n\n    var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy.STYLE_BIND;\n    ctx.__attrCachedBy = ContextCachedBy.STYLE_BIND;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n      }\n    }\n\n    if (notCheckCache || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (notCheckCache || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (notCheckCache || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (notCheckCache || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function () {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function () {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function (otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function (obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function () {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function (ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;","var dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config\n * @exports zrender/config\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\n/**\n * Debug log mode:\n * 0: Do nothing, for release.\n * 1: console.error, for debug.\n */\n\n\nvar debugMode = 0; // retina \n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;","var Group = require(\"../container/Group\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar Text = require(\"../graphic/Text\");\n\nvar Circle = require(\"../graphic/shape/Circle\");\n\nvar Rect = require(\"../graphic/shape/Rect\");\n\nvar Ellipse = require(\"../graphic/shape/Ellipse\");\n\nvar Line = require(\"../graphic/shape/Line\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar Polygon = require(\"../graphic/shape/Polygon\");\n\nvar Polyline = require(\"../graphic/shape/Polyline\");\n\nvar LinearGradient = require(\"../graphic/LinearGradient\");\n\nvar Style = require(\"../graphic/Style\");\n\nvar matrix = require(\"../core/matrix\");\n\nvar _path = require(\"./path\");\n\nvar createFromString = _path.createFromString;\n\nvar _util = require(\"../core/util\");\n\nvar isString = _util.isString;\nvar extend = _util.extend;\nvar defaults = _util.defaults;\nvar trim = _util.trim;\nvar each = _util.each;\n// import RadialGradient from '../graphic/RadialGradient';\n// import Pattern from '../graphic/Pattern';\n// import * as vector from '../core/vector';\n// Most of the values can be separated by comma and/or white space.\nvar DILIMITER_REG = /[\\s,]+/;\n/**\n * For big svg string, this method might be time consuming.\n *\n * @param {string} svg xml string\n * @return {Object} xml root.\n */\n\nfunction parseXML(svg) {\n  if (isString(svg)) {\n    var parser = new DOMParser();\n    svg = parser.parseFromString(svg, 'text/xml');\n  } // Document node. If using $.get, doc node may be input.\n\n\n  if (svg.nodeType === 9) {\n    svg = svg.firstChild;\n  } // nodeName of <!DOCTYPE svg> is also 'svg'.\n\n\n  while (svg.nodeName.toLowerCase() !== 'svg' || svg.nodeType !== 1) {\n    svg = svg.nextSibling;\n  }\n\n  return svg;\n}\n\nfunction SVGParser() {\n  this._defs = {};\n  this._root = null;\n  this._isDefine = false;\n  this._isText = false;\n}\n\nSVGParser.prototype.parse = function (xml, opt) {\n  opt = opt || {};\n  var svg = parseXML(xml);\n\n  if (!svg) {\n    throw new Error('Illegal svg');\n  }\n\n  var root = new Group();\n  this._root = root; // parse view port\n\n  var viewBox = svg.getAttribute('viewBox') || ''; // If width/height not specified, means \"100%\" of `opt.width/height`.\n  // TODO: Other percent value not supported yet.\n\n  var width = parseFloat(svg.getAttribute('width') || opt.width);\n  var height = parseFloat(svg.getAttribute('height') || opt.height); // If width/height not specified, set as null for output.\n\n  isNaN(width) && (width = null);\n  isNaN(height) && (height = null); // Apply inline style on svg element.\n\n  parseAttributes(svg, root, null, true);\n  var child = svg.firstChild;\n\n  while (child) {\n    this._parseNode(child, root);\n\n    child = child.nextSibling;\n  }\n\n  var viewBoxRect;\n  var viewBoxTransform;\n\n  if (viewBox) {\n    var viewBoxArr = trim(viewBox).split(DILIMITER_REG); // Some invalid case like viewBox: 'none'.\n\n    if (viewBoxArr.length >= 4) {\n      viewBoxRect = {\n        x: parseFloat(viewBoxArr[0] || 0),\n        y: parseFloat(viewBoxArr[1] || 0),\n        width: parseFloat(viewBoxArr[2]),\n        height: parseFloat(viewBoxArr[3])\n      };\n    }\n  }\n\n  if (viewBoxRect && width != null && height != null) {\n    viewBoxTransform = makeViewBoxTransform(viewBoxRect, width, height);\n\n    if (!opt.ignoreViewBox) {\n      // If set transform on the output group, it probably bring trouble when\n      // some users only intend to show the clipped content inside the viewBox,\n      // but not intend to transform the output group. So we keep the output\n      // group no transform. If the user intend to use the viewBox as a\n      // camera, just set `opt.ignoreViewBox` as `true` and set transfrom\n      // manually according to the viewBox info in the output of this method.\n      var elRoot = root;\n      root = new Group();\n      root.add(elRoot);\n      elRoot.scale = viewBoxTransform.scale.slice();\n      elRoot.position = viewBoxTransform.position.slice();\n    }\n  } // Some shapes might be overflow the viewport, which should be\n  // clipped despite whether the viewBox is used, as the SVG does.\n\n\n  if (!opt.ignoreRootClip && width != null && height != null) {\n    root.setClipPath(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }\n    }));\n  } // Set width/height on group just for output the viewport size.\n\n\n  return {\n    root: root,\n    width: width,\n    height: height,\n    viewBoxRect: viewBoxRect,\n    viewBoxTransform: viewBoxTransform\n  };\n};\n\nSVGParser.prototype._parseNode = function (xmlNode, parentGroup) {\n  var nodeName = xmlNode.nodeName.toLowerCase(); // TODO\n  // support <style>...</style> in svg, where nodeName is 'style',\n  // CSS classes is defined globally wherever the style tags are declared.\n\n  if (nodeName === 'defs') {\n    // define flag\n    this._isDefine = true;\n  } else if (nodeName === 'text') {\n    this._isText = true;\n  }\n\n  var el;\n\n  if (this._isDefine) {\n    var parser = defineParsers[nodeName];\n\n    if (parser) {\n      var def = parser.call(this, xmlNode);\n      var id = xmlNode.getAttribute('id');\n\n      if (id) {\n        this._defs[id] = def;\n      }\n    }\n  } else {\n    var parser = nodeParsers[nodeName];\n\n    if (parser) {\n      el = parser.call(this, xmlNode, parentGroup);\n      parentGroup.add(el);\n    }\n  }\n\n  var child = xmlNode.firstChild;\n\n  while (child) {\n    if (child.nodeType === 1) {\n      this._parseNode(child, el);\n    } // Is text\n\n\n    if (child.nodeType === 3 && this._isText) {\n      this._parseText(child, el);\n    }\n\n    child = child.nextSibling;\n  } // Quit define\n\n\n  if (nodeName === 'defs') {\n    this._isDefine = false;\n  } else if (nodeName === 'text') {\n    this._isText = false;\n  }\n};\n\nSVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n  if (xmlNode.nodeType === 1) {\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    this._textX += parseFloat(dx);\n    this._textY += parseFloat(dy);\n  }\n\n  var text = new Text({\n    style: {\n      text: xmlNode.textContent,\n      transformText: true\n    },\n    position: [this._textX || 0, this._textY || 0]\n  });\n  inheritStyle(parentGroup, text);\n  parseAttributes(xmlNode, text, this._defs);\n  var fontSize = text.style.fontSize;\n\n  if (fontSize && fontSize < 9) {\n    // PENDING\n    text.style.fontSize = 9;\n    text.scale = text.scale || [1, 1];\n    text.scale[0] *= fontSize / 9;\n    text.scale[1] *= fontSize / 9;\n  }\n\n  var rect = text.getBoundingRect();\n  this._textX += rect.width;\n  parentGroup.add(text);\n  return text;\n};\n\nvar nodeParsers = {\n  'g': function (xmlNode, parentGroup) {\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    return g;\n  },\n  'rect': function (xmlNode, parentGroup) {\n    var rect = new Rect();\n    inheritStyle(parentGroup, rect);\n    parseAttributes(xmlNode, rect, this._defs);\n    rect.setShape({\n      x: parseFloat(xmlNode.getAttribute('x') || 0),\n      y: parseFloat(xmlNode.getAttribute('y') || 0),\n      width: parseFloat(xmlNode.getAttribute('width') || 0),\n      height: parseFloat(xmlNode.getAttribute('height') || 0)\n    }); // console.log(xmlNode.getAttribute('transform'));\n    // console.log(rect.transform);\n\n    return rect;\n  },\n  'circle': function (xmlNode, parentGroup) {\n    var circle = new Circle();\n    inheritStyle(parentGroup, circle);\n    parseAttributes(xmlNode, circle, this._defs);\n    circle.setShape({\n      cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n      cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n      r: parseFloat(xmlNode.getAttribute('r') || 0)\n    });\n    return circle;\n  },\n  'line': function (xmlNode, parentGroup) {\n    var line = new Line();\n    inheritStyle(parentGroup, line);\n    parseAttributes(xmlNode, line, this._defs);\n    line.setShape({\n      x1: parseFloat(xmlNode.getAttribute('x1') || 0),\n      y1: parseFloat(xmlNode.getAttribute('y1') || 0),\n      x2: parseFloat(xmlNode.getAttribute('x2') || 0),\n      y2: parseFloat(xmlNode.getAttribute('y2') || 0)\n    });\n    return line;\n  },\n  'ellipse': function (xmlNode, parentGroup) {\n    var ellipse = new Ellipse();\n    inheritStyle(parentGroup, ellipse);\n    parseAttributes(xmlNode, ellipse, this._defs);\n    ellipse.setShape({\n      cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n      cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n      rx: parseFloat(xmlNode.getAttribute('rx') || 0),\n      ry: parseFloat(xmlNode.getAttribute('ry') || 0)\n    });\n    return ellipse;\n  },\n  'polygon': function (xmlNode, parentGroup) {\n    var points = xmlNode.getAttribute('points');\n\n    if (points) {\n      points = parsePoints(points);\n    }\n\n    var polygon = new Polygon({\n      shape: {\n        points: points || []\n      }\n    });\n    inheritStyle(parentGroup, polygon);\n    parseAttributes(xmlNode, polygon, this._defs);\n    return polygon;\n  },\n  'polyline': function (xmlNode, parentGroup) {\n    var path = new Path();\n    inheritStyle(parentGroup, path);\n    parseAttributes(xmlNode, path, this._defs);\n    var points = xmlNode.getAttribute('points');\n\n    if (points) {\n      points = parsePoints(points);\n    }\n\n    var polyline = new Polyline({\n      shape: {\n        points: points || []\n      }\n    });\n    return polyline;\n  },\n  'image': function (xmlNode, parentGroup) {\n    var img = new ZImage();\n    inheritStyle(parentGroup, img);\n    parseAttributes(xmlNode, img, this._defs);\n    img.setStyle({\n      image: xmlNode.getAttribute('xlink:href'),\n      x: xmlNode.getAttribute('x'),\n      y: xmlNode.getAttribute('y'),\n      width: xmlNode.getAttribute('width'),\n      height: xmlNode.getAttribute('height')\n    });\n    return img;\n  },\n  'text': function (xmlNode, parentGroup) {\n    var x = xmlNode.getAttribute('x') || 0;\n    var y = xmlNode.getAttribute('y') || 0;\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    this._textX = parseFloat(x) + parseFloat(dx);\n    this._textY = parseFloat(y) + parseFloat(dy);\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    return g;\n  },\n  'tspan': function (xmlNode, parentGroup) {\n    var x = xmlNode.getAttribute('x');\n    var y = xmlNode.getAttribute('y');\n\n    if (x != null) {\n      // new offset x\n      this._textX = parseFloat(x);\n    }\n\n    if (y != null) {\n      // new offset y\n      this._textY = parseFloat(y);\n    }\n\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    this._textX += dx;\n    this._textY += dy;\n    return g;\n  },\n  'path': function (xmlNode, parentGroup) {\n    // TODO svg fill rule\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n    // path.style.globalCompositeOperation = 'xor';\n    var d = xmlNode.getAttribute('d') || ''; // Performance sensitive.\n\n    var path = createFromString(d);\n    inheritStyle(parentGroup, path);\n    parseAttributes(xmlNode, path, this._defs);\n    return path;\n  }\n};\nvar defineParsers = {\n  'lineargradient': function (xmlNode) {\n    var x1 = parseInt(xmlNode.getAttribute('x1') || 0, 10);\n    var y1 = parseInt(xmlNode.getAttribute('y1') || 0, 10);\n    var x2 = parseInt(xmlNode.getAttribute('x2') || 10, 10);\n    var y2 = parseInt(xmlNode.getAttribute('y2') || 0, 10);\n    var gradient = new LinearGradient(x1, y1, x2, y2);\n\n    _parseGradientColorStops(xmlNode, gradient);\n\n    return gradient;\n  },\n  'radialgradient': function (xmlNode) {}\n};\n\nfunction _parseGradientColorStops(xmlNode, gradient) {\n  var stop = xmlNode.firstChild;\n\n  while (stop) {\n    if (stop.nodeType === 1) {\n      var offset = stop.getAttribute('offset');\n\n      if (offset.indexOf('%') > 0) {\n        // percentage\n        offset = parseInt(offset, 10) / 100;\n      } else if (offset) {\n        // number from 0 to 1\n        offset = parseFloat(offset);\n      } else {\n        offset = 0;\n      }\n\n      var stopColor = stop.getAttribute('stop-color') || '#000000';\n      gradient.addColorStop(offset, stopColor);\n    }\n\n    stop = stop.nextSibling;\n  }\n}\n\nfunction inheritStyle(parent, child) {\n  if (parent && parent.__inheritedStyle) {\n    if (!child.__inheritedStyle) {\n      child.__inheritedStyle = {};\n    }\n\n    defaults(child.__inheritedStyle, parent.__inheritedStyle);\n  }\n}\n\nfunction parsePoints(pointsString) {\n  var list = trim(pointsString).split(DILIMITER_REG);\n  var points = [];\n\n  for (var i = 0; i < list.length; i += 2) {\n    var x = parseFloat(list[i]);\n    var y = parseFloat(list[i + 1]);\n    points.push([x, y]);\n  }\n\n  return points;\n}\n\nvar attributesMap = {\n  'fill': 'fill',\n  'stroke': 'stroke',\n  'stroke-width': 'lineWidth',\n  'opacity': 'opacity',\n  'fill-opacity': 'fillOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  'stroke-dasharray': 'lineDash',\n  'stroke-dashoffset': 'lineDashOffset',\n  'stroke-linecap': 'lineCap',\n  'stroke-linejoin': 'lineJoin',\n  'stroke-miterlimit': 'miterLimit',\n  'font-family': 'fontFamily',\n  'font-size': 'fontSize',\n  'font-style': 'fontStyle',\n  'font-weight': 'fontWeight',\n  'text-align': 'textAlign',\n  'alignment-baseline': 'textBaseline'\n};\n\nfunction parseAttributes(xmlNode, el, defs, onlyInlineStyle) {\n  var zrStyle = el.__inheritedStyle || {};\n  var isTextEl = el.type === 'text'; // TODO Shadow\n\n  if (xmlNode.nodeType === 1) {\n    parseTransformAttribute(xmlNode, el);\n    extend(zrStyle, parseStyleAttribute(xmlNode));\n\n    if (!onlyInlineStyle) {\n      for (var svgAttrName in attributesMap) {\n        if (attributesMap.hasOwnProperty(svgAttrName)) {\n          var attrValue = xmlNode.getAttribute(svgAttrName);\n\n          if (attrValue != null) {\n            zrStyle[attributesMap[svgAttrName]] = attrValue;\n          }\n        }\n      }\n    }\n  }\n\n  var elFillProp = isTextEl ? 'textFill' : 'fill';\n  var elStrokeProp = isTextEl ? 'textStroke' : 'stroke';\n  el.style = el.style || new Style();\n  var elStyle = el.style;\n  zrStyle.fill != null && elStyle.set(elFillProp, getPaint(zrStyle.fill, defs));\n  zrStyle.stroke != null && elStyle.set(elStrokeProp, getPaint(zrStyle.stroke, defs));\n  each(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (propName) {\n    var elPropName = propName === 'lineWidth' && isTextEl ? 'textStrokeWidth' : propName;\n    zrStyle[propName] != null && elStyle.set(elPropName, parseFloat(zrStyle[propName]));\n  });\n\n  if (!zrStyle.textBaseline || zrStyle.textBaseline === 'auto') {\n    zrStyle.textBaseline = 'alphabetic';\n  }\n\n  if (zrStyle.textBaseline === 'alphabetic') {\n    zrStyle.textBaseline = 'bottom';\n  }\n\n  if (zrStyle.textAlign === 'start') {\n    zrStyle.textAlign = 'left';\n  }\n\n  if (zrStyle.textAlign === 'end') {\n    zrStyle.textAlign = 'right';\n  }\n\n  each(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (propName) {\n    zrStyle[propName] != null && elStyle.set(propName, zrStyle[propName]);\n  });\n\n  if (zrStyle.lineDash) {\n    el.style.lineDash = trim(zrStyle.lineDash).split(DILIMITER_REG);\n  }\n\n  if (elStyle[elStrokeProp] && elStyle[elStrokeProp] !== 'none') {\n    // enable stroke\n    el[elStrokeProp] = true;\n  }\n\n  el.__inheritedStyle = zrStyle;\n}\n\nvar urlRegex = /url\\(\\s*#(.*?)\\)/;\n\nfunction getPaint(str, defs) {\n  // if (str === 'none') {\n  //     return;\n  // }\n  var urlMatch = defs && str && str.match(urlRegex);\n\n  if (urlMatch) {\n    var url = trim(urlMatch[1]);\n    var def = defs[url];\n    return def;\n  }\n\n  return str;\n}\n\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;\n\nfunction parseTransformAttribute(xmlNode, node) {\n  var transform = xmlNode.getAttribute('transform');\n\n  if (transform) {\n    transform = transform.replace(/,/g, ' ');\n    var m = null;\n    var transformOps = [];\n    transform.replace(transformRegex, function (str, type, value) {\n      transformOps.push(type, value);\n    });\n\n    for (var i = transformOps.length - 1; i > 0; i -= 2) {\n      var value = transformOps[i];\n      var type = transformOps[i - 1];\n      m = m || matrix.create();\n\n      switch (type) {\n        case 'translate':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.translate(m, m, [parseFloat(value[0]), parseFloat(value[1] || 0)]);\n          break;\n\n        case 'scale':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.scale(m, m, [parseFloat(value[0]), parseFloat(value[1] || value[0])]);\n          break;\n\n        case 'rotate':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.rotate(m, m, parseFloat(value[0]));\n          break;\n\n        case 'skew':\n          value = trim(value).split(DILIMITER_REG);\n          console.warn('Skew transform is not supported yet');\n          break;\n\n        case 'matrix':\n          var value = trim(value).split(DILIMITER_REG);\n          m[0] = parseFloat(value[0]);\n          m[1] = parseFloat(value[1]);\n          m[2] = parseFloat(value[2]);\n          m[3] = parseFloat(value[3]);\n          m[4] = parseFloat(value[4]);\n          m[5] = parseFloat(value[5]);\n          break;\n      }\n    }\n\n    node.setLocalTransform(m);\n  }\n} // Value may contain space.\n\n\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\n\nfunction parseStyleAttribute(xmlNode) {\n  var style = xmlNode.getAttribute('style');\n  var result = {};\n\n  if (!style) {\n    return result;\n  }\n\n  var styleList = {};\n  styleRegex.lastIndex = 0;\n  var styleRegResult;\n\n  while ((styleRegResult = styleRegex.exec(style)) != null) {\n    styleList[styleRegResult[1]] = styleRegResult[2];\n  }\n\n  for (var svgAttrName in attributesMap) {\n    if (attributesMap.hasOwnProperty(svgAttrName) && styleList[svgAttrName] != null) {\n      result[attributesMap[svgAttrName]] = styleList[svgAttrName];\n    }\n  }\n\n  return result;\n}\n/**\n * @param {Array.<number>} viewBoxRect\n * @param {number} width\n * @param {number} height\n * @return {Object} {scale, position}\n */\n\n\nfunction makeViewBoxTransform(viewBoxRect, width, height) {\n  var scaleX = width / viewBoxRect.width;\n  var scaleY = height / viewBoxRect.height;\n  var scale = Math.min(scaleX, scaleY); // preserveAspectRatio 'xMidYMid'\n\n  var viewBoxScale = [scale, scale];\n  var viewBoxPosition = [-(viewBoxRect.x + viewBoxRect.width / 2) * scale + width / 2, -(viewBoxRect.y + viewBoxRect.height / 2) * scale + height / 2];\n  return {\n    scale: viewBoxScale,\n    position: viewBoxPosition\n  };\n}\n/**\n * @param {string|XMLElement} xml\n * @param {Object} [opt]\n * @param {number} [opt.width] Default width if svg width not specified or is a percent value.\n * @param {number} [opt.height] Default height if svg height not specified or is a percent value.\n * @param {boolean} [opt.ignoreViewBox]\n * @param {boolean} [opt.ignoreRootClip]\n * @return {Object} result:\n * {\n *     root: Group, The root of the the result tree of zrender shapes,\n *     width: number, the viewport width of the SVG,\n *     height: number, the viewport height of the SVG,\n *     viewBoxRect: {x, y, width, height}, the declared viewBox rect of the SVG, if exists,\n *     viewBoxTransform: the {scale, position} calculated by viewBox and viewport, is exists.\n * }\n */\n\n\nfunction parseSVG(xml, opt) {\n  var parser = new SVGParser();\n  return parser.parse(xml, opt);\n}\n\nexports.parseXML = parseXML;\nexports.makeViewBoxTransform = makeViewBoxTransform;\nexports.parseSVG = parseSVG;","var util = require(\"../core/util\");\n\nvar _event = require(\"../core/event\");\n\nvar Dispatcher = _event.Dispatcher;\n\nvar requestAnimationFrame = require(\"./requestAnimationFrame\");\n\nvar Animator = require(\"./Animator\");\n\n/**\n * Animation main class, dispatch and manage all animation controllers\n *\n * @module zrender/animation/Animation\n * @author pissang(https://github.com/pissang)\n */\n// TODO Additive animation\n// http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n// https://developer.apple.com/videos/wwdc2014/#236\n\n/**\n * @typedef {Object} IZRenderStage\n * @property {Function} update\n */\n\n/**\n * @alias module:zrender/animation/Animation\n * @constructor\n * @param {Object} [options]\n * @param {Function} [options.onframe]\n * @param {IZRenderStage} [options.stage]\n * @example\n *     var animation = new Animation();\n *     var obj = {\n *         x: 100,\n *         y: 100\n *     };\n *     animation.animate(node.position)\n *         .when(1000, {\n *             x: 500,\n *             y: 500\n *         })\n *         .when(2000, {\n *             x: 100,\n *             y: 100\n *         })\n *         .start('spline');\n */\nvar Animation = function (options) {\n  options = options || {};\n  this.stage = options.stage || {};\n\n  this.onframe = options.onframe || function () {}; // private properties\n\n\n  this._clips = [];\n  this._running = false;\n  this._time;\n  this._pausedTime;\n  this._pauseStart;\n  this._paused = false;\n  Dispatcher.call(this);\n};\n\nAnimation.prototype = {\n  constructor: Animation,\n\n  /**\n   * Add clip\n   * @param {module:zrender/animation/Clip} clip\n   */\n  addClip: function (clip) {\n    this._clips.push(clip);\n  },\n\n  /**\n   * Add animator\n   * @param {module:zrender/animation/Animator} animator\n   */\n  addAnimator: function (animator) {\n    animator.animation = this;\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.addClip(clips[i]);\n    }\n  },\n\n  /**\n   * Delete animation clip\n   * @param {module:zrender/animation/Clip} clip\n   */\n  removeClip: function (clip) {\n    var idx = util.indexOf(this._clips, clip);\n\n    if (idx >= 0) {\n      this._clips.splice(idx, 1);\n    }\n  },\n\n  /**\n   * Delete animation clip\n   * @param {module:zrender/animation/Animator} animator\n   */\n  removeAnimator: function (animator) {\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.removeClip(clips[i]);\n    }\n\n    animator.animation = null;\n  },\n  _update: function () {\n    var time = new Date().getTime() - this._pausedTime;\n\n    var delta = time - this._time;\n    var clips = this._clips;\n    var len = clips.length;\n    var deferredEvents = [];\n    var deferredClips = [];\n\n    for (var i = 0; i < len; i++) {\n      var clip = clips[i];\n      var e = clip.step(time, delta); // Throw out the events need to be called after\n      // stage.update, like destroy\n\n      if (e) {\n        deferredEvents.push(e);\n        deferredClips.push(clip);\n      }\n    } // Remove the finished clip\n\n\n    for (var i = 0; i < len;) {\n      if (clips[i]._needsRemove) {\n        clips[i] = clips[len - 1];\n        clips.pop();\n        len--;\n      } else {\n        i++;\n      }\n    }\n\n    len = deferredEvents.length;\n\n    for (var i = 0; i < len; i++) {\n      deferredClips[i].fire(deferredEvents[i]);\n    }\n\n    this._time = time;\n    this.onframe(delta); // 'frame' should be triggered before stage, because upper application\n    // depends on the sequence (e.g., echarts-stream and finish\n    // event judge)\n\n    this.trigger('frame', delta);\n\n    if (this.stage.update) {\n      this.stage.update();\n    }\n  },\n  _startLoop: function () {\n    var self = this;\n    this._running = true;\n\n    function step() {\n      if (self._running) {\n        requestAnimationFrame(step);\n        !self._paused && self._update();\n      }\n    }\n\n    requestAnimationFrame(step);\n  },\n\n  /**\n   * Start animation.\n   */\n  start: function () {\n    this._time = new Date().getTime();\n    this._pausedTime = 0;\n\n    this._startLoop();\n  },\n\n  /**\n   * Stop animation.\n   */\n  stop: function () {\n    this._running = false;\n  },\n\n  /**\n   * Pause animation.\n   */\n  pause: function () {\n    if (!this._paused) {\n      this._pauseStart = new Date().getTime();\n      this._paused = true;\n    }\n  },\n\n  /**\n   * Resume animation.\n   */\n  resume: function () {\n    if (this._paused) {\n      this._pausedTime += new Date().getTime() - this._pauseStart;\n      this._paused = false;\n    }\n  },\n\n  /**\n   * Clear animation.\n   */\n  clear: function () {\n    this._clips = [];\n  },\n\n  /**\n   * Whether animation finished.\n   */\n  isFinished: function () {\n    return !this._clips.length;\n  },\n\n  /**\n   * Creat animator for a target, whose props can be animated.\n   *\n   * @param  {Object} target\n   * @param  {Object} options\n   * @param  {boolean} [options.loop=false] Whether loop animation.\n   * @param  {Function} [options.getter=null] Get value from target.\n   * @param  {Function} [options.setter=null] Set value to target.\n   * @return {module:zrender/animation/Animation~Animator}\n   */\n  // TODO Gap\n  animate: function (target, options) {\n    options = options || {};\n    var animator = new Animator(target, options.loop, options.getter, options.setter);\n    this.addAnimator(animator);\n    return animator;\n  }\n};\nutil.mixin(Animation, Dispatcher);\nvar _default = Animation;\nmodule.exports = _default;","var Path = require(\"../graphic/Path\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar transformPath = require(\"./transformPath\");\n\n// command chars\n// var cc = [\n//     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n//     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n// ];\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function (v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vRatio = function (u, v) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\n\nvar vAngle = function (u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n  var psi = psiDeg * (PI / 180.0);\n  var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n  var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= mathSqrt(lambda);\n    ry *= mathSqrt(lambda);\n  }\n\n  var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n  var cxp = f * rx * yp / ry;\n  var cyp = f * -ry * xp / rx;\n  var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n  var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n  var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  var dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = PI;\n  }\n\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * PI;\n  }\n\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * PI;\n  }\n\n  path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n// (1) delimiter can be comma or space, where continuous commas\n// or spaces should be seen as one comma.\n// (2) value can be like:\n// '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n// 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\nfunction createPathProxyFromString(data) {\n  if (!data) {\n    return new PathProxy();\n  } // var data = data.replace(/-/g, ' -')\n  //     .replace(/  /g, ' ')\n  //     .replace(/ /g, ',')\n  //     .replace(/,,/g, ',');\n  // var n;\n  // create pipes so that we can split the data\n  // for (n = 0; n < cc.length; n++) {\n  //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n  // }\n  // data = data.replace(/-/g, ',-');\n  // create array\n  // var arr = cs.split('|');\n  // init context point\n\n\n  var cpx = 0;\n  var cpy = 0;\n  var subpathX = cpx;\n  var subpathY = cpy;\n  var prevCmd;\n  var path = new PathProxy();\n  var CMD = PathProxy.CMD; // commandReg.lastIndex = 0;\n  // var cmdResult;\n  // while ((cmdResult = commandReg.exec(data)) != null) {\n  //     var cmdStr = cmdResult[1];\n  //     var cmdContent = cmdResult[2];\n\n  var cmdList = data.match(commandReg);\n\n  for (var l = 0; l < cmdList.length; l++) {\n    var cmdText = cmdList[l];\n    var cmdStr = cmdText.charAt(0);\n    var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n    // var p = cmdContent.split(valueSplitReg);\n    // var pLen = 0;\n    // for (var i = 0; i < p.length; i++) {\n    //     // '' and other invalid str => NaN\n    //     var val = parseFloat(p[i]);\n    //     !isNaN(val) && (p[pLen++] = val);\n    // }\n\n    var p = cmdText.match(numberReg) || [];\n    var pLen = p.length;\n\n    for (var i = 0; i < pLen; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n\n    var off = 0;\n\n    while (off < pLen) {\n      var ctlPtx;\n      var ctlPty;\n      var rx;\n      var ry;\n      var psi;\n      var fa;\n      var fs;\n      var x1 = cpx;\n      var y1 = cpy; // convert l, H, h, V, and v to L\n\n      switch (cmdStr) {\n        case 'l':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'L':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'm':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'l';\n          break;\n\n        case 'M':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'L';\n          break;\n\n        case 'h':\n          cpx += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'H':\n          cpx = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'v':\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'V':\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'C':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n          cpx = p[off - 2];\n          cpy = p[off - 1];\n          break;\n\n        case 'c':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n          cpx += p[off - 2];\n          cpy += p[off - 1];\n          break;\n\n        case 'S':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 's':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = cpx + p[off++];\n          y1 = cpy + p[off++];\n          cpx += p[off++];\n          cpy += p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 'Q':\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'q':\n          x1 = p[off++] + cpx;\n          y1 = p[off++] + cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'T':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 't':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 'A':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n\n        case 'a':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n      }\n    }\n\n    if (cmdStr === 'z' || cmdStr === 'Z') {\n      cmd = CMD.Z;\n      path.addData(cmd); // z may be in the middle of the path.\n\n      cpx = subpathX;\n      cpy = subpathY;\n    }\n\n    prevCmd = cmd;\n  }\n\n  path.toStatic();\n  return path;\n} // TODO Optimize double memory cost problem\n\n\nfunction createPathOptions(str, opts) {\n  var pathProxy = createPathProxyFromString(str);\n  opts = opts || {};\n\n  opts.buildPath = function (path) {\n    if (path.setData) {\n      path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    } else {\n      var ctx = path;\n      pathProxy.rebuildPath(ctx);\n    }\n  };\n\n  opts.applyTransform = function (m) {\n    transformPath(pathProxy, m);\n    this.dirty(true);\n  };\n\n  return opts;\n}\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\n\n\nfunction createFromString(str, opts) {\n  return new Path(createPathOptions(str, opts));\n}\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\n\n\nfunction extendFromString(str, opts) {\n  return Path.extend(createPathOptions(str, opts));\n}\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\n\n\nfunction mergePath(pathEls, opts) {\n  var pathList = [];\n  var len = pathEls.length;\n\n  for (var i = 0; i < len; i++) {\n    var pathEl = pathEls[i];\n\n    if (!pathEl.path) {\n      pathEl.createPathProxy();\n    }\n\n    if (pathEl.__dirtyPath) {\n      pathEl.buildPath(pathEl.path, pathEl.shape, true);\n    }\n\n    pathList.push(pathEl.path);\n  }\n\n  var pathBundle = new Path(opts); // Need path proxy.\n\n  pathBundle.createPathProxy();\n\n  pathBundle.buildPath = function (path) {\n    path.appendPath(pathList); // Svg and vml renderer don't have context\n\n    var ctx = path.getContext();\n\n    if (ctx) {\n      path.rebuildPath(ctx);\n    }\n  };\n\n  return pathBundle;\n}\n\nexports.createFromString = createFromString;\nexports.extendFromString = extendFromString;\nexports.mergePath = mergePath;","var _util = require(\"../core/util\");\n\nvar inherits = _util.inherits;\n\nvar Displayble = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * Displayable for incremental rendering. It will be rendered in a separate layer\n * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n * addDisplayables will render the added displayables incremetally.\n *\n * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n */\n// TODO Style override ?\nfunction IncrementalDisplayble(opts) {\n  Displayble.call(this, opts);\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.notClear = true;\n}\n\nIncrementalDisplayble.prototype.incremental = true;\n\nIncrementalDisplayble.prototype.clearDisplaybles = function () {\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.dirty();\n  this.notClear = false;\n};\n\nIncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n  if (notPersistent) {\n    this._temporaryDisplayables.push(displayable);\n  } else {\n    this._displayables.push(displayable);\n  }\n\n  this.dirty();\n};\n\nIncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n  notPersistent = notPersistent || false;\n\n  for (var i = 0; i < displayables.length; i++) {\n    this.addDisplayable(displayables[i], notPersistent);\n  }\n};\n\nIncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    cb && cb(this._displayables[i]);\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    cb && cb(this._temporaryDisplayables[i]);\n  }\n};\n\nIncrementalDisplayble.prototype.update = function () {\n  this.updateTransform();\n\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n};\n\nIncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n  // Render persistant displayables.\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._cursor = i; // Render temporary displayables.\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._temporaryDisplayables = [];\n  this.notClear = true;\n};\n\nvar m = [];\n\nIncrementalDisplayble.prototype.getBoundingRect = function () {\n  if (!this._rect) {\n    var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      var childRect = displayable.getBoundingRect().clone();\n\n      if (displayable.needLocalTransform()) {\n        childRect.applyTransform(displayable.getLocalTransform(m));\n      }\n\n      rect.union(childRect);\n    }\n\n    this._rect = rect;\n  }\n\n  return this._rect;\n};\n\nIncrementalDisplayble.prototype.contain = function (x, y) {\n  var localPos = this.transformCoordToLocal(x, y);\n  var rect = this.getBoundingRect();\n\n  if (rect.contain(localPos[0], localPos[1])) {\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n\n      if (displayable.contain(x, y)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ninherits(IncrementalDisplayble, Displayble);\nvar _default = IncrementalDisplayble;\nmodule.exports = _default;","/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * \n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} \n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var LRU = require(\"../core/LRU\");\n\nvar kCSSColorTable = {\n  'transparent': [0, 0, 0, 0],\n  'aliceblue': [240, 248, 255, 1],\n  'antiquewhite': [250, 235, 215, 1],\n  'aqua': [0, 255, 255, 1],\n  'aquamarine': [127, 255, 212, 1],\n  'azure': [240, 255, 255, 1],\n  'beige': [245, 245, 220, 1],\n  'bisque': [255, 228, 196, 1],\n  'black': [0, 0, 0, 1],\n  'blanchedalmond': [255, 235, 205, 1],\n  'blue': [0, 0, 255, 1],\n  'blueviolet': [138, 43, 226, 1],\n  'brown': [165, 42, 42, 1],\n  'burlywood': [222, 184, 135, 1],\n  'cadetblue': [95, 158, 160, 1],\n  'chartreuse': [127, 255, 0, 1],\n  'chocolate': [210, 105, 30, 1],\n  'coral': [255, 127, 80, 1],\n  'cornflowerblue': [100, 149, 237, 1],\n  'cornsilk': [255, 248, 220, 1],\n  'crimson': [220, 20, 60, 1],\n  'cyan': [0, 255, 255, 1],\n  'darkblue': [0, 0, 139, 1],\n  'darkcyan': [0, 139, 139, 1],\n  'darkgoldenrod': [184, 134, 11, 1],\n  'darkgray': [169, 169, 169, 1],\n  'darkgreen': [0, 100, 0, 1],\n  'darkgrey': [169, 169, 169, 1],\n  'darkkhaki': [189, 183, 107, 1],\n  'darkmagenta': [139, 0, 139, 1],\n  'darkolivegreen': [85, 107, 47, 1],\n  'darkorange': [255, 140, 0, 1],\n  'darkorchid': [153, 50, 204, 1],\n  'darkred': [139, 0, 0, 1],\n  'darksalmon': [233, 150, 122, 1],\n  'darkseagreen': [143, 188, 143, 1],\n  'darkslateblue': [72, 61, 139, 1],\n  'darkslategray': [47, 79, 79, 1],\n  'darkslategrey': [47, 79, 79, 1],\n  'darkturquoise': [0, 206, 209, 1],\n  'darkviolet': [148, 0, 211, 1],\n  'deeppink': [255, 20, 147, 1],\n  'deepskyblue': [0, 191, 255, 1],\n  'dimgray': [105, 105, 105, 1],\n  'dimgrey': [105, 105, 105, 1],\n  'dodgerblue': [30, 144, 255, 1],\n  'firebrick': [178, 34, 34, 1],\n  'floralwhite': [255, 250, 240, 1],\n  'forestgreen': [34, 139, 34, 1],\n  'fuchsia': [255, 0, 255, 1],\n  'gainsboro': [220, 220, 220, 1],\n  'ghostwhite': [248, 248, 255, 1],\n  'gold': [255, 215, 0, 1],\n  'goldenrod': [218, 165, 32, 1],\n  'gray': [128, 128, 128, 1],\n  'green': [0, 128, 0, 1],\n  'greenyellow': [173, 255, 47, 1],\n  'grey': [128, 128, 128, 1],\n  'honeydew': [240, 255, 240, 1],\n  'hotpink': [255, 105, 180, 1],\n  'indianred': [205, 92, 92, 1],\n  'indigo': [75, 0, 130, 1],\n  'ivory': [255, 255, 240, 1],\n  'khaki': [240, 230, 140, 1],\n  'lavender': [230, 230, 250, 1],\n  'lavenderblush': [255, 240, 245, 1],\n  'lawngreen': [124, 252, 0, 1],\n  'lemonchiffon': [255, 250, 205, 1],\n  'lightblue': [173, 216, 230, 1],\n  'lightcoral': [240, 128, 128, 1],\n  'lightcyan': [224, 255, 255, 1],\n  'lightgoldenrodyellow': [250, 250, 210, 1],\n  'lightgray': [211, 211, 211, 1],\n  'lightgreen': [144, 238, 144, 1],\n  'lightgrey': [211, 211, 211, 1],\n  'lightpink': [255, 182, 193, 1],\n  'lightsalmon': [255, 160, 122, 1],\n  'lightseagreen': [32, 178, 170, 1],\n  'lightskyblue': [135, 206, 250, 1],\n  'lightslategray': [119, 136, 153, 1],\n  'lightslategrey': [119, 136, 153, 1],\n  'lightsteelblue': [176, 196, 222, 1],\n  'lightyellow': [255, 255, 224, 1],\n  'lime': [0, 255, 0, 1],\n  'limegreen': [50, 205, 50, 1],\n  'linen': [250, 240, 230, 1],\n  'magenta': [255, 0, 255, 1],\n  'maroon': [128, 0, 0, 1],\n  'mediumaquamarine': [102, 205, 170, 1],\n  'mediumblue': [0, 0, 205, 1],\n  'mediumorchid': [186, 85, 211, 1],\n  'mediumpurple': [147, 112, 219, 1],\n  'mediumseagreen': [60, 179, 113, 1],\n  'mediumslateblue': [123, 104, 238, 1],\n  'mediumspringgreen': [0, 250, 154, 1],\n  'mediumturquoise': [72, 209, 204, 1],\n  'mediumvioletred': [199, 21, 133, 1],\n  'midnightblue': [25, 25, 112, 1],\n  'mintcream': [245, 255, 250, 1],\n  'mistyrose': [255, 228, 225, 1],\n  'moccasin': [255, 228, 181, 1],\n  'navajowhite': [255, 222, 173, 1],\n  'navy': [0, 0, 128, 1],\n  'oldlace': [253, 245, 230, 1],\n  'olive': [128, 128, 0, 1],\n  'olivedrab': [107, 142, 35, 1],\n  'orange': [255, 165, 0, 1],\n  'orangered': [255, 69, 0, 1],\n  'orchid': [218, 112, 214, 1],\n  'palegoldenrod': [238, 232, 170, 1],\n  'palegreen': [152, 251, 152, 1],\n  'paleturquoise': [175, 238, 238, 1],\n  'palevioletred': [219, 112, 147, 1],\n  'papayawhip': [255, 239, 213, 1],\n  'peachpuff': [255, 218, 185, 1],\n  'peru': [205, 133, 63, 1],\n  'pink': [255, 192, 203, 1],\n  'plum': [221, 160, 221, 1],\n  'powderblue': [176, 224, 230, 1],\n  'purple': [128, 0, 128, 1],\n  'red': [255, 0, 0, 1],\n  'rosybrown': [188, 143, 143, 1],\n  'royalblue': [65, 105, 225, 1],\n  'saddlebrown': [139, 69, 19, 1],\n  'salmon': [250, 128, 114, 1],\n  'sandybrown': [244, 164, 96, 1],\n  'seagreen': [46, 139, 87, 1],\n  'seashell': [255, 245, 238, 1],\n  'sienna': [160, 82, 45, 1],\n  'silver': [192, 192, 192, 1],\n  'skyblue': [135, 206, 235, 1],\n  'slateblue': [106, 90, 205, 1],\n  'slategray': [112, 128, 144, 1],\n  'slategrey': [112, 128, 144, 1],\n  'snow': [255, 250, 250, 1],\n  'springgreen': [0, 255, 127, 1],\n  'steelblue': [70, 130, 180, 1],\n  'tan': [210, 180, 140, 1],\n  'teal': [0, 128, 128, 1],\n  'thistle': [216, 191, 216, 1],\n  'tomato': [255, 99, 71, 1],\n  'turquoise': [64, 224, 208, 1],\n  'violet': [238, 130, 238, 1],\n  'wheat': [245, 222, 179, 1],\n  'white': [255, 255, 255, 1],\n  'whitesmoke': [245, 245, 245, 1],\n  'yellow': [255, 255, 0, 1],\n  'yellowgreen': [154, 205, 50, 1]\n};\n\nfunction clampCssByte(i) {\n  // Clamp to integer 0 .. 255.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {\n  // Clamp to integer 0 .. 360.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {\n  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {\n  // int or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssByte(parseFloat(str) / 100 * 255);\n  }\n\n  return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {\n  // float or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssFloat(parseFloat(str) / 100);\n  }\n\n  return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n  if (h < 0) {\n    h += 1;\n  } else if (h > 1) {\n    h -= 1;\n  }\n\n  if (h * 6 < 1) {\n    return m1 + (m2 - m1) * h * 6;\n  }\n\n  if (h * 2 < 1) {\n    return m2;\n  }\n\n  if (h * 3 < 2) {\n    return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n  }\n\n  return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n  return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n  out[0] = r;\n  out[1] = g;\n  out[2] = b;\n  out[3] = a;\n  return out;\n}\n\nfunction copyRgba(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n  // Reuse removed array\n  if (lastRemovedArr) {\n    copyRgba(lastRemovedArr, rgbaArr);\n  }\n\n  lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n}\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction parse(colorStr, rgbaArr) {\n  if (!colorStr) {\n    return;\n  }\n\n  rgbaArr = rgbaArr || [];\n  var cached = colorCache.get(colorStr);\n\n  if (cached) {\n    return copyRgba(rgbaArr, cached);\n  } // colorStr may be not string\n\n\n  colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n  var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n  if (str in kCSSColorTable) {\n    copyRgba(rgbaArr, kCSSColorTable[str]);\n    putToCache(colorStr, rgbaArr);\n    return rgbaArr;\n  } // #abc and #abc123 syntax.\n\n\n  if (str.charAt(0) === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xfff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xffffff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    }\n\n    return;\n  }\n\n  var op = str.indexOf('(');\n  var ep = str.indexOf(')');\n\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op + 1, ep - (op + 1)).split(',');\n    var alpha = 1; // To allow case fallthrough.\n\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        alpha = parseCssFloat(params.pop());\n      // jshint ignore:line\n      // Fall through.\n\n      case 'rgb':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsla':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        params[3] = parseCssFloat(params[3]);\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsl':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      default:\n        return;\n    }\n  }\n\n  setRgba(rgbaArr, 0, 0, 0, 1);\n  return;\n}\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\n\n\nfunction hsla2rgba(hsla, rgba) {\n  var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n  // NOTE(deanm): According to the CSS spec s/l should only be\n  // percentages, but we don't bother and let float or percentage.\n\n  var s = parseCssFloat(hsla[1]);\n  var l = parseCssFloat(hsla[2]);\n  var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n  var m1 = l * 2 - m2;\n  rgba = rgba || [];\n  setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n  if (hsla.length === 4) {\n    rgba[3] = hsla[3];\n  }\n\n  return rgba;\n}\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\n\n\nfunction rgba2hsla(rgba) {\n  if (!rgba) {\n    return;\n  } // RGB from 0 to 255\n\n\n  var R = rgba[0] / 255;\n  var G = rgba[1] / 255;\n  var B = rgba[2] / 255;\n  var vMin = Math.min(R, G, B); // Min. value of RGB\n\n  var vMax = Math.max(R, G, B); // Max. value of RGB\n\n  var delta = vMax - vMin; // Delta RGB value\n\n  var L = (vMax + vMin) / 2;\n  var H;\n  var S; // HSL results from 0 to 1\n\n  if (delta === 0) {\n    H = 0;\n    S = 0;\n  } else {\n    if (L < 0.5) {\n      S = delta / (vMax + vMin);\n    } else {\n      S = delta / (2 - vMax - vMin);\n    }\n\n    var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n    var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n    var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n    if (R === vMax) {\n      H = deltaB - deltaG;\n    } else if (G === vMax) {\n      H = 1 / 3 + deltaR - deltaB;\n    } else if (B === vMax) {\n      H = 2 / 3 + deltaG - deltaR;\n    }\n\n    if (H < 0) {\n      H += 1;\n    }\n\n    if (H > 1) {\n      H -= 1;\n    }\n  }\n\n  var hsla = [H * 360, S, L];\n\n  if (rgba[3] != null) {\n    hsla.push(rgba[3]);\n  }\n\n  return hsla;\n}\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction lift(color, level) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    for (var i = 0; i < 3; i++) {\n      if (level < 0) {\n        colorArr[i] = colorArr[i] * (1 - level) | 0;\n      } else {\n        colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n      }\n\n      if (colorArr[i] > 255) {\n        colorArr[i] = 255;\n      } else if (color[i] < 0) {\n        colorArr[i] = 0;\n      }\n    }\n\n    return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n  }\n}\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction toHex(color) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n  }\n}\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\n\n\nfunction fastLerp(normalizedValue, colors, out) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  out = out || [];\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = colors[leftIndex];\n  var rightColor = colors[rightIndex];\n  var dv = value - leftIndex;\n  out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n  out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n  out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n  out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n  return out;\n}\n/**\n * @deprecated\n */\n\n\nvar fastMapToColor = fastLerp;\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\n\nfunction lerp(normalizedValue, colors, fullOutput) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = parse(colors[leftIndex]);\n  var rightColor = parse(colors[rightIndex]);\n  var dv = value - leftIndex;\n  var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n  return fullOutput ? {\n    color: color,\n    leftIndex: leftIndex,\n    rightIndex: rightIndex,\n    value: value\n  } : color;\n}\n/**\n * @deprecated\n */\n\n\nvar mapToColor = lerp;\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\nfunction modifyHSL(color, h, s, l) {\n  color = parse(color);\n\n  if (color) {\n    color = rgba2hsla(color);\n    h != null && (color[0] = clampCssAngle(h));\n    s != null && (color[1] = parseCssFloat(s));\n    l != null && (color[2] = parseCssFloat(l));\n    return stringify(hsla2rgba(color), 'rgba');\n  }\n}\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\n\nfunction modifyAlpha(color, alpha) {\n  color = parse(color);\n\n  if (color && alpha != null) {\n    color[3] = clampCssFloat(alpha);\n    return stringify(color, 'rgba');\n  }\n}\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\n\n\nfunction stringify(arrColor, type) {\n  if (!arrColor || !arrColor.length) {\n    return;\n  }\n\n  var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n  if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n    colorStr += ',' + arrColor[3];\n  }\n\n  return type + '(' + colorStr + ')';\n}\n\nexports.parse = parse;\nexports.lift = lift;\nexports.toHex = toHex;\nexports.fastLerp = fastLerp;\nexports.fastMapToColor = fastMapToColor;\nexports.lerp = lerp;\nexports.mapToColor = mapToColor;\nexports.modifyHSL = modifyHSL;\nexports.modifyAlpha = modifyAlpha;\nexports.stringify = stringify;","/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function (colorStops) {\n  this.colorStops = colorStops || [];\n};\n\nGradient.prototype = {\n  constructor: Gradient,\n  addColorStop: function (offset, color) {\n    this.colorStops.push({\n      offset: offset,\n      color: color\n    });\n  }\n};\nvar _default = Gradient;\nmodule.exports = _default;","var easingFuncs = require(\"./easing\");\n\n/**\n * \n * @config target onframe\n * @config life(1000) \n * @config delay(0) \n * @config loop(true)\n * @config gap(0) \n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\nfunction Clip(options) {\n  this._target = options.target; // \n\n  this._life = options.life || 1000; // \n\n  this._delay = options.delay || 0; // \n  // this._startTime = new Date().getTime() + this._delay;// \n\n  this._initialized = false; // \n\n  this.loop = options.loop == null ? false : options.loop;\n  this.gap = options.gap || 0;\n  this.easing = options.easing || 'Linear';\n  this.onframe = options.onframe;\n  this.ondestroy = options.ondestroy;\n  this.onrestart = options.onrestart;\n  this._pausedTime = 0;\n  this._paused = false;\n}\n\nClip.prototype = {\n  constructor: Clip,\n  step: function (globalTime, deltaTime) {\n    // Set startTime on first step, or _startTime may has milleseconds different between clips\n    // PENDING\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n    if (percent < 0) {\n      return;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing === 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.fire('frame', schedule); // \n\n    if (percent === 1) {\n      if (this.loop) {\n        this.restart(globalTime); // \n        //  stage.update \n\n        return 'restart';\n      } // \n      // Animation.update\n\n\n      this._needsRemove = true;\n      return 'destroy';\n    }\n\n    return null;\n  },\n  restart: function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n    this._needsRemove = false;\n  },\n  fire: function (eventType, arg) {\n    eventType = 'on' + eventType;\n\n    if (this[eventType]) {\n      this[eventType](this._target, arg);\n    }\n  },\n  pause: function () {\n    this._paused = true;\n  },\n  resume: function () {\n    this._paused = false;\n  }\n};\nvar _default = Clip;\nmodule.exports = _default;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/graphic/shape/Ring\n */\nvar _default = Path.extend({\n  type: 'ring',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    r0: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var PI2 = Math.PI * 2;\n    ctx.moveTo(x + shape.r, y);\n    ctx.arc(x, y, shape.r, 0, PI2, false);\n    ctx.moveTo(x + shape.r0, y);\n    ctx.arc(x, y, shape.r0, 0, PI2, true);\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\nvar LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'linear', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0 : x;\n  this.y = y == null ? 0 : y;\n  this.x2 = x2 == null ? 1 : x2;\n  this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n  this.type = 'linear'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n  constructor: LinearGradient\n};\nzrUtil.inherits(LinearGradient, Gradient);\nvar _default = LinearGradient;\nmodule.exports = _default;","var _config = require(\"../config\");\n\nvar debugMode = _config.debugMode;\n\nvar logError = function () {};\n\nif (debugMode === 1) {\n  logError = console.error;\n}\n\nvar _default = logError;\nmodule.exports = _default;","var _vector = require(\"./vector\");\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n\n/**\n * \n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // \n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} \n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] \n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out \n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;","var Path = require(\"../Path\");\n\nvar fixClipWithShadow = require(\"../helper/fixClipWithShadow\");\n\n/**\n * \n * @module zrender/graphic/shape/Sector\n */\nvar _default = Path.extend({\n  type: 'sector',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n    ctx.lineTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","var smoothSpline = require(\"./smoothSpline\");\n\nvar smoothBezier = require(\"./smoothBezier\");\n\nfunction buildPath(ctx, shape, closePath) {\n  var points = shape.points;\n  var smooth = shape.smooth;\n\n  if (points && points.length >= 2) {\n    if (smooth && smooth !== 'spline') {\n      var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n      ctx.moveTo(points[0][0], points[0][1]);\n      var len = points.length;\n\n      for (var i = 0; i < (closePath ? len : len - 1); i++) {\n        var cp1 = controlPoints[i * 2];\n        var cp2 = controlPoints[i * 2 + 1];\n        var p = points[(i + 1) % len];\n        ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n      }\n    } else {\n      if (smooth === 'spline') {\n        points = smoothSpline(points, closePath);\n      }\n\n      ctx.moveTo(points[0][0], points[0][1]);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        ctx.lineTo(points[i][0], points[i][1]);\n      }\n    }\n\n    closePath && ctx.closePath();\n  }\n}\n\nexports.buildPath = buildPath;","/**\n * @param {Object} ctx\n * @param {Object} shape\n * @param {number} shape.x\n * @param {number} shape.y\n * @param {number} shape.width\n * @param {number} shape.height\n * @param {number} shape.r\n */\nfunction buildPath(ctx, shape) {\n  var x = shape.x;\n  var y = shape.y;\n  var width = shape.width;\n  var height = shape.height;\n  var r = shape.r;\n  var r1;\n  var r2;\n  var r3;\n  var r4; // Convert width and height to positive for better borderRadius\n\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n\n  if (typeof r === 'number') {\n    r1 = r2 = r3 = r4 = r;\n  } else if (r instanceof Array) {\n    if (r.length === 1) {\n      r1 = r2 = r3 = r4 = r[0];\n    } else if (r.length === 2) {\n      r1 = r3 = r[0];\n      r2 = r4 = r[1];\n    } else if (r.length === 3) {\n      r1 = r[0];\n      r2 = r4 = r[1];\n      r3 = r[2];\n    } else {\n      r1 = r[0];\n      r2 = r[1];\n      r3 = r[2];\n      r4 = r[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = 0;\n  }\n\n  var total;\n\n  if (r1 + r2 > width) {\n    total = r1 + r2;\n    r1 *= width / total;\n    r2 *= width / total;\n  }\n\n  if (r3 + r4 > width) {\n    total = r3 + r4;\n    r3 *= width / total;\n    r4 *= width / total;\n  }\n\n  if (r2 + r3 > height) {\n    total = r2 + r3;\n    r2 *= height / total;\n    r3 *= height / total;\n  }\n\n  if (r1 + r4 > height) {\n    total = r1 + r4;\n    r1 *= height / total;\n    r4 *= height / total;\n  }\n\n  ctx.moveTo(x + r1, y);\n  ctx.lineTo(x + width - r2, y);\n  r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n  ctx.lineTo(x + width, y + height - r3);\n  r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n  ctx.lineTo(x + r4, y + height);\n  r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n  ctx.lineTo(x, y + r1);\n  r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n\nexports.buildPath = buildPath;","var util = require(\"./core/util\");\n\nvar _config = require(\"./config\");\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar Style = require(\"./graphic/Style\");\n\nvar Pattern = require(\"./graphic/Pattern\");\n\n/**\n * @module zrender/Layer\n * @author pissang(https://www.github.com/pissang)\n */\nfunction returnFalse() {\n  return false;\n}\n/**\n * dom\n *\n * @inner\n * @param {string} id dom id \n * @param {Painter} painter painter instance\n * @param {number} number\n */\n\n\nfunction createDom(id, painter, dpr) {\n  var newDom = util.createCanvas();\n  var width = painter.getWidth();\n  var height = painter.getHeight();\n  var newDomStyle = newDom.style;\n\n  if (newDomStyle) {\n    // In node or some other non-browser environment\n    newDomStyle.position = 'absolute';\n    newDomStyle.left = 0;\n    newDomStyle.top = 0;\n    newDomStyle.width = width + 'px';\n    newDomStyle.height = height + 'px';\n    newDom.setAttribute('data-zr-dom-id', id);\n  }\n\n  newDom.width = width * dpr;\n  newDom.height = height * dpr;\n  return newDom;\n}\n/**\n * @alias module:zrender/Layer\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @param {string} id\n * @param {module:zrender/Painter} painter\n * @param {number} [dpr]\n */\n\n\nvar Layer = function (id, painter, dpr) {\n  var dom;\n  dpr = dpr || devicePixelRatio;\n\n  if (typeof id === 'string') {\n    dom = createDom(id, painter, dpr);\n  } // Not using isDom because in node it will return false\n  else if (util.isObject(id)) {\n      dom = id;\n      id = dom.id;\n    }\n\n  this.id = id;\n  this.dom = dom;\n  var domStyle = dom.style;\n\n  if (domStyle) {\n    // Not in node\n    dom.onselectstart = returnFalse; // \n\n    domStyle['-webkit-user-select'] = 'none';\n    domStyle['user-select'] = 'none';\n    domStyle['-webkit-touch-callout'] = 'none';\n    domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n    domStyle['padding'] = 0; // eslint-disable-line dot-notation\n\n    domStyle['margin'] = 0; // eslint-disable-line dot-notation\n\n    domStyle['border-width'] = 0;\n  }\n\n  this.domBack = null;\n  this.ctxBack = null;\n  this.painter = painter;\n  this.config = null; // Configs\n\n  /**\n   * \n   * @type {string}\n   * @default 0\n   */\n\n  this.clearColor = 0;\n  /**\n   * \n   * @type {boolean}\n   * @default false\n   */\n\n  this.motionBlur = false;\n  /**\n   * alpha\n   * @type {number}\n   * @default 0.7\n   */\n\n  this.lastFrameAlpha = 0.7;\n  /**\n   * Layer dpr\n   * @type {number}\n   */\n\n  this.dpr = dpr;\n};\n\nLayer.prototype = {\n  constructor: Layer,\n  __dirty: true,\n  __used: false,\n  __drawIndex: 0,\n  __startIndex: 0,\n  __endIndex: 0,\n  incremental: false,\n  getElementCount: function () {\n    return this.__endIndex - this.__startIndex;\n  },\n  initContext: function () {\n    this.ctx = this.dom.getContext('2d');\n    this.ctx.dpr = this.dpr;\n  },\n  createBackBuffer: function () {\n    var dpr = this.dpr;\n    this.domBack = createDom('back-' + this.id, this.painter, dpr);\n    this.ctxBack = this.domBack.getContext('2d');\n\n    if (dpr !== 1) {\n      this.ctxBack.scale(dpr, dpr);\n    }\n  },\n\n  /**\n   * @param  {number} width\n   * @param  {number} height\n   */\n  resize: function (width, height) {\n    var dpr = this.dpr;\n    var dom = this.dom;\n    var domStyle = dom.style;\n    var domBack = this.domBack;\n\n    if (domStyle) {\n      domStyle.width = width + 'px';\n      domStyle.height = height + 'px';\n    }\n\n    dom.width = width * dpr;\n    dom.height = height * dpr;\n\n    if (domBack) {\n      domBack.width = width * dpr;\n      domBack.height = height * dpr;\n\n      if (dpr !== 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [clearAll]=false Clear all with out motion blur\n   * @param {Color} [clearColor]\n   */\n  clear: function (clearAll, clearColor) {\n    var dom = this.dom;\n    var ctx = this.ctx;\n    var width = dom.width;\n    var height = dom.height;\n    var clearColor = clearColor || this.clearColor;\n    var haveMotionBLur = this.motionBlur && !clearAll;\n    var lastFrameAlpha = this.lastFrameAlpha;\n    var dpr = this.dpr;\n\n    if (haveMotionBLur) {\n      if (!this.domBack) {\n        this.createBackBuffer();\n      }\n\n      this.ctxBack.globalCompositeOperation = 'copy';\n      this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n    }\n\n    ctx.clearRect(0, 0, width, height);\n\n    if (clearColor && clearColor !== 'transparent') {\n      var clearColorGradientOrPattern; // Gradient\n\n      if (clearColor.colorStops) {\n        // Cache canvas gradient\n        clearColorGradientOrPattern = clearColor.__canvasGradient || Style.getGradient(ctx, clearColor, {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        });\n        clearColor.__canvasGradient = clearColorGradientOrPattern;\n      } // Pattern\n      else if (clearColor.image) {\n          clearColorGradientOrPattern = Pattern.prototype.getCanvasPattern.call(clearColor, ctx);\n        }\n\n      ctx.save();\n      ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n      ctx.fillRect(0, 0, width, height);\n      ctx.restore();\n    }\n\n    if (haveMotionBLur) {\n      var domBack = this.domBack;\n      ctx.save();\n      ctx.globalAlpha = lastFrameAlpha;\n      ctx.drawImage(domBack, 0, 0, width, height);\n      ctx.restore();\n    }\n  }\n};\nvar _default = Layer;\nmodule.exports = _default;","var LRU = require(\"../../core/LRU\");\n\nvar globalImageCache = new LRU(50);\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\nfunction findExistImage(newImageOrSrc) {\n  if (typeof newImageOrSrc === 'string') {\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    return cachedImgObj && cachedImgObj.image;\n  } else {\n    return newImageOrSrc;\n  }\n}\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\n\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n  if (!newImageOrSrc) {\n    return image;\n  } else if (typeof newImageOrSrc === 'string') {\n    // Image should not be loaded repeatly.\n    if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n      return image;\n    } // Only when there is no existent image or existent image src\n    // is different, this method is responsible for load.\n\n\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    var pendingWrap = {\n      hostEl: hostEl,\n      cb: cb,\n      cbPayload: cbPayload\n    };\n\n    if (cachedImgObj) {\n      image = cachedImgObj.image;\n      !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n    } else {\n      image = new Image();\n      image.onload = image.onerror = imageOnLoad;\n      globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n        image: image,\n        pending: [pendingWrap]\n      });\n      image.src = image.__zrImageSrc = newImageOrSrc;\n    }\n\n    return image;\n  } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n  else {\n      return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n  var cachedImgObj = this.__cachedImgObj;\n  this.onload = this.onerror = this.__cachedImgObj = null;\n\n  for (var i = 0; i < cachedImgObj.pending.length; i++) {\n    var pendingWrap = cachedImgObj.pending[i];\n    var cb = pendingWrap.cb;\n    cb && cb(this, pendingWrap.cbPayload);\n    pendingWrap.hostEl.dirty();\n  }\n\n  cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n  return image && image.width && image.height;\n}\n\nexports.findExistImage = findExistImage;\nexports.createOrUpdateImage = createOrUpdateImage;\nexports.isImageReady = isImageReady;","var Eventful = require(\"../mixin/Eventful\");\n\nexports.Dispatcher = Eventful;\n\nvar env = require(\"./env\");\n\nvar _dom = require(\"./dom\");\n\nvar isCanvasEl = _dom.isCanvasEl;\nvar transformCoordWithViewport = _dom.transformCoordWithViewport;\n\n/**\n * Utilities for mouse or touch events.\n */\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\n/**\n * Get the `zrX` and `zrY`, which are relative to the top-left of\n * the input `el`.\n * CSS transform (2D & 3D) is supported.\n *\n * The strategy to fetch the coords:\n * + If `calculate` is not set as `true`, users of this method should\n * ensure that `el` is the same or the same size & location as `e.target`.\n * Otherwise the result coords are probably not expected. Because we\n * firstly try to get coords from e.offsetX/e.offsetY.\n * + If `calculate` is set as `true`, the input `el` can be any element\n * and we force to calculate the coords based on `el`.\n * + The input `el` should be positionable (not position:static).\n *\n * The force `calculate` can be used in case like:\n * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} e Mouse event or touch event.\n * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n      out.zrX = e.layerX;\n      out.zrY = e.layerY;\n    } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n      } // For some other device, e.g., IOS safari.\n      else {\n          calculateZrXY(el, e, out);\n        }\n\n  return out;\n}\n\nfunction calculateZrXY(el, e, out) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n  if (env.domSupported && el.getBoundingClientRect) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if (isCanvasEl(el)) {\n      // Original approach, which do not support CSS transform.\n      // marker can not be locationed in a canvas container\n      // (getBoundingClientRect is always 0). We do not support\n      // that input a pre-created canvas to zr while using css\n      // transform in iOS.\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n/**\n * Find native event compat for legency IE.\n * Should be called at the begining of a native event listener.\n *\n * @param {Event} [e] Mouse event or touch event or pointer event.\n *        For lagency IE, we use `window.event` is used.\n * @return {Event} The native event.\n */\n\n\nfunction getNativeEvent(e) {\n  return e || window.event;\n}\n/**\n * Normalize the coordinates of the input event.\n *\n * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n * the input `el`.\n * Get `e.zrDelta` if using mouse wheel.\n * Get `e.which`, see the comment inside this function.\n *\n * Do not calculate repeatly if `zrX` and `zrY` already exist.\n *\n * Notice: see comments in `clientToLocal`. check the relationship\n * between the result coords and the parameters `el` and `calculate`.\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} [e] See `getNativeEvent`.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n * @return {UIEvent} The normalized native UIEvent.\n */\n\n\nfunction normalizeEvent(el, e, calculate) {\n  e = getNativeEvent(e);\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, it may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  } // [Caution]: `e.which` from browser is not always reliable. For example,\n  // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n  // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n  // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n  return e;\n}\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Function} handler\n * @param {Object|boolean} opt If boolean, means `opt.capture`\n * @param {boolean} [opt.capture=false]\n * @param {boolean} [opt.passive=false]\n */\n\n\nfunction addEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    // Reproduct the console warning:\n    // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n    // Consider marking event handler as 'passive' to make the page more responsive.\n    // Just set console log level: verbose in chrome dev tool.\n    // then the warning log will be printed when addEventListener called.\n    // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // We have not yet found a neat way to using passive. Because in zrender the dom event\n    // listener delegate all of the upper events of element. Some of those events need\n    // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n    // Before passive can be adopted, these issues should be considered:\n    // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n    // passive or not.\n    // (2) How to tread that some zrender event listener is passive, and some is not. If\n    // we use other way but not preventDefault of mousewheel and touchmove, browser\n    // compatibility should be handled.\n    // var opts = (env.passiveSupported && name === 'mousewheel')\n    //     ? {passive: true}\n    //     // By default, the third param of el.addEventListener is `capture: false`.\n    //     : void 0;\n    // el.addEventListener(name, handler /* , opts */);\n    el.addEventListener(name, handler, opt);\n  } else {\n    // For simplicity, do not implement `setCapture` for IE9-.\n    el.attachEvent('on' + name, handler);\n  }\n}\n/**\n * Parameter are the same as `addEventListener`.\n *\n * Notice that if a listener is registered twice, one with capture and one without,\n * remove each one separately. Removal of a capturing listener does not affect a\n * non-capturing version of the same listener, and vice versa.\n */\n\n\nfunction removeEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler, opt);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not use this method in zrender. It can only be\n * used by upper applications if necessary.\n *\n * @param {Event} e A mouse or touch event.\n */\n\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n/**\n * This method only works for mouseup and mousedown. The functionality is restricted\n * for fault tolerance, See the `e.which` compatibility above.\n *\n * @param {MouseEvent} e\n * @return {boolean}\n */\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n/**\n * To be removed.\n * @deprecated\n */\n\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // For backward compatibility\n\n\nexports.clientToLocal = clientToLocal;\nexports.getNativeEvent = getNativeEvent;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.notLeftMouse = notLeftMouse;","var _vector = require(\"../../core/vector\");\n\nvar v2Distance = _vector.distance;\n\n/**\n * Catmull-Rom spline \n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points \n * @param {boolean} isLoop\n * @return {Array}\n */\n\n\nfunction _default(points, isLoop) {\n  var len = points.length;\n  var ret = [];\n  var distance = 0;\n\n  for (var i = 1; i < len; i++) {\n    distance += v2Distance(points[i - 1], points[i]);\n  }\n\n  var segs = distance / 2;\n  segs = segs < len ? len : segs;\n\n  for (var i = 0; i < segs; i++) {\n    var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n    var idx = Math.floor(pos);\n    var w = pos - idx;\n    var p0;\n    var p1 = points[idx % len];\n    var p2;\n    var p3;\n\n    if (!isLoop) {\n      p0 = points[idx === 0 ? idx : idx - 1];\n      p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n      p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n    } else {\n      p0 = points[(idx - 1 + len) % len];\n      p2 = points[(idx + 1) % len];\n      p3 = points[(idx + 2) % len];\n    }\n\n    var w2 = w * w;\n    var w3 = w * w2;\n    ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n  }\n\n  return ret;\n}\n\nmodule.exports = _default;","var env = require(\"./env\");\n\nvar _fourPointsTransform = require(\"./fourPointsTransform\");\n\nvar buildTransformer = _fourPointsTransform.buildTransformer;\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\n/**\n * Transform \"local coord\" from `elFrom` to `elTarget`.\n * \"local coord\": the coord based on the input `el`. The origin point is at\n *     the position of \"left: 0; top: 0;\" in the `el`.\n *\n * Support when CSS transform is used.\n *\n * Having the `out` (that is, `[outX, outY]`), we can create an DOM element\n * and set the CSS style as \"left: outX; top: outY;\" and append it to `elTarge`\n * to locate the element.\n *\n * For example, this code below positions a child of `document.body` on the event\n * point, no matter whether `body` has `margin`/`paddin`/`transfrom`/... :\n * ```js\n * transformLocalCoord(out, container, document.body, event.offsetX, event.offsetY);\n * if (!eqNaN(out[0])) {\n *     // Then locate the tip element on the event point.\n *     var tipEl = document.createElement('div');\n *     tipEl.style.cssText = 'position: absolute; left:' + out[0] + ';top:' + out[1] + ';';\n *     document.body.appendChild(tipEl);\n * }\n * ```\n *\n * Notice: In some env this method is not supported. If called, `out` will be `[NaN, NaN]`.\n *\n * @param {Array.<number>} out [inX: number, inY: number] The output..\n *        If can not transform, `out` will not be modified but return `false`.\n * @param {HTMLElement} elFrom The `[inX, inY]` is based on elFrom.\n * @param {HTMLElement} elTarget The `out` is based on elTarget.\n * @param {number} inX\n * @param {number} inY\n * @return {boolean} Whether transform successfully.\n */\n\nfunction transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n  return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true) && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\n/**\n * Transform between a \"viewport coord\" and a \"local coord\".\n * \"viewport coord\": the coord based on the left-top corner of the viewport\n *     of the browser.\n * \"local coord\": the coord based on the input `el`. The origin point is at\n *     the position of \"left: 0; top: 0;\" in the `el`.\n *\n * Support the case when CSS transform is used on el.\n *\n * @param {Array.<number>} out [inX: number, inY: number] The output. If `inverse: false`,\n *        it represents \"local coord\", otherwise \"vireport coord\".\n *        If can not transform, `out` will not be modified but return `false`.\n * @param {HTMLElement} el The \"local coord\" is based on the `el`, see comment above.\n * @param {number} inX If `inverse: false`,\n *        it represents \"vireport coord\", otherwise \"local coord\".\n * @param {number} inY If `inverse: false`,\n *        it represents \"vireport coord\", otherwise \"local coord\".\n * @param {boolean} [inverse=false]\n *        `true`: from \"viewport coord\" to \"local coord\".\n *        `false`: from \"local coord\" to \"viewport coord\".\n * @return {boolean} Whether transform successfully.\n */\n\n\nfunction transformCoordWithViewport(out, el, inX, inY, inverse) {\n  if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n    var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n    var markers = prepareCoordMarkers(el, saved);\n    var transformer = preparePointerTransformer(markers, saved, inverse);\n\n    if (transformer) {\n      transformer(out, inX, inY);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction prepareCoordMarkers(el, saved) {\n  var markers = saved.markers;\n\n  if (markers) {\n    return markers;\n  }\n\n  markers = saved.markers = [];\n  var propLR = ['left', 'right'];\n  var propTB = ['top', 'bottom'];\n\n  for (var i = 0; i < 4; i++) {\n    var marker = document.createElement('div');\n    var stl = marker.style;\n    var idxLR = i % 2;\n    var idxTB = (i >> 1) % 2;\n    stl.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', // 'width: 5px',\n    // 'height: 5px',\n    propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n    el.appendChild(marker);\n    markers.push(marker);\n  }\n\n  return markers;\n}\n\nfunction preparePointerTransformer(markers, saved, inverse) {\n  var transformerName = inverse ? 'invTrans' : 'trans';\n  var transformer = saved[transformerName];\n  var oldSrcCoords = saved.srcCoords;\n  var oldCoordTheSame = true;\n  var srcCoords = [];\n  var destCoords = [];\n\n  for (var i = 0; i < 4; i++) {\n    var rect = markers[i].getBoundingClientRect();\n    var ii = 2 * i;\n    var x = rect.left;\n    var y = rect.top;\n    srcCoords.push(x, y);\n    oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n    destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n  } // Cache to avoid time consuming of `buildTransformer`.\n\n\n  return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer(destCoords, srcCoords) : buildTransformer(srcCoords, destCoords));\n}\n\nfunction isCanvasEl(el) {\n  return el.nodeName.toUpperCase() === 'CANVAS';\n}\n\nexports.transformLocalCoord = transformLocalCoord;\nexports.transformCoordWithViewport = transformCoordWithViewport;\nexports.isCanvasEl = isCanvasEl;","var _curve = require(\"../core/curve\");\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var guid = require(\"./core/guid\");\n\nvar env = require(\"./core/env\");\n\nvar zrUtil = require(\"./core/util\");\n\nvar Handler = require(\"./Handler\");\n\nvar Storage = require(\"./Storage\");\n\nvar Painter = require(\"./Painter\");\n\nvar Animation = require(\"./animation/Animation\");\n\nvar HandlerProxy = require(\"./dom/HandlerProxy\");\n\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nvar useVML = !env.canvasSupported;\nvar painterCtors = {\n  canvas: Painter\n};\nvar instances = {}; // ZRendermap\n\n/**\n * @type {string}\n */\n\nvar version = '4.3.2';\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} [opts]\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\n\nfunction init(dom, opts) {\n  var zr = new ZRender(guid(), dom, opts);\n  instances[zr.id] = zr;\n  return zr;\n}\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\n\n\nfunction dispose(zr) {\n  if (zr) {\n    zr.dispose();\n  } else {\n    for (var key in instances) {\n      if (instances.hasOwnProperty(key)) {\n        instances[key].dispose();\n      }\n    }\n\n    instances = {};\n  }\n\n  return this;\n}\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\n\n\nfunction getInstance(id) {\n  return instances[id];\n}\n\nfunction registerPainter(name, Ctor) {\n  painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n  delete instances[id];\n}\n/**\n * @module zrender/ZRender\n */\n\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\n\n\nvar ZRender = function (id, dom, opts) {\n  opts = opts || {};\n  /**\n   * @type {HTMLDomElement}\n   */\n\n  this.dom = dom;\n  /**\n   * @type {string}\n   */\n\n  this.id = id;\n  var self = this;\n  var storage = new Storage();\n  var rendererType = opts.renderer; // TODO WebGL\n\n  if (useVML) {\n    if (!painterCtors.vml) {\n      throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n    }\n\n    rendererType = 'vml';\n  } else if (!rendererType || !painterCtors[rendererType]) {\n    rendererType = 'canvas';\n  }\n\n  var painter = new painterCtors[rendererType](dom, storage, opts, id);\n  this.storage = storage;\n  this.painter = painter;\n  var handerProxy = !env.node && !env.worker ? new HandlerProxy(painter.getViewportRoot(), painter.root) : null;\n  this.handler = new Handler(storage, painter, handerProxy, painter.root);\n  /**\n   * @type {module:zrender/animation/Animation}\n   */\n\n  this.animation = new Animation({\n    stage: {\n      update: zrUtil.bind(this.flush, this)\n    }\n  });\n  this.animation.start();\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._needsRefresh; //  storage.delFromStorage, \n  // FIXME ugly\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n    el && el.removeSelfFromZr(self);\n  };\n\n  storage.addToStorage = function (el) {\n    oldAddToStorage.call(storage, el);\n    el.addSelfToZr(self);\n  };\n};\n\nZRender.prototype = {\n  constructor: ZRender,\n\n  /**\n   * \n   * @return {string}\n   */\n  getId: function () {\n    return this.id;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  add: function (el) {\n    this.storage.addRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  remove: function (el) {\n    this.storage.delRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Change configuration of layer\n   * @param {string} zLevel\n   * @param {Object} config\n   * @param {string} [config.clearColor=0] Clear color\n   * @param {string} [config.motionBlur=false] If enable motion blur\n   * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n  */\n  configLayer: function (zLevel, config) {\n    if (this.painter.configLayer) {\n      this.painter.configLayer(zLevel, config);\n    }\n\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Set background color\n   * @param {string} backgroundColor\n   */\n  setBackgroundColor: function (backgroundColor) {\n    if (this.painter.setBackgroundColor) {\n      this.painter.setBackgroundColor(backgroundColor);\n    }\n\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Repaint the canvas immediately\n   */\n  refreshImmediately: function () {\n    // var start = new Date();\n    // Clear needsRefresh ahead to avoid something wrong happens in refresh\n    // Or it will cause zrender refreshes again and again.\n    this._needsRefresh = this._needsRefreshHover = false;\n    this.painter.refresh(); // Avoid trigger zr.refresh in Element#beforeUpdate hook\n\n    this._needsRefresh = this._needsRefreshHover = false; // var end = new Date();\n    // var log = document.getElementById('log');\n    // if (log) {\n    //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n    // }\n  },\n\n  /**\n   * Mark and repaint the canvas in the next frame of browser\n   */\n  refresh: function () {\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Perform all refresh\n   */\n  flush: function () {\n    var triggerRendered;\n\n    if (this._needsRefresh) {\n      triggerRendered = true;\n      this.refreshImmediately();\n    }\n\n    if (this._needsRefreshHover) {\n      triggerRendered = true;\n      this.refreshHoverImmediately();\n    }\n\n    triggerRendered && this.trigger('rendered');\n  },\n\n  /**\n   * Add element to hover layer\n   * @param  {module:zrender/Element} el\n   * @param {Object} style\n   */\n  addHover: function (el, style) {\n    if (this.painter.addHover) {\n      var elMirror = this.painter.addHover(el, style);\n      this.refreshHover();\n      return elMirror;\n    }\n  },\n\n  /**\n   * Add element from hover layer\n   * @param  {module:zrender/Element} el\n   */\n  removeHover: function (el) {\n    if (this.painter.removeHover) {\n      this.painter.removeHover(el);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Clear all hover elements in hover layer\n   * @param  {module:zrender/Element} el\n   */\n  clearHover: function () {\n    if (this.painter.clearHover) {\n      this.painter.clearHover();\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Refresh hover in next frame\n   */\n  refreshHover: function () {\n    this._needsRefreshHover = true;\n  },\n\n  /**\n   * Refresh hover immediately\n   */\n  refreshHoverImmediately: function () {\n    this._needsRefreshHover = false;\n    this.painter.refreshHover && this.painter.refreshHover();\n  },\n\n  /**\n   * Resize the canvas.\n   * Should be invoked when container size is changed\n   * @param {Object} [opts]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n  resize: function (opts) {\n    opts = opts || {};\n    this.painter.resize(opts.width, opts.height);\n    this.handler.resize();\n  },\n\n  /**\n   * Stop and clear all animation immediately\n   */\n  clearAnimation: function () {\n    this.animation.clear();\n  },\n\n  /**\n   * Get container width\n   */\n  getWidth: function () {\n    return this.painter.getWidth();\n  },\n\n  /**\n   * Get container height\n   */\n  getHeight: function () {\n    return this.painter.getHeight();\n  },\n\n  /**\n   * Export the canvas as Base64 URL\n   * @param {string} type\n   * @param {string} [backgroundColor='#fff']\n   * @return {string} Base64 URL\n   */\n  // toDataURL: function(type, backgroundColor) {\n  //     return this.painter.getRenderedCanvas({\n  //         backgroundColor: backgroundColor\n  //     }).toDataURL(type);\n  // },\n\n  /**\n   * Converting a path to image.\n   * It has much better performance of drawing image rather than drawing a vector path.\n   * @param {module:zrender/graphic/Path} e\n   * @param {number} width\n   * @param {number} height\n   */\n  pathToImage: function (e, dpr) {\n    return this.painter.pathToImage(e, dpr);\n  },\n\n  /**\n   * Set default cursor\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    this.handler.setCursorStyle(cursorStyle);\n  },\n\n  /**\n   * Find hovered element\n   * @param {number} x\n   * @param {number} y\n   * @return {Object} {target, topTarget}\n   */\n  findHover: function (x, y) {\n    return this.handler.findHover(x, y);\n  },\n\n  /**\n   * Bind event\n   *\n   * @param {string} eventName Event name\n   * @param {Function} eventHandler Handler function\n   * @param {Object} [context] Context object\n   */\n  on: function (eventName, eventHandler, context) {\n    this.handler.on(eventName, eventHandler, context);\n  },\n\n  /**\n   * Unbind event\n   * @param {string} eventName Event name\n   * @param {Function} [eventHandler] Handler function\n   */\n  off: function (eventName, eventHandler) {\n    this.handler.off(eventName, eventHandler);\n  },\n\n  /**\n   * Trigger event manually\n   *\n   * @param {string} eventName Event name\n   * @param {event=} event Event object\n   */\n  trigger: function (eventName, event) {\n    this.handler.trigger(eventName, event);\n  },\n\n  /**\n   * Clear all objects and the canvas.\n   */\n  clear: function () {\n    this.storage.delRoot();\n    this.painter.clear();\n  },\n\n  /**\n   * Dispose self.\n   */\n  dispose: function () {\n    this.animation.stop();\n    this.clear();\n    this.storage.dispose();\n    this.painter.dispose();\n    this.handler.dispose();\n    this.animation = this.storage = this.painter = this.handler = null;\n    delInstance(this.id);\n  }\n};\nexports.version = version;\nexports.init = init;\nexports.dispose = dispose;\nexports.getInstance = getInstance;\nexports.registerPainter = registerPainter;","/**\n * @module zrender/core/util\n */\n// mergeDate\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  // Clear ctx instance for different environment\n  if (name === 'createCanvas') {\n    _ctx = null;\n  }\n\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source !== 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    if (!isPrimitive(source)) {\n      result = [];\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    if (!isPrimitive(source)) {\n      var Ctor = source.constructor;\n\n      if (source.constructor.from) {\n        result = Ctor.from(source);\n      } else {\n        result = new Ctor(source.length);\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone(source[i]);\n        }\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // overwritetrue\n        // NOTE target[key] \n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function () {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * \n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz \n * @param {Function} baseClazz \n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    if (clazzPrototype.hasOwnProperty(prop)) {\n      clazz.prototype[prop] = clazzPrototype[prop];\n    }\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data === 'string') {\n    return false;\n  }\n\n  return typeof data.length === 'number';\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type === 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isTypedArray(value) {\n  return !!TYPED_ARRAY[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  /* eslint-disable-next-line no-self-compare */\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {string} str string to be trimed\n * @return {string} trimed string\n */\n\n\nfunction trim(str) {\n  if (str == null) {\n    return null;\n  } else if (typeof str.trim === 'function') {\n    return str.trim();\n  } else {\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  var isArr = isArray(obj); // Key should not be set on this, otherwise\n  // methods get/set/... may be overrided.\n\n  this.data = {};\n  var thisMap = this;\n  obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n  function visit(value, key) {\n    isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n  }\n}\n\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function (key) {\n    return this.data.hasOwnProperty(key) ? this.data[key] : null;\n  },\n  set: function (key, value) {\n    // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n    return this.data[key] = value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function (cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n    /* eslint-disable guard-for-in */\n\n    for (var key in this.data) {\n      this.data.hasOwnProperty(key) && cb(this.data[key], key);\n    }\n    /* eslint-enable guard-for-in */\n\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function (key) {\n    delete this.data[key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction concatArray(a, b) {\n  var newArray = new a.constructor(a.length + b.length);\n\n  for (var i = 0; i < a.length; i++) {\n    newArray[i] = a[i];\n  }\n\n  var offset = a.length;\n\n  for (i = 0; i < b.length; i++) {\n    newArray[i + offset] = b[i];\n  }\n\n  return newArray;\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isTypedArray = isTypedArray;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.trim = trim;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.concatArray = concatArray;\nexports.noop = noop;","/**\n *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  linear: function (k) {\n    return k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticIn: function (k) {\n    return k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticOut: function (k) {\n    return k * (2 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k;\n    }\n\n    return -0.5 * (--k * (k - 2) - 1);\n  },\n  // t^3\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicIn: function (k) {\n    return k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicOut: function (k) {\n    return --k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k + 2);\n  },\n  // t^4\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticIn: function (k) {\n    return k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticOut: function (k) {\n    return 1 - --k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k;\n    }\n\n    return -0.5 * ((k -= 2) * k * k * k - 2);\n  },\n  // t^5\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticIn: function (k) {\n    return k * k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticOut: function (k) {\n    return --k * k * k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k * k * k + 2);\n  },\n  // sin(t)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalIn: function (k) {\n    return 1 - Math.cos(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalOut: function (k) {\n    return Math.sin(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalInOut: function (k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k));\n  },\n  // 2^t\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialIn: function (k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialOut: function (k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialInOut: function (k) {\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1);\n    }\n\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n  },\n  // sqrt(1-t^2)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularIn: function (k) {\n    return 1 - Math.sqrt(1 - k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularOut: function (k) {\n    return Math.sqrt(1 - --k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\n    }\n\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticIn: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticInOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    if ((k *= 2) < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backIn: function (k) {\n    var s = 1.70158;\n    return k * k * ((s + 1) * k - s);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backOut: function (k) {\n    var s = 1.70158;\n    return --k * k * ((s + 1) * k + s) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backInOut: function (k) {\n    var s = 1.70158 * 1.525;\n\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s));\n    }\n\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceIn: function (k) {\n    return 1 - easing.bounceOut(1 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceOut: function (k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k;\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceInOut: function (k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5;\n    }\n\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n  }\n};\nvar _default = easing;\nmodule.exports = _default;","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapChart.vue?vue&type=style&index=0&id=9ed2eee0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapChart.vue?vue&type=style&index=0&id=9ed2eee0&lang=scss&scoped=true&\"","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"./helper/text\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\n\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nvar Text = function (opts) {\n  // jshint ignore:line\n  Displayable.call(this, opts);\n};\n\nText.prototype = {\n  constructor: Text,\n  type: 'text',\n  brush: function (ctx, prevEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n    style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n    var text = style.text; // Convert to string\n\n    text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n    // is in textHelper.renderText, and performance of text render should\n    // be considered.\n    // style.bind(ctx, this, prevEl);\n\n    if (!textHelper.needDrawText(text, style)) {\n      // The current el.style is not applied\n      // and should not be used as cache.\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n      return;\n    }\n\n    this.setTransform(ctx);\n    textHelper.renderText(this, ctx, text, style, null, prevEl);\n    this.restoreTransform(ctx);\n  },\n  getBoundingRect: function () {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n        var w = style.textStrokeWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(Text, Displayable);\nvar _default = Text;\nmodule.exports = _default;","var SHADOW_PROPS = {\n  'shadowBlur': 1,\n  'shadowOffsetX': 1,\n  'shadowOffsetY': 1,\n  'textShadowBlur': 1,\n  'textShadowOffsetX': 1,\n  'textShadowOffsetY': 1,\n  'textBoxShadowBlur': 1,\n  'textBoxShadowOffsetX': 1,\n  'textBoxShadowOffsetY': 1\n};\n\nfunction _default(ctx, propName, value) {\n  if (SHADOW_PROPS.hasOwnProperty(propName)) {\n    return value *= ctx.dpr;\n  }\n\n  return value;\n}\n\nmodule.exports = _default;","var ContextCachedBy = {\n  NONE: 0,\n  STYLE_BIND: 1,\n  PLAIN_TEXT: 2\n}; // Avoid confused with 0/false.\n\nvar WILL_BE_RESTORED = 9;\nexports.ContextCachedBy = ContextCachedBy;\nexports.WILL_BE_RESTORED = WILL_BE_RESTORED;","/**\n * The algoritm is learnt from\n * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n * And we made some optimization for matrix inversion.\n * Other similar approaches:\n * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n */\nvar LN2 = Math.log(2);\n\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n  var cacheKey = rowMask + '-' + colMask;\n  var fullRank = rows.length;\n\n  if (detCache.hasOwnProperty(cacheKey)) {\n    return detCache[cacheKey];\n  }\n\n  if (rank === 1) {\n    // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n    var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n    return rows[rowStart][colStart];\n  }\n\n  var subRowMask = rowMask | 1 << rowStart;\n  var subRowStart = rowStart + 1;\n\n  while (rowMask & 1 << subRowStart) {\n    subRowStart++;\n  }\n\n  var sum = 0;\n\n  for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n    var colTag = 1 << j;\n\n    if (!(colTag & colMask)) {\n      sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n      * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n      colLocalIdx++;\n    }\n  }\n\n  detCache[cacheKey] = sum;\n  return sum;\n}\n/**\n * Usage:\n * ```js\n * var transformer = buildTransformer(\n *     [10, 44, 100, 44, 100, 300, 10, 300],\n *     [50, 54, 130, 14, 140, 330, 14, 220]\n * );\n * var out = [];\n * transformer && transformer([11, 33], out);\n * ```\n *\n * Notice: `buildTransformer` may take more than 10ms in some Android device.\n *\n * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @return {Function} transformer If fail, return null/undefined.\n */\n\n\nfunction buildTransformer(src, dest) {\n  var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n  var detCache = {};\n  var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n  if (det === 0) {\n    // can not make transformer when and only when\n    // any three of the markers are collinear.\n    return;\n  } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n  var vh = [];\n\n  for (var i = 0; i < 8; i++) {\n    for (var j = 0; j < 8; j++) {\n      vh[j] == null && (vh[j] = 0);\n      vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n      determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n    }\n  }\n\n  return function (out, srcPointX, srcPointY) {\n    var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n    out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n    out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n  };\n}\n\nexports.buildTransformer = buildTransformer;","var PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;","function windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n  return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n\n/**\n * \n * @module zrender/shape/Polygon\n */\nvar _default = Path.extend({\n  type: 'polygon',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, true);\n  }\n});\n\nmodule.exports = _default;","var env = require(\"../../core/env\");\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echart-wrapper\"},[_c('el-row',[_c('el-col',[_c('h1',[_vm._v(\"Bar Line Chart demo\")])])],1),_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getFetch(true)}}},[_vm._v(\"1\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getFetch(false)}}},[_vm._v(\"2\")])],1)],1),_c('el-row',[_c('el-col',[_c('map-chart')],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',[(_vm.isReadyLoad)?_c('Bar-line-chart',{attrs:{\"chartData\":_vm.chartData}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"map-chart\",staticClass:\"map-chart\",attrs:{\"id\":\"map-chart\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const getMockdata = ()=> {\r\n    return [\r\n        {name:\"\",value:396},\r\n        {name:\"\",value:131},\r\n        {name:\"\",value:308},\r\n        {name:\"\",value:132},\r\n        {name:\"\",value:75},\r\n        {name:\"\",value:121},\r\n        {name:\"\",value:91},\r\n        {name:\"\",value:479},\r\n        {name:\"\",value:334},\r\n        {name:\"\",value:631},\r\n        {name:\"\",value:1203},\r\n        {name:\"\",value:988},\r\n        {name:\"\",value:293},\r\n        {name:\"\",value:934},\r\n        {name:\"\",value:748},\r\n        {name:\"\",value:1267},\r\n        {name:\"\",value:62662},\r\n        {name:\"\",value:1011},\r\n        {name:\"\",value:1333},\r\n        {name:\"\",value:246},\r\n        {name:\"\",value:168},\r\n        {name:\"\",value:567},\r\n        {name:\"\",value:525},\r\n        {name:\"\",value:146},\r\n        // {name:\"\",value:0}, \r\n        {name:\"\",value:1},\r\n        {name:\"\",value:245},\r\n        {name:\"\",value:91},\r\n        {name:\"\",value:18},\r\n        {name:\"\",value:71},\r\n        {name:\"\",value:76},\r\n        {name:\"\",value:24},\r\n        {name:\"\",value:68},\r\n        {name:\"\",value:10}\r\n    ]\r\n}\r\n\r\nexport const getMockToolData = ()=> {\r\n    return [\r\n        {name:\"\",value:[{name:\"\",value:396},{name:\"\",value:114},{name:\"\",value:4}]},\r\n        {name:\"\",value:[{name:\"\",value:131},{name:\"\",value:173},{name:\"\",value:3}]},\r\n        {name:\"\",value:[{name:\"\",value:308},{name:\"\",value:0},{name:\"\",value:5}]},\r\n        {name:\"\",value:[{name:\"\",value:132},{name:\"\",value:11},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:75},{name:\"\",value:16},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:121},{name:\"\",value:77},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:91},{name:\"\",value:18},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:479},{name:\"\",value:1},{name:\"\",value:12}]},\r\n        {name:\"\",value:[{name:\"\",value:334},{name:\"\",value:107},{name:\"\",value:2}]},\r\n        {name:\"\",value:[{name:\"\",value:631},{name:\"\",value:12},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:1203},{name:\"\",value:26},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:988},{name:\"\",value:7},{name:\"\",value:6}]},\r\n        {name:\"\",value:[{name:\"\",value:293},{name:\"\",value:6},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:934},{name:\"\",value:2},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:748},{name:\"\",value:30},{name:\"\",value:4}]},\r\n        {name:\"\",value:[{name:\"\",value:1267},{name:\"\",value:103},{name:\"\",value:19}]},\r\n        {name:\"\",value:[{name:\"\",value:62662},{name:\"\",value:4094},{name:\"\",value:2144}]},\r\n        {name:\"\",value:[{name:\"\",value:1011},{name:\"\",value:7},{name:\"\",value:4}]},\r\n        {name:\"\",value:[{name:\"\",value:1333},{name:\"\",value:1},{name:\"\",value:5}]},\r\n        {name:\"\",value:[{name:\"\",value:246},{name:\"\",value:67},{name:\"\",value:2}]},\r\n        {name:\"\",value:[{name:\"\",value:168},{name:\"\",value:59},{name:\"\",value:4}]},\r\n        {name:\"\",value:[{name:\"\",value:567},{name:\"\",value:71},{name:\"\",value:6}]},\r\n        {name:\"\",value:[{name:\"\",value:525},{name:\"\",value:56},{name:\"\",value:3}]},\r\n        {name:\"\",value:[{name:\"\",value:146},{name:\"\",value:11},{name:\"\",value:2}]},\r\n        // {name:\"\",value:[]},\r\n        {name:\"\",value:[{name:\"\",value:1},{name:\"\",value:0},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:245},{name:\"\",value:46},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:91},{name:\"\",value:1},{name:\"\",value:2}]},\r\n        {name:\"\",value:[{name:\"\",value:18},{name:\"\",value:0},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:71},{name:\"\",value:21},{name:\"\",value:0}]},\r\n        {name:\"\",value:[{name:\"\",value:76},{name:\"\",value:11},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:24},{name:\"\",value:0},{name:\"\",value:1}]},\r\n        {name:\"\",value:[{name:\"\",value:68},{name:\"\",value:0},{name:\"\",value:2}]},\r\n        {name:\"\",value:[{name:\"\",value:10},{name:\"\",value:0},{name:\"\",value:0}]}\r\n    ]\r\n}\r\n","<template>\r\n  <div class=\"map-chart\" id=\"map-chart\" ref=\"map-chart\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import echarts from 'echarts'\r\n\r\n// \r\nimport echarts from 'echarts/lib/echarts'\r\nrequire('echarts/lib/chart/map') //\r\nrequire('echarts/lib/chart/scatter') //\r\nrequire('echarts/lib/chart/effectScatter') //\r\n\r\nrequire('echarts/lib/component/tooltip')//\r\nrequire('echarts/lib/component/title'), //\r\nrequire('echarts/lib/component/toolbox') //toolbox\r\nrequire('echarts/lib/component/legend') //legend\r\nrequire('echarts/lib/component/visualMap') //visualMap\r\nrequire('echarts/lib/component/geo') //geo\r\n\r\n// ----------------\r\n//import echarts from 'echarts'\r\nimport china from 'echarts/map/json/china.json'\r\necharts.registerMap('china', china)\r\n// ------------------\r\nimport resize from './mixins/resize'\r\nimport {getMockdata, getMockToolData } from './mock_map_data.js'\r\nexport default {\r\n  name: 'Mapchart',\r\n  mixins: [resize],\r\n  components: {\r\n  },\r\n  beforeDestroy() {\r\n\t\tif (!this.chart) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.chart.dispose()\r\n\t\tthis.chart = null\r\n  },\r\n  props:{\r\n\t  chartData:{\r\n\t\t  type:[Object],\r\n\t\t  default:()=>{\r\n\t\t\treturn {\r\n\t\t\t\t typeData: getMockdata(), // series typedata\r\n                 toolTipData: getMockToolData() // hover\r\n\t\t\t  }\r\n\t\t   }\r\n\t  }\r\n  },\r\n  data() {\r\n    return {\r\n\t\tchart: null\r\n    }\r\n  },\r\n  watch:{\r\n\t   chartData: {\r\n            handler(oldVal, val) {\r\n\t\t\t\tconsole.log('watch');\r\n\t\t\t\tthis.chart && this.chart.dispose()\r\n\t\t\t\tthis.initChart()\r\n\t\t\t},\r\n\t\t\t// deep: true // \r\n        }\r\n  },\r\n  methods:{\r\n\tinitChart(){\r\n\t\tthis.$nextTick(function(){\r\n\t\t\t/*\r\n                typeData = getMockdata() // series typedata\r\n                // [{name:\"\",value:396},{name:\"\",value:131}]\r\n                \r\n                toolTipData = getMockToolData() // hover\r\n\t\t\t\t// [{name:\"\",value:[{name:\"\",value:396},{name:\"\",value:114},{name:\"\",value:4}]}]\r\n\t\t\t\t\r\n\t\t\t*/\r\n            this.chart = echarts.init(this.$refs[`map-chart`])\r\n            let geoCoordMap = {}\r\n\t\t\tthis.getmapGeoData(geoCoordMap)\r\n\t\t\t// \r\n\t\t\tthis.chart.on('click', function (params) {\r\n\t\t\t\tconsole.log('clisk:',params);\r\n\t\t\t\t//\r\n\t\t\t})\r\n\t\t})\r\n    },\r\n    getmapGeoData(geoCoordMap){\r\n        this.chart.showLoading();\r\n\t\tlet mapFeatures = echarts.getMap('china').geoJson.features;\r\n\t\tthis.chart.hideLoading();\r\n\t\tmapFeatures.forEach(function(v) {\r\n\t\t\t// \r\n\t\t\tvar name = v.properties.name;\r\n\t\t\t// \r\n\t\t\tgeoCoordMap[name] = v.properties.cp;\r\n        })\r\n        \r\n\t\tthis.setChartOption(geoCoordMap)\r\n    },\r\n\tsetChartOption(geoCoordMap){\r\n\t\tthis.chart.setOption(this.getChartParams(geoCoordMap))\r\n\t},\r\n\tgetChartParams(geoCoordMap){\r\n\t\tlet _this = this\r\n\r\n        /* init data */\r\n        let name_title = \"Title\"\r\n\t\tlet subname = 'Title'\r\n\t\tlet nameColor = \" rgb(55, 75, 113)\"\r\n\t\tlet name_fontFamily = ''\r\n\t\tlet subname_fontSize = 15\r\n\t\tlet name_fontSize = 18\r\n\t\tlet mapName = 'china'\r\n\t\t let data = this.chartData.typeData// series typedata\r\n        // [{name:\"\",value:396},{name:\"\",value:131}]\r\n\r\n        let toolTipData = this.chartData.toolTipData // hover\r\n        // [{name:\"\",value:[{name:\"\",value:396},{name:\"\",value:114},{name:\"\",value:4}]}]\r\n\r\n        let max = 6000\r\n\t\tlet min = 9 // todo \r\n\t\tlet maxSize4Pin = 35\r\n\t\tlet minSize4Pin = 30\r\n\t\tlet convertData = function(data) {\r\n\t\t\tvar res = []\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tvar geoCoord = geoCoordMap[data[i].name];\r\n\t\t\t\tif (geoCoord) {\r\n\t\t\t\t\tres.push({\r\n\t\t\t\t\t\tname: data[i].name,\r\n\t\t\t\t\t\tvalue: geoCoord.concat(data[i].value),\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n        /* option */\r\n\t\treturn{\r\n\t\t\ttitle: {\r\n\t\t\t\ttext: name_title, // title\r\n\t\t\t\tsubtext: subname, // sub-title\r\n\t\t\t\tx: 'center',\r\n\t\t\t\ttextStyle: {\r\n\t\t\t\t\tcolor: nameColor, // title css\r\n\t\t\t\t\tfontFamily: name_fontFamily, // title css\r\n\t\t\t\t\tfontSize: name_fontSize // title css\r\n\t\t\t\t},\r\n\t\t\t\tsubtextStyle:{\r\n\t\t\t\t\tfontSize:subname_fontSize, // sub-title css\r\n\t\t\t\t\tfontFamily:name_fontFamily // sub-title css\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// hover\r\n\t\t\ttooltip: {\r\n\t\t\t\ttrigger: 'item',\r\n\t\t\t\tformatter: function(params) {\r\n\t\t\t\t\t// console.log('params.value',params.value, typeof(params.value[2]) === 'undefined')\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (typeof(params.value[2]) === 'undefined') {\r\n\t\t\t\t\t\tvar toolTiphtml = ''\r\n\r\n\t\t\t\t\t\tif(!params.value){\r\n\t\t\t\t\t\t\ttoolTiphtml = params.name+'<br>'+''\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tfor(var i = 0;i<toolTipData.length;i++){\r\n\t\t\t\t\t\t\t\tif(params.name==toolTipData[i].name){\r\n\t\t\t\t\t\t\t\t\ttoolTiphtml += toolTipData[i].name+'<br>'\r\n\t\t\t\t\t\t\t\t\tfor(var j = 0;j<toolTipData[i].value.length;j++){\r\n\t\t\t\t\t\t\t\t\t\ttoolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// console.log(toolTiphtml)\r\n\t\t\t\t\t\t\t// console.log(convertData(data))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn toolTiphtml;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar toolTiphtml = ''\r\n\t\t\t\t\t\tfor(var i = 0;i<toolTipData.length;i++){\r\n\t\t\t\t\t\t\tif(params.name==toolTipData[i].name){\r\n\t\t\t\t\t\t\t\ttoolTiphtml += toolTipData[i].name+'<br>'\r\n\t\t\t\t\t\t\t\tfor(var j = 0;j<toolTipData[i].value.length;j++){\r\n\t\t\t\t\t\t\t\t\ttoolTiphtml+=toolTipData[i].value[j].name+':'+toolTipData[i].value[j].value+\"<br>\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(toolTiphtml)\r\n\t\t\t\t\t\t// console.log(convertData(data))\r\n\t\t\t\t\t\treturn toolTiphtml;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// legend: {\r\n\t\t\t//     orient: 'vertical',\r\n\t\t\t//     y: 'bottom',\r\n\t\t\t//     x: 'right',\r\n\t\t\t//     data: ['credit_pm2.5'],\r\n\t\t\t//     textStyle: {\r\n\t\t\t//         color: '#fff'\r\n\t\t\t//     }\r\n\t\t\t// },\r\n\t\t\tvisualMap: {\r\n\t\t\t\tshow: true,\r\n\t\t\t\tmin: 1,\r\n\t\t\t\tmax: 1000,\r\n\t\t\t\tleft: 'left',\r\n\t\t\t\ttop: 'bottom',\r\n\t\t\t\ttext: ['', ''], // \r\n\t\t\t\tcalculable: true,\r\n\t\t\t\tseriesIndex: [1],\r\n\t\t\t\tinRange: { // range\r\n\t\t\t\t\t// color: ['#3B5077', '#031525'] // \r\n\t\t\t\t\t color: ['#ededed', '#f09a09'] // \r\n\t\t\t\t\t// color: ['#ffc0cb', '#800080'] // \r\n\t\t\t\t\t// color: ['#3C3B3F', '#605C3C'] // \r\n\t\t\t\t\t// color: ['#0f0c29', '#302b63', '#24243e'] // \r\n\t\t\t\t\t//color: ['#23074d', '#cc5333'] // \r\n\t\t\t\t\t//color: ['#00467F', '#A5CC82'] // \r\n\t\t\t\t\t//  color: ['#1710c0', '#0b9df0', '#74add1', '#abd9e9', '#00fea8', '#00ff0d', '#f5f811', '#f09a09'] // \r\n\t\t\t\t\t// color: ['#00467F', '#A5CC82'] // \r\n\t\t\t\t\t// color: ['#00467F', '#A5CC82'] // \r\n\t\t\t\t\t// color: ['#00467F', '#A5CC82'] // \r\n\t\t\t\t\t// color: ['#00467F', '#A5CC82'] // \r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**/\r\n\t\t\ttoolbox: {\r\n\t\t\t\t show: true,\r\n\t\t\t\t orient: 'vertical',\r\n\t\t\t\t left: 'right',\r\n\t\t\t\t top: 'center',\r\n\t\t\t\t//  feature: {\r\n\t\t\t\t// \t saveAsImage: {}\r\n\t\t\t\t//  }\r\n\t\t\t},\r\n\t\t\tgeo: {\r\n\t\t\t\tshow: true, // \r\n\t\t\t\tmap: mapName, // 'china'\r\n\t\t\t\tlabel: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tshow: false // ()\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\troam: false, // \r\n\t\t\t\titemStyle: {\r\n\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\tareaColor: '#fff', // area \r\n\t\t\t\t\t\tborderColor: '#3B5077',  // border\r\n\t\t\t\t\t}, \r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tareaColor: '#2B91B7', // hover area\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tseries: [\r\n\t\t\t\t// \r\n\t\t\t\t{\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\tdata: convertData(data.sort(function(a, b) {\r\n\t\t\t\t\t\treturn b.value - a.value;\r\n\t\t\t\t\t}).slice(5, data.length)),\r\n\t\t\t\t\tsymbolSize: function(val) {\r\n\t\t\t\t\t\tlet d_val\r\n\t\t\t\t\t\tif(val[2]>1000){\r\n\t\t\t\t\t\t\td_val = val[2]/ 100;\r\n\t\t\t\t\t\t}else if(val[2]>500){\r\n\t\t\t\t\t\t\td_val = val[2] / 100;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td_val = val[2] / 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d_val>11){\r\n\t\t\t\t\t\t    // console.log(d_val);\r\n\t\t\t\t\t\t\td_val = 11\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d_val < 1 && d_val > 0){\r\n\t\t\t\t\t\t\td_val = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn d_val\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tformatter: function(params){ // \r\n                                // console.log(params);\r\n                                if(params.name == ''){\r\n                                    return params.name\r\n                                }else if(params.name == ''){\r\n\t\t\t\t\t\t\t\t\treturn \"\\r\\n\"+ params.name\r\n\t\t\t\t\t\t\t\t}else{\r\n                                \treturn params.name\r\n                                }\r\n                            },\r\n\t\t\t\t\t\t\tposition:'bottom',\r\n\t\t\t\t\t\t\tshow: true // (+)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: '#000' //#05C3F9 // ()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// map\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'map',\r\n\t\t\t\t\tmap: mapName, // 'china'\r\n\t\t\t\t\tgeoIndex: 0,\r\n\t\t\t\t\taspectScale: 0.75, //\r\n\t\t\t\t\tshowLegendSymbol: false, // legend\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\troam: true,\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tareaColor: '#031525',\r\n\t\t\t\t\t\t\tborderColor: '#3B5077',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tareaColor: '#2B91B7'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tanimation: false,\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t},\r\n\t\t\t\t// \r\n\t\t\t\t// {\r\n\t\t\t\t// \tname: '',\r\n\t\t\t\t// \ttype: 'scatter',\r\n\t\t\t\t// \tcoordinateSystem: 'geo',\r\n\t\t\t\t// \tsymbol: 'pin', //\r\n\t\t\t\t// \tsymbolSize: function(val) {\r\n\t\t\t\t// \t\tvar a = (maxSize4Pin - minSize4Pin) / (max - min);\r\n\t\t\t\t// \t\tvar b = minSize4Pin - a * min;\r\n\t\t\t\t// \t\tb = maxSize4Pin - a * max;\r\n\t\t\t\t// \t\treturn a * val[2] + b;\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tlabel: {\r\n\t\t\t\t// \t\tnormal: {\r\n\t\t\t\t// \t\t\tformatter:function(obj){\r\n\t\t\t\t// \t\t\t\treturn obj.data.value[2];\r\n\t\t\t\t// \t\t\t},\r\n\t\t\t\t// \t\t\tshow: true,\r\n\t\t\t\t// \t\t\ttextStyle: {\r\n\t\t\t\t// \t\t\t\tcolor: '#fff',\r\n\t\t\t\t// \t\t\t\tfontSize: 9,\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \titemStyle: {\r\n\t\t\t\t// \t\tnormal: {\r\n\t\t\t\t// \t\t\tcolor: '#F62157', //\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tzlevel: 6,\r\n\t\t\t\t// \tdata: convertData(data),\r\n\t\t\t\t// },\r\n\t\t\t\t// top 5\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Top 5',\r\n\t\t\t\t\ttype: 'effectScatter',\r\n\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\tdata: convertData(data.sort(function(a, b) {\r\n\t\t\t\t\t\treturn b.value - a.value;\r\n\t\t\t\t\t}).slice(0, 5)),\r\n\t\t\t\t\tsymbolSize: function(val) {\r\n\t\t\t\t\t\tlet d_val\r\n\t\t\t\t\t\tif(val[2]>1000){\r\n\t\t\t\t\t\t\td_val = val[2]/ 100;\r\n\t\t\t\t\t\t}else if(val[2]>500){\r\n\t\t\t\t\t\t\td_val = val[2] / 100;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td_val = val[2] / 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d_val>15){\r\n\t\t\t\t\t\t    // console.log(d_val);\r\n\t\t\t\t\t\t\td_val = 15\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d_val < 1 && d_val > 0){\r\n\t\t\t\t\t\t\td_val = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn d_val\r\n\t\t\t\t\t},\r\n\t\t\t\t\tshowEffectOn: 'render',\r\n\t\t\t\t\trippleEffect: {\r\n\t\t\t\t\t\tbrushType: 'stroke'\r\n\t\t\t\t\t},\r\n\t\t\t\t\thoverAnimation: true,\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tformatter: '{b}',\r\n\t\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tcolor: 'yellow',\r\n\t\t\t\t\t\t\tshadowBlur: 10,\r\n\t\t\t\t\t\t\tshadowColor: 'yellow'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzlevel: 1\r\n\t\t\t\t},\r\n\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n  },\r\n  mounted() {\r\n\t console.log('mounted');\r\n\t \r\n\t this.initChart()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.map-chart{\r\n\theight:700px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapChart.vue?vue&type=template&id=9ed2eee0&scoped=true&\"\nimport script from \"./MapChart.vue?vue&type=script&lang=js&\"\nexport * from \"./MapChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapChart.vue?vue&type=style&index=0&id=9ed2eee0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ed2eee0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"echart-wrapper\">\r\n    <el-row>\r\n        <el-col>\r\n            <h1>Bar Line Chart demo</h1>\r\n        </el-col>\r\n    </el-row>\r\n      <el-row>\r\n        <el-col>\r\n            <el-button type=\"primary\" @click=\"getFetch(true)\">1</el-button>\r\n            <el-button type=\"primary\" @click=\"getFetch(false)\">2</el-button>\r\n        </el-col>\r\n    </el-row>\r\n    <el-row>\r\n        <el-col>\r\n            <map-chart /> \r\n        </el-col>\r\n    </el-row>\r\n    <el-row style=\"margin-top:20px;\">\r\n        <el-col>\r\n            <Bar-line-chart :chartData=\"chartData\" v-if=\"isReadyLoad\" /> \r\n        </el-col>\r\n    </el-row>\r\n  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MapChart from '@components/echart/MapChart.vue'\r\nconst BarLineChart =  () => import(/* webpackChunkName: \"BarLineChart\" */ '@components/echart/BarLineChart.vue')\r\n\r\nimport { throttle } from '@utils/index.js'\r\n\r\nexport default {\r\n  name: 'Echartdemo',\r\n  components: {\r\n      BarLineChart,\r\n      MapChart\r\n  },\r\n  data() {\r\n    return {\r\n        chartData:{},\r\n        isReadyLoad:false\r\n    }\r\n  },\r\n  methods:{\r\n      getFetch(flag){\r\n          console.log('api');\r\n          if(flag){\r\n              this.chartData = Object.assign({},{\r\n                legendData: ['1','key1','key2','key33'],\r\n                XData: ['1','2','3','4'],\r\n                seriesData:[\r\n                    {name:'1',type:'bar',data:[1,2,3,4]},\r\n                    {name:'key1',type:'line',data:[10,20,30,40]},\r\n                    {name:'key2',type:'line',data:[1,50,10,20]},\r\n                    {name:'key33',type:'line',data:[40,30,20,10]}\r\n                ]\r\n            })\r\n          }else{\r\n              this.chartData = Object.assign({},{\r\n                legendData: ['1','key11','key33'],\r\n                XData: ['1','2','3','4'],\r\n                seriesData:[\r\n                    {name:'1',type:'bar',data:[1,2,3,4]},\r\n                    {name:'key11',type:'line',data:[10,20,30,40]},\r\n                    // {name:'key2',type:'line',data:[1,50,10,20]},\r\n                    {name:'key33',type:'line',data:[40,30,20,10]}\r\n                ]\r\n            })\r\n          }\r\n          \r\n      },\r\n      onReadyLoad(){\r\n        console.log('scroll');\r\n        this.isReadyLoad= true\r\n      },\r\n      handleScroll(){\r\n            let _this = this\r\n            let clientHeight = document.documentElement.clientHeight;\r\n            let scrollHeight = document.body.scrollHeight;\r\n            let scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n            let proLoadDis = 5; // \r\n        \r\n            // console.log('scrollTop:',scrollTop);\r\n            // console.log('clientHeight:', clientHeight)\r\n            // console.log('scrollHeight:',scrollHeight);\r\n                \r\n            if ((scrollTop + clientHeight) >= (scrollHeight - proLoadDis)) {\r\n                if(this.isReadyLoad) return\r\n                throttle(_this.onReadyLoad(),300,1)\r\n            }\r\n      }\r\n  },\r\n  mounted() {\r\n      window.addEventListener('scroll', this.handleScroll);\r\n      setTimeout(()=>{\r\n        this.chartData = {\r\n            legendData: ['1','key1','key2','key3'],\r\n                XData: ['1','2','3','4'],\r\n                seriesData:[\r\n                    {name:'1',type:'bar',data:[1,2,3,4]},\r\n                    {name:'key1',type:'line',data:[10,20,30,40]},\r\n                    {name:'key2',type:'line',data:[1,50,10,20]},\r\n                    {name:'key3',type:'line',data:[40,30,20,10]}\r\n                ]\r\n        }\r\n      },1000)\r\n  },\r\n  beforeDestory(){\r\n     window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Echart.vue?vue&type=template&id=6dff1e56&scoped=true&\"\nimport script from \"./Echart.vue?vue&type=script&lang=js&\"\nexport * from \"./Echart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dff1e56\",\n  null\n  \n)\n\nexport default component.exports","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/graphic/shape/Arc\n */\nvar _default = Path.extend({\n  type: 'arc',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n  }\n});\n\nmodule.exports = _default;","/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;","var vec2 = require(\"./vector\");\n\nvar matrix = require(\"./matrix\");\n\n/**\n * @module echarts/core/BoundingRect\n */\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function (other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function (b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // \n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function (b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function (x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function () {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function (other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;","var _default = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\nwindow.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n  setTimeout(func, 16);\n};\n\nmodule.exports = _default;","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var _vector = require(\"../../core/vector\");\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * \n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * \n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points \n * @param {number} smooth , 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint \n *                            [[0, 0], [100, 100]], \n *                           \n * @param {Array} \n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min;\n  var max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // \n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;","/**\n * Sub-pixel optimize for canvas rendering, prevent from blur\n * when rendering a thin vertical/horizontal line.\n */\nvar round = Math.round;\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x1]\n * @param {number} [inputShape.y1]\n * @param {number} [inputShape.x2]\n * @param {number} [inputShape.y2]\n * @param {Object} [style]\n * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n */\n\nfunction subPixelOptimizeLine(outputShape, inputShape, style) {\n  if (!inputShape) {\n    return;\n  }\n\n  var x1 = inputShape.x1;\n  var x2 = inputShape.x2;\n  var y1 = inputShape.y1;\n  var y2 = inputShape.y2;\n  outputShape.x1 = x1;\n  outputShape.x2 = x2;\n  outputShape.y1 = y1;\n  outputShape.y2 = y2;\n  var lineWidth = style && style.lineWidth;\n\n  if (!lineWidth) {\n    return;\n  }\n\n  if (round(x1 * 2) === round(x2 * 2)) {\n    outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n  }\n\n  if (round(y1 * 2) === round(y2 * 2)) {\n    outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n  }\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x]\n * @param {number} [inputShape.y]\n * @param {number} [inputShape.width]\n * @param {number} [inputShape.height]\n * @param {Object} [style]\n * @param {number} [style.lineWidth] If `null`/`undefined`/`0`, do not optimize.\n */\n\n\nfunction subPixelOptimizeRect(outputShape, inputShape, style) {\n  if (!inputShape) {\n    return;\n  }\n\n  var originX = inputShape.x;\n  var originY = inputShape.y;\n  var originWidth = inputShape.width;\n  var originHeight = inputShape.height;\n  outputShape.x = originX;\n  outputShape.y = originY;\n  outputShape.width = originWidth;\n  outputShape.height = originHeight;\n  var lineWidth = style && style.lineWidth;\n\n  if (!lineWidth) {\n    return;\n  }\n\n  outputShape.x = subPixelOptimize(originX, lineWidth, true);\n  outputShape.y = subPixelOptimize(originY, lineWidth, true);\n  outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n  outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth If `null`/`undefined`/`0`, do not optimize.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n  if (!lineWidth) {\n    return position;\n  } // Assure that (position + lineWidth / 2) is near integer edge,\n  // otherwise line will be fuzzy in canvas.\n\n\n  var doubledPosition = round(position * 2);\n  return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;","var textHelper = require(\"../helper/text\");\n\nvar BoundingRect = require(\"../../core/BoundingRect\");\n\nvar _constant = require(\"../constant\");\n\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n    // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n    // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n    // text propably break the cache for its host elements.\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;","var _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * \n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;","var _util = require(\"../../core/util\");\n\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar each = _util.each;\nvar normalizeCssArray = _util.normalizeCssArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\n\nvar textContain = require(\"../../contain/text\");\n\nvar roundRectHelper = require(\"./roundRect\");\n\nvar imageHelper = require(\"./image\");\n\nvar fixShadow = require(\"./fixShadow\");\n\nvar _constant = require(\"../constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\nvar DEFAULT_FONT = textContain.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\nvar VALID_TEXT_ALIGN = {\n  left: 1,\n  right: 1,\n  center: 1\n};\nvar VALID_TEXT_VERTICAL_ALIGN = {\n  top: 1,\n  bottom: 1,\n  middle: 1\n}; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n// the default value of shadowColor is `'transparent'`.\n\nvar SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\nvar _tmpTextPositionResult = {};\nvar _tmpBoxPositionResult = {};\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\n\nfunction normalizeTextStyle(style) {\n  normalizeStyle(style);\n  each(style.rich, normalizeStyle);\n  return style;\n}\n\nfunction normalizeStyle(style) {\n  if (style) {\n    style.font = textContain.makeFont(style);\n    var textAlign = style.textAlign;\n    textAlign === 'middle' && (textAlign = 'center');\n    style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n    var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n    textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n    style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n    var textPadding = style.textPadding;\n\n    if (textPadding) {\n      style.textPadding = normalizeCssArray(style.textPadding);\n    }\n  }\n}\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n */\n\n\nfunction renderText(hostEl, ctx, text, style, rect, prevEl) {\n  style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n} // Avoid setting to ctx according to prevEl if possible for\n// performance in scenarios of large amount text.\n\n\nfunction renderPlainText(hostEl, ctx, text, style, rect, prevEl) {\n  'use strict';\n\n  var needDrawBg = needDrawBackground(style);\n  var prevStyle;\n  var checkCache = false;\n  var cachedByMe = ctx.__attrCachedBy === ContextCachedBy.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n  if (prevEl !== WILL_BE_RESTORED) {\n    if (prevEl) {\n      prevStyle = prevEl.style;\n      checkCache = !needDrawBg && cachedByMe && prevStyle;\n    } // Prevent from using cache in `Style::bind`, because of the case:\n    // ctx property is modified by other properties than `Style::bind`\n    // used, and Style::bind is called next.\n\n\n    ctx.__attrCachedBy = needDrawBg ? ContextCachedBy.NONE : ContextCachedBy.PLAIN_TEXT;\n  } // Since this will be restored, prevent from using these props to check cache in the next\n  // entering of this method. But do not need to clear other cache like `Style::bind`.\n  else if (cachedByMe) {\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n    }\n\n  var styleFont = style.font || DEFAULT_FONT; // PENDING\n  // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n  // we can make font cache on ctx, which can cache for text el that are discontinuous.\n  // But layer save/restore needed to be considered.\n  // if (styleFont !== ctx.__fontCache) {\n  //     ctx.font = styleFont;\n  //     if (prevEl !== WILL_BE_RESTORED) {\n  //         ctx.__fontCache = styleFont;\n  //     }\n  // }\n\n  if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT)) {\n    ctx.font = styleFont;\n  } // Use the final font from context-2d, because the final\n  // font might not be the style.font when it is illegal.\n  // But get `ctx.font` might be time consuming.\n\n\n  var computedFont = hostEl.__computedFont;\n\n  if (hostEl.__styleFont !== styleFont) {\n    hostEl.__styleFont = styleFont;\n    computedFont = hostEl.__computedFont = ctx.font;\n  }\n\n  var textPadding = style.textPadding;\n  var textLineHeight = style.textLineHeight;\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, computedFont, textPadding, textLineHeight, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var textLines = contentBlock.lines;\n  var lineHeight = contentBlock.lineHeight;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign || 'left';\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY;\n\n  if (needDrawBg || textPadding) {\n    // Consider performance, do not call getTextWidth util necessary.\n    var textWidth = textContain.getWidth(text, computedFont);\n    var outerWidth = textWidth;\n    textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n    var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n    needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    if (textPadding) {\n      textX = getTextXForPadding(baseX, textAlign, textPadding);\n      textY += textPadding[0];\n    }\n  } // Always set textAlign and textBase line, because it is difficute to calculate\n  // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n  // font set happened.\n\n\n  ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  ctx.textBaseline = 'middle'; // Set text opacity\n\n  ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n  for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n    var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n    var styleProp = propItem[0];\n    var ctxProp = propItem[1];\n    var val = style[styleProp];\n\n    if (!checkCache || val !== prevStyle[styleProp]) {\n      ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n    }\n  } // `textBaseline` is set as 'middle'.\n\n\n  textY += lineHeight / 2;\n  var textStrokeWidth = style.textStrokeWidth;\n  var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n  var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n  var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n  var textStroke = getStroke(style.textStroke, textStrokeWidth);\n  var textFill = getFill(style.textFill);\n\n  if (textStroke) {\n    if (strokeWidthChanged) {\n      ctx.lineWidth = textStrokeWidth;\n    }\n\n    if (strokeChanged) {\n      ctx.strokeStyle = textStroke;\n    }\n  }\n\n  if (textFill) {\n    if (!checkCache || style.textFill !== prevStyle.textFill) {\n      ctx.fillStyle = textFill;\n    }\n  } // Optimize simply, in most cases only one line exists.\n\n\n  if (textLines.length === 1) {\n    // Fill after stroke so the outline will not cover the main part.\n    textStroke && ctx.strokeText(textLines[0], textX, textY);\n    textFill && ctx.fillText(textLines[0], textX, textY);\n  } else {\n    for (var i = 0; i < textLines.length; i++) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[i], textX, textY);\n      textFill && ctx.fillText(textLines[i], textX, textY);\n      textY += lineHeight;\n    }\n  }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect, prevEl) {\n  // Do not do cache for rich text because of the complexity.\n  // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n  if (prevEl !== WILL_BE_RESTORED) {\n    ctx.__attrCachedBy = ContextCachedBy.NONE;\n  }\n\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n  }\n\n  drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n  var contentWidth = contentBlock.width;\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var textPadding = style.textPadding;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var xLeft = boxX;\n  var lineTop = boxY;\n\n  if (textPadding) {\n    xLeft += textPadding[3];\n    lineTop += textPadding[0];\n  }\n\n  var xRight = xLeft + contentWidth;\n  needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n  for (var i = 0; i < contentBlock.lines.length; i++) {\n    var line = contentBlock.lines[i];\n    var tokens = line.tokens;\n    var tokenCount = tokens.length;\n    var lineHeight = line.lineHeight;\n    var usedWidth = line.width;\n    var leftIndex = 0;\n    var lineXLeft = xLeft;\n    var lineXRight = xRight;\n    var rightIndex = tokenCount - 1;\n    var token;\n\n    while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n      usedWidth -= token.width;\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n      usedWidth -= token.width;\n      lineXRight -= token.width;\n      rightIndex--;\n    } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n    lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n    while (leftIndex <= rightIndex) {\n      token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    lineTop += lineHeight;\n  }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n  // textRotation only apply in RectText.\n  if (rect && style.textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      x = rect.width / 2 + rect.x;\n      y = rect.height / 2 + rect.y;\n    } else if (origin) {\n      x = origin[0] + rect.x;\n      y = origin[1] + rect.y;\n    }\n\n    ctx.translate(x, y); // Positive: anticlockwise\n\n    ctx.rotate(-style.textRotation);\n    ctx.translate(-x, -y);\n  }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n  var tokenStyle = style.rich[token.styleName] || {};\n  tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n  // the bias of \"Microsoft YaHei\".\n\n  var textVerticalAlign = token.textVerticalAlign;\n  var y = lineTop + lineHeight / 2;\n\n  if (textVerticalAlign === 'top') {\n    y = lineTop + token.height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y = lineTop + lineHeight - token.height / 2;\n  }\n\n  !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n  var textPadding = token.textPadding;\n\n  if (textPadding) {\n    x = getTextXForPadding(x, textAlign, textPadding);\n    y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n  }\n\n  setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n  setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n  setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n  setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle');\n  setCtx(ctx, 'font', token.font || DEFAULT_FONT);\n  var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n  var textFill = getFill(tokenStyle.textFill || style.textFill);\n  var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n    ctx.strokeText(token.text, x, y);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n    ctx.fillText(token.text, x, y);\n  }\n}\n\nfunction needDrawBackground(style) {\n  return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n} // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n// shape: {x, y, width, height}\n\n\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n  var textBackgroundColor = style.textBackgroundColor;\n  var textBorderWidth = style.textBorderWidth;\n  var textBorderColor = style.textBorderColor;\n  var isPlainBg = isString(textBackgroundColor);\n  setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n  if (isPlainBg || textBorderWidth && textBorderColor) {\n    ctx.beginPath();\n    var textBorderRadius = style.textBorderRadius;\n\n    if (!textBorderRadius) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        r: textBorderRadius\n      });\n    }\n\n    ctx.closePath();\n  }\n\n  if (isPlainBg) {\n    setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n    if (style.fillOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.fillOpacity * style.opacity;\n      ctx.fill();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.fill();\n    }\n  } else if (isObject(textBackgroundColor)) {\n    var image = textBackgroundColor.image;\n    image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n    if (image && imageHelper.isImageReady(image)) {\n      ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  if (textBorderWidth && textBorderColor) {\n    setCtx(ctx, 'lineWidth', textBorderWidth);\n    setCtx(ctx, 'strokeStyle', textBorderColor);\n\n    if (style.strokeOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.strokeOpacity * style.opacity;\n      ctx.stroke();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.stroke();\n    }\n  }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n  // Replace image, so that `contain/text.js#parseRichText`\n  // will get correct result in next tick.\n  textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(out, hostEl, style, rect) {\n  var baseX = style.x || 0;\n  var baseY = style.y || 0;\n  var textAlign = style.textAlign;\n  var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n  if (rect) {\n    var textPosition = style.textPosition;\n\n    if (textPosition instanceof Array) {\n      // Percent\n      baseX = rect.x + parsePercent(textPosition[0], rect.width);\n      baseY = rect.y + parsePercent(textPosition[1], rect.height);\n    } else {\n      var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : textContain.calculateTextPosition(_tmpTextPositionResult, style, rect);\n      baseX = res.x;\n      baseY = res.y; // Default align and baseline when has textPosition\n\n      textAlign = textAlign || res.textAlign;\n      textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n    } // textOffset is only support in RectText, otherwise\n    // we have to adjust boundingRect for textOffset.\n\n\n    var textOffset = style.textOffset;\n\n    if (textOffset) {\n      baseX += textOffset[0];\n      baseY += textOffset[1];\n    }\n  }\n\n  out = out || {};\n  out.baseX = baseX;\n  out.baseY = baseY;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n\nfunction setCtx(ctx, prop, value) {\n  ctx[prop] = fixShadow(ctx, prop, value);\n  return ctx[prop];\n}\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\n\n\nfunction getStroke(stroke, lineWidth) {\n  return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n  : stroke.image || stroke.colorStops ? '#000' : stroke;\n}\n\nfunction getFill(fill) {\n  return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n  : fill.image || fill.colorStops ? '#000' : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n  if (typeof value === 'string') {\n    if (value.lastIndexOf('%') >= 0) {\n      return parseFloat(value) / 100 * maxValue;\n    }\n\n    return parseFloat(value);\n  }\n\n  return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\n\n\nfunction needDrawText(text, style) {\n  return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n}\n\nexports.normalizeTextStyle = normalizeTextStyle;\nexports.renderText = renderText;\nexports.getBoxPosition = getBoxPosition;\nexports.getStroke = getStroke;\nexports.getFill = getFill;\nexports.parsePercent = parsePercent;\nexports.needDrawText = needDrawText;","var Path = require(\"../Path\");\n\nvar vec2 = require(\"../../core/vector\");\n\nvar _curve = require(\"../../core/curve\");\n\nvar quadraticSubdivide = _curve.quadraticSubdivide;\nvar cubicSubdivide = _curve.cubicSubdivide;\nvar quadraticAt = _curve.quadraticAt;\nvar cubicAt = _curve.cubicAt;\nvar quadraticDerivativeAt = _curve.quadraticDerivativeAt;\nvar cubicDerivativeAt = _curve.cubicDerivativeAt;\n\n/**\n * \n * @module zrender/shape/BezierCurve\n */\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 === null || cpy2 === null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar _default = Path.extend({\n  type: 'bezier-curve',\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    // cpx2: 0,\n    // cpy2: 0\n    // Curve show percent, for animating\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  pointAt: function (t) {\n    return someVectorAt(this.shape, t, false);\n  },\n\n  /**\n   * Get tangent at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  tangentAt: function (t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/graphic/shape/Ellipse\n */\nvar _default = Path.extend({\n  type: 'ellipse',\n  shape: {\n    cx: 0,\n    cy: 0,\n    rx: 0,\n    ry: 0\n  },\n  buildPath: function (ctx, shape) {\n    var k = 0.5522848;\n    var x = shape.cx;\n    var y = shape.cy;\n    var a = shape.rx;\n    var b = shape.ry;\n    var ox = a * k; // \n\n    var oy = b * k; // \n    // \n\n    ctx.moveTo(x - a, y);\n    ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n    ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n    ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n    ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","var util = require(\"./core/util\");\n\nvar env = require(\"./core/env\");\n\nvar Group = require(\"./container/Group\");\n\nvar timsort = require(\"./core/timsort\");\n\n// Use timsort because in most case elements are partially sorted\n// https://jsfiddle.net/pissang/jr4x7mdm/8/\nfunction shapeCompareFunc(a, b) {\n  if (a.zlevel === b.zlevel) {\n    if (a.z === b.z) {\n      // if (a.z2 === b.z2) {\n      //     // FIXME Slow has renderidx compare\n      //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n      //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n      //     return a.__renderidx - b.__renderidx;\n      // }\n      return a.z2 - b.z2;\n    }\n\n    return a.z - b.z;\n  }\n\n  return a.zlevel - b.zlevel;\n}\n/**\n *  (M)\n * @alias module:zrender/Storage\n * @constructor\n */\n\n\nvar Storage = function () {\n  // jshint ignore:line\n  this._roots = [];\n  this._displayList = [];\n  this._displayListLen = 0;\n};\n\nStorage.prototype = {\n  constructor: Storage,\n\n  /**\n   * @param  {Function} cb\n   *\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._roots.length; i++) {\n      this._roots[i].traverse(cb, context);\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [update=false] \n   * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n   *\n   * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n   * @return {Array.<module:zrender/graphic/Displayable>}\n   */\n  getDisplayList: function (update, includeIgnore) {\n    includeIgnore = includeIgnore || false;\n\n    if (update) {\n      this.updateDisplayList(includeIgnore);\n    }\n\n    return this._displayList;\n  },\n\n  /**\n   * \n   * GroupShapeShape\n   * zlevel > z > \n   * @param {boolean} [includeIgnore=false]  ignore \n   */\n  updateDisplayList: function (includeIgnore) {\n    this._displayListLen = 0;\n    var roots = this._roots;\n    var displayList = this._displayList;\n\n    for (var i = 0, len = roots.length; i < len; i++) {\n      this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n    }\n\n    displayList.length = this._displayListLen;\n    env.canvasSupported && timsort(displayList, shapeCompareFunc);\n  },\n  _updateAndAddDisplayable: function (el, clipPaths, includeIgnore) {\n    if (el.ignore && !includeIgnore) {\n      return;\n    }\n\n    el.beforeUpdate();\n\n    if (el.__dirty) {\n      el.update();\n    }\n\n    el.afterUpdate();\n    var userSetClipPath = el.clipPath;\n\n    if (userSetClipPath) {\n      // FIXME \n      if (clipPaths) {\n        clipPaths = clipPaths.slice();\n      } else {\n        clipPaths = [];\n      }\n\n      var currentClipPath = userSetClipPath;\n      var parentClipPath = el; // Recursively add clip path\n\n      while (currentClipPath) {\n        // clipPath  clipPath \n        currentClipPath.parent = parentClipPath;\n        currentClipPath.updateTransform();\n        clipPaths.push(currentClipPath);\n        parentClipPath = currentClipPath;\n        currentClipPath = currentClipPath.clipPath;\n      }\n    }\n\n    if (el.isGroup) {\n      var children = el._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i]; // Force to mark as dirty if group is dirty\n        // FIXME __dirtyPath ?\n\n        if (el.__dirty) {\n          child.__dirty = true;\n        }\n\n        this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n      } // Mark group clean here\n\n\n      el.__dirty = false;\n    } else {\n      el.__clipPaths = clipPaths;\n      this._displayList[this._displayListLen++] = el;\n    }\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {module:zrender/Element} el\n   */\n  addRoot: function (el) {\n    if (el.__storage === this) {\n      return;\n    }\n\n    if (el instanceof Group) {\n      el.addChildrenToStorage(this);\n    }\n\n    this.addToStorage(el);\n\n    this._roots.push(el);\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {string|Array.<string>} [el] Storage\n   */\n  delRoot: function (el) {\n    if (el == null) {\n      // el\n      for (var i = 0; i < this._roots.length; i++) {\n        var root = this._roots[i];\n\n        if (root instanceof Group) {\n          root.delChildrenFromStorage(this);\n        }\n      }\n\n      this._roots = [];\n      this._displayList = [];\n      this._displayListLen = 0;\n      return;\n    }\n\n    if (el instanceof Array) {\n      for (var i = 0, l = el.length; i < l; i++) {\n        this.delRoot(el[i]);\n      }\n\n      return;\n    }\n\n    var idx = util.indexOf(this._roots, el);\n\n    if (idx >= 0) {\n      this.delFromStorage(el);\n\n      this._roots.splice(idx, 1);\n\n      if (el instanceof Group) {\n        el.delChildrenFromStorage(this);\n      }\n    }\n  },\n  addToStorage: function (el) {\n    if (el) {\n      el.__storage = this;\n      el.dirty(false);\n    }\n\n    return this;\n  },\n  delFromStorage: function (el) {\n    if (el) {\n      el.__storage = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Storage\n   */\n  dispose: function () {\n    this._renderList = this._roots = null;\n  },\n  displayableSortFunc: shapeCompareFunc\n};\nvar _default = Storage;\nmodule.exports = _default;","var Animator = require(\"../animation/Animator\");\n\nvar logError = require(\"../core/log\");\n\nvar _util = require(\"../core/util\");\n\nvar isString = _util.isString;\nvar isFunction = _util.isFunction;\nvar isObject = _util.isObject;\nvar isArrayLike = _util.isArrayLike;\nvar indexOf = _util.indexOf;\n\n/**\n * @alias module:zrender/mixin/Animatable\n * @constructor\n */\nvar Animatable = function () {\n  /**\n   * @type {Array.<module:zrender/animation/Animator>}\n   * @readOnly\n   */\n  this.animators = [];\n};\n\nAnimatable.prototype = {\n  constructor: Animatable,\n\n  /**\n   * \n   *\n   * @param {string} path The path to fetch value from object, like 'a.b.c'.\n   * @param {boolean} [loop] Whether to loop animation.\n   * @return {module:zrender/animation/Animator}\n   * @example:\n   *     el.animate('style', false)\n   *         .when(1000, {x: 10} )\n   *         .done(function(){ // Animation done })\n   *         .start()\n   */\n  animate: function (path, loop) {\n    var target;\n    var animatingShape = false;\n    var el = this;\n    var zr = this.__zr;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el; // If animating shape\n\n      animatingShape = pathSplitted[0] === 'shape';\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (!target) {\n      logError('Property \"' + path + '\" is not existed in element ' + el.id);\n      return;\n    }\n\n    var animators = el.animators;\n    var animator = new Animator(target, loop);\n    animator.during(function (target) {\n      el.dirty(animatingShape);\n    }).done(function () {\n      // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n      animators.splice(indexOf(animators, animator), 1);\n    });\n    animators.push(animator); // If animate after added to the zrender\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stopAnimation: function (forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n\n  /**\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   * @param {Object} target\n   * @param {number} [time=500] Time in ms\n   * @param {string} [easing='linear']\n   * @param {number} [delay=0]\n   * @param {Function} [callback]\n   * @param {Function} [forceAnimate] Prevent stop animation and callback\n   *        immediently when target values are the same as current values.\n   *\n   * @example\n   *  // Animate position\n   *  el.animateTo({\n   *      position: [10, 10]\n   *  }, function () { // done })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n   *  el.animateTo({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100, 'cubicOut', function () { // done })\n   */\n  // TODO Return animation key\n  animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n    animateTo(this, target, time, delay, easing, callback, forceAnimate);\n  },\n\n  /**\n   * Animate from the target state to current state.\n   * The params and the return value are the same as `this.animateTo`.\n   */\n  animateFrom: function (target, time, delay, easing, callback, forceAnimate) {\n    animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n  }\n};\n\nfunction animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n  // animateTo(target, time, easing, callback);\n  if (isString(delay)) {\n    callback = easing;\n    easing = delay;\n    delay = 0;\n  } // animateTo(target, time, delay, callback);\n  else if (isFunction(easing)) {\n      callback = easing;\n      easing = 'linear';\n      delay = 0;\n    } // animateTo(target, time, callback);\n    else if (isFunction(delay)) {\n        callback = delay;\n        delay = 0;\n      } // animateTo(target, callback)\n      else if (isFunction(time)) {\n          callback = time;\n          time = 500;\n        } // animateTo(target)\n        else if (!time) {\n            time = 500;\n          } // Stop all previous animations\n\n\n  animatable.stopAnimation();\n  animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n  // if there is nothing to animate\n\n  var animators = animatable.animators.slice();\n  var count = animators.length;\n\n  function done() {\n    count--;\n\n    if (!count) {\n      callback && callback();\n    }\n  } // No animators. This should be checked before animators[i].start(),\n  // because 'done' may be executed immediately if no need to animate.\n\n\n  if (!count) {\n    callback && callback();\n  } // Start after all animators created\n  // Incase any animator is done immediately when all animation properties are not changed\n\n\n  for (var i = 0; i < animators.length; i++) {\n    animators[i].done(done).start(easing, forceAnimate);\n  }\n}\n/**\n * @param {string} path=''\n * @param {Object} source=animatable\n * @param {Object} target\n * @param {number} [time=500]\n * @param {number} [delay=0]\n * @param {boolean} [reverse] If `true`, animate\n *        from the `target` to current state.\n *\n * @example\n *  // Animate position\n *  el._animateToShallow({\n *      position: [10, 10]\n *  })\n *\n *  // Animate shape, style and position in 100ms, delayed 100ms\n *  el._animateToShallow({\n *      shape: {\n *          width: 500\n *      },\n *      style: {\n *          fill: 'red'\n *      }\n *      position: [10, 10]\n *  }, 100, 100)\n */\n\n\nfunction animateToShallow(animatable, path, source, target, time, delay, reverse) {\n  var objShallow = {};\n  var propertyCount = 0;\n\n  for (var name in target) {\n    if (!target.hasOwnProperty(name)) {\n      continue;\n    }\n\n    if (source[name] != null) {\n      if (isObject(target[name]) && !isArrayLike(target[name])) {\n        animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n      } else {\n        if (reverse) {\n          objShallow[name] = source[name];\n          setAttrByPath(animatable, path, name, target[name]);\n        } else {\n          objShallow[name] = target[name];\n        }\n\n        propertyCount++;\n      }\n    } else if (target[name] != null && !reverse) {\n      setAttrByPath(animatable, path, name, target[name]);\n    }\n  }\n\n  if (propertyCount > 0) {\n    animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n  }\n}\n\nfunction setAttrByPath(el, path, name, value) {\n  // Attr directly if not has property\n  // FIXME, if some property not needed for element ?\n  if (!path) {\n    el.attr(name, value);\n  } else {\n    // Only support set shape or style\n    var props = {};\n    props[path] = {};\n    props[path][name] = value;\n    el.attr(props);\n  }\n}\n\nvar _default = Animatable;\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar roundRectHelper = require(\"../helper/roundRect\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeRect = _subPixelOptimize.subPixelOptimizeRect;\n\n/**\n * \n * @module zrender/graphic/shape/Rect\n */\n// Avoid create repeatly.\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'rect',\n  shape: {\n    // r1r2r3r4\n    // r1          [1, 1, 1, 1]\n    // r[1]        [1, 1, 1, 1]\n    // r[1, 2]     [1, 2, 1, 2]\n    // r[1, 2, 3]  [1, 2, 3, 2]\n    r: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n      x = subPixelOptimizeOutputShape.x;\n      y = subPixelOptimizeOutputShape.y;\n      width = subPixelOptimizeOutputShape.width;\n      height = subPixelOptimizeOutputShape.height;\n      subPixelOptimizeOutputShape.r = shape.r;\n      shape = subPixelOptimizeOutputShape;\n    } else {\n      x = shape.x;\n      y = shape.y;\n      width = shape.width;\n      height = shape.height;\n    }\n\n    if (!shape.r) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, shape);\n    }\n\n    ctx.closePath();\n    return;\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeLine = _subPixelOptimize.subPixelOptimizeLine;\n\n/**\n * \n * @module zrender/graphic/shape/Line\n */\n// Avoid create repeatly.\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'line',\n  shape: {\n    // Start point\n    x1: 0,\n    y1: 0,\n    // End point\n    x2: 0,\n    y2: 0,\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n      x1 = subPixelOptimizeOutputShape.x1;\n      y1 = subPixelOptimizeOutputShape.y1;\n      x2 = subPixelOptimizeOutputShape.x2;\n      y2 = subPixelOptimizeOutputShape.y2;\n    } else {\n      x1 = shape.x1;\n      y1 = shape.y1;\n      x2 = shape.x2;\n      y2 = shape.y2;\n    }\n\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (percent < 1) {\n      x2 = x1 * (1 - percent) + x2 * percent;\n      y2 = y1 * (1 - percent) + y2 * percent;\n    }\n\n    ctx.lineTo(x2, y2);\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} percent\n   * @return {Array.<number>}\n   */\n  pointAt: function (p) {\n    var shape = this.shape;\n    return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n  }\n});\n\nmodule.exports = _default;","// TODO Draggable for group\n// FIXME Draggable on element which has parent rotation or scale\nfunction Draggable() {\n  this.on('mousedown', this._dragStart, this);\n  this.on('mousemove', this._drag, this);\n  this.on('mouseup', this._dragEnd, this); // `mosuemove` and `mouseup` can be continue to fire when dragging.\n  // See [Drag outside] in `Handler.js`. So we do not need to trigger\n  // `_dragEnd` when globalout. That would brings better user experience.\n  // this.on('globalout', this._dragEnd, this);\n  // this._dropTarget = null;\n  // this._draggingTarget = null;\n  // this._x = 0;\n  // this._y = 0;\n}\n\nDraggable.prototype = {\n  constructor: Draggable,\n  _dragStart: function (e) {\n    var draggingTarget = e.target; // Find if there is draggable in the ancestor\n\n    while (draggingTarget && !draggingTarget.draggable) {\n      draggingTarget = draggingTarget.parent;\n    }\n\n    if (draggingTarget) {\n      this._draggingTarget = draggingTarget;\n      draggingTarget.dragging = true;\n      this._x = e.offsetX;\n      this._y = e.offsetY;\n      this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n    }\n  },\n  _drag: function (e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      var x = e.offsetX;\n      var y = e.offsetY;\n      var dx = x - this._x;\n      var dy = y - this._y;\n      this._x = x;\n      this._y = y;\n      draggingTarget.drift(dx, dy, e);\n      this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n      var dropTarget = this.findHover(x, y, draggingTarget).target;\n      var lastDropTarget = this._dropTarget;\n      this._dropTarget = dropTarget;\n\n      if (draggingTarget !== dropTarget) {\n        if (lastDropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n        }\n\n        if (dropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n        }\n      }\n    }\n  },\n  _dragEnd: function (e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      draggingTarget.dragging = false;\n    }\n\n    this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n    if (this._dropTarget) {\n      this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n    }\n\n    this._draggingTarget = null;\n    this._dropTarget = null;\n  }\n};\n\nfunction param(target, e) {\n  return {\n    target: target,\n    topTarget: e && e.topTarget\n  };\n}\n\nvar _default = Draggable;\nmodule.exports = _default;","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar pathContain = require(\"../contain/path\");\n\nvar Pattern = require(\"./Pattern\");\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\nvar abs = Math.abs;\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nfunction Path(opts) {\n  Displayable.call(this, opts);\n  /**\n   * @type {module:zrender/core/PathProxy}\n   * @readOnly\n   */\n\n  this.path = null;\n}\n\nPath.prototype = {\n  constructor: Path,\n  type: 'path',\n  __dirtyPath: true,\n  strokeContainThreshold: 5,\n  // This item default to be false. But in map series in echarts,\n  // in order to improve performance, it should be set to true,\n  // so the shorty segment won't draw.\n  segmentIgnoreThreshold: 0,\n\n  /**\n   * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n   * @type {boolean}\n   */\n  subPixelOptimize: false,\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var path = this.path || pathProxyForDraw;\n    var hasStroke = style.hasStroke();\n    var hasFill = style.hasFill();\n    var fill = style.fill;\n    var stroke = style.stroke;\n    var hasFillGradient = hasFill && !!fill.colorStops;\n    var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n    var hasFillPattern = hasFill && !!fill.image;\n    var hasStrokePattern = hasStroke && !!stroke.image;\n    style.bind(ctx, this, prevEl);\n    this.setTransform(ctx);\n\n    if (this.__dirty) {\n      var rect; // Update gradient because bounding rect may changed\n\n      if (hasFillGradient) {\n        rect = rect || this.getBoundingRect();\n        this._fillGradient = style.getGradient(ctx, fill, rect);\n      }\n\n      if (hasStrokeGradient) {\n        rect = rect || this.getBoundingRect();\n        this._strokeGradient = style.getGradient(ctx, stroke, rect);\n      }\n    } // Use the gradient or pattern\n\n\n    if (hasFillGradient) {\n      // PENDING If may have affect the state\n      ctx.fillStyle = this._fillGradient;\n    } else if (hasFillPattern) {\n      ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n    }\n\n    if (hasStrokeGradient) {\n      ctx.strokeStyle = this._strokeGradient;\n    } else if (hasStrokePattern) {\n      ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n    }\n\n    var lineDash = style.lineDash;\n    var lineDashOffset = style.lineDashOffset;\n    var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n    var scale = this.getGlobalScale();\n    path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n    // Rebuild path in following 2 cases\n    // 1. Path is dirty\n    // 2. Path needs javascript implemented lineDash stroking.\n    //    In this case, lineDash information will not be saved in PathProxy\n\n    if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n      path.beginPath(ctx); // Setting line dash before build path\n\n      if (lineDash && !ctxLineDash) {\n        path.setLineDash(lineDash);\n        path.setLineDashOffset(lineDashOffset);\n      }\n\n      this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n      if (this.path) {\n        this.__dirtyPath = false;\n      }\n    } else {\n      // Replay path building\n      ctx.beginPath();\n      this.path.rebuildPath(ctx);\n    }\n\n    if (hasFill) {\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        path.fill(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.fill(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      ctx.setLineDash(lineDash);\n      ctx.lineDashOffset = lineDashOffset;\n    }\n\n    if (hasStroke) {\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        path.stroke(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.stroke(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      // PENDING\n      // Remove lineDash\n      ctx.setLineDash([]);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n  // Like in circle\n  buildPath: function (ctx, shapeCfg, inBundle) {},\n  createPathProxy: function () {\n    this.path = new PathProxy();\n  },\n  getBoundingRect: function () {\n    var rect = this._rect;\n    var style = this.style;\n    var needsUpdateRect = !rect;\n\n    if (needsUpdateRect) {\n      var path = this.path;\n\n      if (!path) {\n        // Create path on demand.\n        path = this.path = new PathProxy();\n      }\n\n      if (this.__dirtyPath) {\n        path.beginPath();\n        this.buildPath(path, this.shape, false);\n      }\n\n      rect = path.getBoundingRect();\n    }\n\n    this._rect = rect;\n\n    if (style.hasStroke()) {\n      // Needs update rect with stroke lineWidth when\n      // 1. Element changes scale or lineWidth\n      // 2. Shape is changed\n      var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n      if (this.__dirty || needsUpdateRect) {\n        rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n        var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n        if (!style.hasFill()) {\n          w = Math.max(w, this.strokeContainThreshold || 4);\n        } // Consider line width\n        // Line scale can't be 0;\n\n\n        if (lineScale > 1e-10) {\n          rectWithStroke.width += w / lineScale;\n          rectWithStroke.height += w / lineScale;\n          rectWithStroke.x -= w / lineScale / 2;\n          rectWithStroke.y -= w / lineScale / 2;\n        }\n      } // Return rect with stroke\n\n\n      return rectWithStroke;\n    }\n\n    return rect;\n  },\n  contain: function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    var style = this.style;\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      var pathData = this.path.data;\n\n      if (style.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n        if (lineScale > 1e-10) {\n          // Only add extra hover lineWidth when there are no fill\n          if (!style.hasFill()) {\n            lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n          }\n\n          if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n            return true;\n          }\n        }\n      }\n\n      if (style.hasFill()) {\n        return pathContain.contain(pathData, x, y);\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param  {boolean} dirtyPath\n   */\n  dirty: function (dirtyPath) {\n    if (dirtyPath == null) {\n      dirtyPath = true;\n    } // Only mark dirty, not mark clean\n\n\n    if (dirtyPath) {\n      this.__dirtyPath = dirtyPath;\n      this._rect = null;\n    }\n\n    this.__dirty = this.__dirtyText = true;\n    this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n    if (this.__clipTarget) {\n      this.__clipTarget.dirty();\n    }\n  },\n\n  /**\n   * Alias for animate('shape')\n   * @param {boolean} loop\n   */\n  animateShape: function (loop) {\n    return this.animate('shape', loop);\n  },\n  // Overwrite attrKV\n  attrKV: function (key, value) {\n    // FIXME\n    if (key === 'shape') {\n      this.setShape(value);\n      this.__dirtyPath = true;\n      this._rect = null;\n    } else {\n      Displayable.prototype.attrKV.call(this, key, value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setShape: function (key, value) {\n    var shape = this.shape; // Path from string may not have shape\n\n    if (shape) {\n      if (zrUtil.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            shape[name] = key[name];\n          }\n        }\n      } else {\n        shape[key] = value;\n      }\n\n      this.dirty(true);\n    }\n\n    return this;\n  },\n  getLineScale: function () {\n    var m = this.transform; // Get the line scale.\n    // Determinant of `m` means how much the area is enlarged by the\n    // transformation. So its square root can be used as a scale factor\n    // for width.\n\n    return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n  }\n};\n/**\n *  Path element, \n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\n\nPath.extend = function (defaults) {\n  var Sub = function (opts) {\n    Path.call(this, opts);\n\n    if (defaults.style) {\n      // Extend default style\n      this.style.extendFrom(defaults.style, false);\n    } // Extend default shape\n\n\n    var defaultShape = defaults.shape;\n\n    if (defaultShape) {\n      this.shape = this.shape || {};\n      var thisShape = this.shape;\n\n      for (var name in defaultShape) {\n        if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n          thisShape[name] = defaultShape[name];\n        }\n      }\n    }\n\n    defaults.init && defaults.init.call(this, opts);\n  };\n\n  zrUtil.inherits(Sub, Path); // FIXME  extend position, rotation \n\n  for (var name in defaults) {\n    // Extending prototype values and methods\n    if (name !== 'style' && name !== 'shape') {\n      Sub.prototype[name] = defaults[name];\n    }\n  }\n\n  return Sub;\n};\n\nzrUtil.inherits(Path, Displayable);\nvar _default = Path;\nmodule.exports = _default;","var _event = require(\"../core/event\");\n\nvar addEventListener = _event.addEventListener;\nvar removeEventListener = _event.removeEventListener;\nvar normalizeEvent = _event.normalizeEvent;\nvar getNativeEvent = _event.getNativeEvent;\n\nvar zrUtil = require(\"../core/util\");\n\nvar Eventful = require(\"../mixin/Eventful\");\n\nvar env = require(\"../core/env\");\n\n/* global document */\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\n\nvar localNativeListenerNames = function () {\n  var mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n  var touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\n  var pointerEventNameMap = {\n    pointerdown: 1,\n    pointerup: 1,\n    pointermove: 1,\n    pointerout: 1\n  };\n  var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n    var nm = name.replace('mouse', 'pointer');\n    return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n  });\n  return {\n    mouse: mouseHandlerNames,\n    touch: touchHandlerNames,\n    pointer: pointerHandlerNames\n  };\n}();\n\nvar globalNativeListenerNames = {\n  mouse: ['mousemove', 'mouseup'],\n  pointer: ['pointermove', 'pointerup']\n};\n\nfunction eventNameFix(name) {\n  return name === 'mousewheel' && env.browser.firefox ? 'DOMMouseScroll' : name;\n}\n\nfunction isPointerFromTouch(event) {\n  var pointerType = event.pointerType;\n  return pointerType === 'pen' || pointerType === 'touch';\n} // function useMSGuesture(handlerProxy, event) {\n//     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n// }\n// function onMSGestureChange(proxy, event) {\n//     if (event.translationX || event.translationY) {\n//         // mousemove is carried by MSGesture to reduce the sensitivity.\n//         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n//     }\n//     if (event.scale !== 1) {\n//         event.pinchX = event.offsetX;\n//         event.pinchY = event.offsetY;\n//         event.pinchScale = event.scale;\n//         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n//     }\n// }\n\n/**\n * Prevent mouse event from being dispatched after Touch Events action\n * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n * Result: Blocking Mouse Events for 700ms.\n *\n * @param {DOMHandlerScope} scope\n */\n\n\nfunction setTouchTimer(scope) {\n  scope.touching = true;\n\n  if (scope.touchTimer != null) {\n    clearTimeout(scope.touchTimer);\n    scope.touchTimer = null;\n  }\n\n  scope.touchTimer = setTimeout(function () {\n    scope.touching = false;\n    scope.touchTimer = null;\n  }, 700);\n} // Mark touch, which is useful in distinguish touch and\n// mouse event in upper applicatoin.\n\n\nfunction markTouch(event) {\n  event && (event.zrByTouch = true);\n} // function markTriggeredFromLocal(event) {\n//     event && (event.__zrIsFromLocal = true);\n// }\n// function isTriggeredFromLocal(instance, event) {\n//     return !!(event && event.__zrIsFromLocal);\n// }\n\n\nfunction normalizeGlobalEvent(instance, event) {\n  // offsetX, offsetY still need to be calculated. They are necessary in the event\n  // handlers of the upper applications. Set `true` to force calculate them.\n  return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\n/**\n * Detect whether the given el is in `painterRoot`.\n */\n\n\nfunction isLocalEl(instance, el) {\n  var elTmp = el;\n  var isLocal = false;\n\n  while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {\n    elTmp = elTmp.parentNode;\n  }\n\n  return isLocal;\n}\n/**\n * Make a fake event but not change the original event,\n * becuase the global event probably be used by other\n * listeners not belonging to zrender.\n * @class\n */\n\n\nfunction FakeGlobalEvent(instance, event) {\n  this.type = event.type;\n  this.target = this.currentTarget = instance.dom;\n  this.pointerType = event.pointerType; // Necessray for the force calculation of zrX, zrY\n\n  this.clientX = event.clientX;\n  this.clientY = event.clientY; // Because we do not mount global listeners to touch events,\n  // we do not copy `targetTouches` and `changedTouches` here.\n}\n\nvar fakeGlobalEventProto = FakeGlobalEvent.prototype; // we make the default methods on the event do nothing,\n// otherwise it is dangerous. See more details in\n// [Drag outside] in `Handler.js`.\n\nfakeGlobalEventProto.stopPropagation = fakeGlobalEventProto.stopImmediatePropagation = fakeGlobalEventProto.preventDefault = zrUtil.noop;\n/**\n * Local DOM Handlers\n * @this {HandlerProxy}\n */\n\nvar localDOMHandlers = {\n  mousedown: function (event) {\n    event = normalizeEvent(this.dom, event);\n    this._mayPointerCapture = [event.zrX, event.zrY];\n    this.trigger('mousedown', event);\n  },\n  mousemove: function (event) {\n    event = normalizeEvent(this.dom, event);\n    var downPoint = this._mayPointerCapture;\n\n    if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n      togglePointerCapture(this, true);\n    }\n\n    this.trigger('mousemove', event);\n  },\n  mouseup: function (event) {\n    event = normalizeEvent(this.dom, event);\n    togglePointerCapture(this, false);\n    this.trigger('mouseup', event);\n  },\n  mouseout: function (event) {\n    event = normalizeEvent(this.dom, event); // Similarly to the browser did on `document` and touch event,\n    // `globalout` will be delayed to final pointer cature release.\n\n    if (this._pointerCapturing) {\n      event.zrEventControl = 'no_globalout';\n    } // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n\n    var element = event.toElement || event.relatedTarget;\n    event.zrIsToLocalDOM = isLocalEl(this, element);\n    this.trigger('mouseout', event);\n  },\n  touchstart: function (event) {\n    // Default mouse behaviour should not be disabled here.\n    // For example, page may needs to be slided.\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this._lastTouchMoment = new Date();\n    this.handler.processGesture(event, 'start'); // For consistent event listener for both touch device and mouse device,\n    // we simulate \"mouseover-->mousedown\" in touch device. So we trigger\n    // `mousemove` here (to trigger `mouseover` inside), and then trigger\n    // `mousedown`.\n\n    localDOMHandlers.mousemove.call(this, event);\n    localDOMHandlers.mousedown.call(this, event);\n  },\n  touchmove: function (event) {\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this.handler.processGesture(event, 'change'); // Mouse move should always be triggered no matter whether\n    // there is gestrue event, because mouse move and pinch may\n    // be used at the same time.\n\n    localDOMHandlers.mousemove.call(this, event);\n  },\n  touchend: function (event) {\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this.handler.processGesture(event, 'end');\n    localDOMHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n    // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n    // we can conveniently implement \"hover style\" in both PC and touch device just\n    // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n    // to remove \"hover style\" on an element, without any additional code for\n    // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n    // style\" will remain for user view)\n    // click event should always be triggered no matter whether\n    // there is gestrue event. System click can not be prevented.\n\n    if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n      localDOMHandlers.click.call(this, event);\n    }\n  },\n  pointerdown: function (event) {\n    localDOMHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n    //     this._msGesture.addPointer(event.pointerId);\n    // }\n  },\n  pointermove: function (event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      localDOMHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function (event) {\n    localDOMHandlers.mouseup.call(this, event);\n  },\n  pointerout: function (event) {\n    // pointerout will be triggered when tap on touch screen\n    // (IE11+/Edge on MS Surface) after click event triggered,\n    // which is inconsistent with the mousout behavior we defined\n    // in touchend. So we unify them.\n    // (check localDOMHandlers.touchend for detailed explanation)\n    if (!isPointerFromTouch(event)) {\n      localDOMHandlers.mouseout.call(this, event);\n    }\n  }\n};\n/**\n * Othere DOM UI Event handlers for zr dom.\n * @this {HandlerProxy}\n */\n\nzrUtil.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  localDOMHandlers[name] = function (event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger(name, event);\n  };\n});\n/**\n * DOM UI Event handlers for global page.\n *\n * [Caution]:\n * those handlers should both support in capture phase and bubble phase!\n *\n * @this {HandlerProxy}\n */\n\nvar globalDOMHandlers = {\n  pointermove: function (event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      globalDOMHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function (event) {\n    globalDOMHandlers.mouseup.call(this, event);\n  },\n  mousemove: function (event) {\n    this.trigger('mousemove', event);\n  },\n  mouseup: function (event) {\n    var pointerCaptureReleasing = this._pointerCapturing;\n    togglePointerCapture(this, false);\n    this.trigger('mouseup', event);\n\n    if (pointerCaptureReleasing) {\n      event.zrEventControl = 'only_globalout';\n      this.trigger('mouseout', event);\n    }\n  }\n};\n/**\n * @param {HandlerProxy} instance\n * @param {DOMHandlerScope} scope\n */\n\nfunction mountLocalDOMEventListeners(instance, scope) {\n  var domHandlers = scope.domHandlers;\n\n  if (env.pointerEventsSupported) {\n    // Only IE11+/Edge\n    // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n    // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n    // at the same time.\n    // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n    // screen, which do not occurs in pointer event.\n    // So we use pointer event to both detect touch gesture and mouse behavior.\n    zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n      mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n        // markTriggeredFromLocal(event);\n        domHandlers[nativeEventName].call(instance, event);\n      });\n    }); // FIXME\n    // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n    // which does not prevent defuault behavior occasionally (which may cause view port\n    // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n    // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n    // touch screen. And we only support click behavior on MS touch screen now.\n    // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n    // We dont support touch on IE on win7.\n    // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n    // if (typeof MSGesture === 'function') {\n    //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n    //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n    // }\n  } else {\n    if (env.touchEventsSupported) {\n      zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n          setTouchTimer(scope);\n        });\n      }); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n      // addEventListener(root, 'mouseout', this._mouseoutHandler);\n    } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n    // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n    // mouse event can not be handle in those devices.\n    // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n    // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n    zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n      mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n        event = getNativeEvent(event);\n\n        if (!scope.touching) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n        }\n      });\n    });\n  }\n}\n/**\n * @param {HandlerProxy} instance\n * @param {DOMHandlerScope} scope\n */\n\n\nfunction mountGlobalDOMEventListeners(instance, scope) {\n  // Only IE11+/Edge. See the comment in `mountLocalDOMEventListeners`.\n  if (env.pointerEventsSupported) {\n    zrUtil.each(globalNativeListenerNames.pointer, mount);\n  } // Touch event has implemented \"drag outside\" so we do not mount global listener for touch event.\n  // (see https://www.w3.org/TR/touch-events/#the-touchmove-event)\n  // We do not consider \"both-support-touch-and-mouse device\" for this feature (see the comment of\n  // `mountLocalDOMEventListeners`) to avoid bugs util some requirements come.\n  else if (!env.touchEventsSupported) {\n      zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n\n  function mount(nativeEventName) {\n    function nativeEventListener(event) {\n      event = getNativeEvent(event); // See the reason in [Drag outside] in `Handler.js`\n      // This checking supports both `useCapture` or not.\n      // PENDING: if there is performance issue in some devices,\n      // we probably can not use `useCapture` and change a easier\n      // to judes whether local (mark).\n\n      if (!isLocalEl(instance, event.target)) {\n        event = normalizeGlobalEvent(instance, event);\n        scope.domHandlers[nativeEventName].call(instance, event);\n      }\n    }\n\n    mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, {\n      capture: true\n    } // See [Drag Outside] in `Handler.js`\n    );\n  }\n}\n\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n  scope.mounted[nativeEventName] = listener;\n  scope.listenerOpts[nativeEventName] = opt;\n  addEventListener(scope.domTarget, eventNameFix(nativeEventName), listener, opt);\n}\n\nfunction unmountDOMEventListeners(scope) {\n  var mounted = scope.mounted;\n\n  for (var nativeEventName in mounted) {\n    if (mounted.hasOwnProperty(nativeEventName)) {\n      removeEventListener(scope.domTarget, eventNameFix(nativeEventName), mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n    }\n  }\n\n  scope.mounted = {};\n}\n/**\n * See [Drag Outside] in `Handler.js`.\n * @implement\n * @param {boolean} isPointerCapturing Should never be `null`/`undefined`.\n *        `true`: start to capture pointer if it is not capturing.\n *        `false`: end the capture if it is capturing.\n */\n\n\nfunction togglePointerCapture(instance, isPointerCapturing) {\n  instance._mayPointerCapture = null;\n\n  if (globalEventSupported && instance._pointerCapturing ^ isPointerCapturing) {\n    instance._pointerCapturing = isPointerCapturing;\n    var globalHandlerScope = instance._globalHandlerScope;\n    isPointerCapturing ? mountGlobalDOMEventListeners(instance, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);\n  }\n}\n/**\n * @inner\n * @class\n */\n\n\nfunction DOMHandlerScope(domTarget, domHandlers) {\n  this.domTarget = domTarget;\n  this.domHandlers = domHandlers; // Key: eventName, value: mounted handler funcitons.\n  // Used for unmount.\n\n  this.mounted = {};\n  this.listenerOpts = {};\n  this.touchTimer = null;\n  this.touching = false;\n}\n/**\n * @public\n * @class\n */\n\n\nfunction HandlerDomProxy(dom, painterRoot) {\n  Eventful.call(this);\n  this.dom = dom;\n  this.painterRoot = painterRoot;\n  this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n\n  if (globalEventSupported) {\n    this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n  }\n  /**\n   * @type {boolean}\n   */\n\n\n  this._pointerCapturing = false;\n  /**\n   * @type {Array.<number>} [x, y] or null.\n   */\n\n  this._mayPointerCapture = null;\n  mountLocalDOMEventListeners(this, this._localHandlerScope);\n}\n\nvar handlerDomProxyProto = HandlerDomProxy.prototype;\n\nhandlerDomProxyProto.dispose = function () {\n  unmountDOMEventListeners(this._localHandlerScope);\n\n  if (globalEventSupported) {\n    unmountDOMEventListeners(this._globalHandlerScope);\n  }\n};\n\nhandlerDomProxyProto.setCursor = function (cursorStyle) {\n  this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n};\n\nzrUtil.mixin(HandlerDomProxy, Eventful);\nvar _default = HandlerDomProxy;\nmodule.exports = _default;","var util = require(\"./core/util\");\n\nvar vec2 = require(\"./core/vector\");\n\nvar Draggable = require(\"./mixin/Draggable\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar eventTool = require(\"./core/event\");\n\nvar GestureMgr = require(\"./core/GestureMgr\");\n\n/**\n * [The interface between `Handler` and `HandlerProxy`]:\n *\n * The default `HandlerProxy` only support the common standard web environment\n * (e.g., standalone browser, headless browser, embed browser in mobild APP, ...).\n * But `HandlerProxy` can be replaced to support more non-standard environment\n * (e.g., mini app), or to support more feature that the default `HandlerProxy`\n * not provided (like echarts-gl did).\n * So the interface between `Handler` and `HandlerProxy` should be stable. Do not\n * make break changes util inevitable. The interface include the public methods\n * of `Handler` and the events listed in `handlerNames` below, by which `HandlerProxy`\n * drives `Handler`.\n */\n\n/**\n * [Drag outside]:\n *\n * That is, triggering `mousemove` and `mouseup` event when the pointer is out of the\n * zrender area when dragging. That is important for the improvement of the user experience\n * when dragging something near the boundary without being terminated unexpectedly.\n *\n * We originally consider to introduce new events like `pagemovemove` and `pagemouseup`\n * to resolve this issue. But some drawbacks of it is described in\n * https://github.com/ecomfe/zrender/pull/536#issuecomment-560286899\n *\n * Instead, we referenced the specifications:\n * https://www.w3.org/TR/touch-events/#the-touchmove-event\n * https://www.w3.org/TR/2014/WD-DOM-Level-3-Events-20140925/#event-type-mousemove\n * where the the mousemove/touchmove can be continue to fire if the user began a drag\n * operation and the pointer has left the boundary. (for the mouse event, browsers\n * only do it on `document` and when the pointer has left the boundary of the browser.)\n *\n * So the default `HandlerProxy` supports this feature similarly: if it is in the dragging\n * state (see `pointerCapture` in `HandlerProxy`), the `mousemove` and `mouseup` continue\n * to fire until release the pointer. That is implemented by listen to those event on\n * `document`.\n * If we implement some other `HandlerProxy` only for touch device, that would be easier.\n * The touch event support this feature by default.\n *\n * Note:\n * There might be some cases that the mouse event can not be\n * received on `document`. For example,\n * (A) `useCapture` is not supported and some user defined event listeners on the ancestor\n * of zr dom throw Error .\n * (B) `useCapture` is not supported Some user defined event listeners on the ancestor of\n * zr dom call `stopPropagation`.\n * In these cases, the `mousemove` event might be keep triggered event\n * if the mouse is released. We try to reduce the side-effect in those cases.\n * That is, do nothing (especially, `findHover`) in those cases. See `isOutsideBoundary`.\n *\n * Note:\n * If `HandlerProxy` listens to `document` with `useCapture`, `HandlerProxy` needs to\n * make sure `stopPropagation` and `preventDefault` doing nothing if and only if the event\n * target is not zrender dom. Becuase it is dangerous to enable users to call them in\n * `document` capture phase to prevent the propagation to any listener of the webpage.\n * But they are needed to work when the pointer inside the zrender dom.\n */\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    // target can only be an element that is not silent.\n    target: targetInfo.target,\n    // topTarget can be a silent element.\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which,\n    stop: stopEvent\n  };\n}\n\nfunction stopEvent() {\n  eventTool.stop(this.event);\n}\n\nfunction EmptyProxy() {}\n\nEmptyProxy.prototype.dispose = function () {};\n\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\n\nvar Handler = function (storage, painter, proxy, painterRoot) {\n  Eventful.call(this);\n  this.storage = storage;\n  this.painter = painter;\n  this.painterRoot = painterRoot;\n  proxy = proxy || new EmptyProxy();\n  /**\n   * Proxy of event. can be Dom, WebGLSurface, etc.\n   */\n\n  this.proxy = null;\n  /**\n   * {target, topTarget, x, y}\n   * @private\n   * @type {Object}\n   */\n\n  this._hovered = {};\n  /**\n   * @private\n   * @type {Date}\n   */\n\n  this._lastTouchMoment;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastX;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastY;\n  /**\n   * @private\n   * @type {module:zrender/core/GestureMgr}\n   */\n\n  this._gestureMgr;\n  Draggable.call(this);\n  this.setHandlerProxy(proxy);\n};\n\nHandler.prototype = {\n  constructor: Handler,\n  setHandlerProxy: function (proxy) {\n    if (this.proxy) {\n      this.proxy.dispose();\n    }\n\n    if (proxy) {\n      util.each(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n      }, this); // Attach handler\n\n      proxy.handler = this;\n    }\n\n    this.proxy = proxy;\n  },\n  mousemove: function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var isOutside = isOutsideBoundary(this, x, y);\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n    // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n    // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n    // See #6198.\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n\n    var hovered = this._hovered = isOutside ? {\n      x: x,\n      y: y\n    } : this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    } // Mouse moving on one element\n\n\n    this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  },\n  mouseout: function (event) {\n    var eventControl = event.zrEventControl;\n    var zrIsToLocalDOM = event.zrIsToLocalDOM;\n\n    if (eventControl !== 'only_globalout') {\n      this.dispatchToElement(this._hovered, 'mouseout', event);\n    }\n\n    if (eventControl !== 'no_globalout') {\n      // FIXME: if the pointer moving from the extra doms to realy \"outside\",\n      // the `globalout` should have been triggered. But currently not.\n      !zrIsToLocalDOM && this.trigger('globalout', {\n        type: 'globalout',\n        event: event\n      });\n    }\n  },\n\n  /**\n   * Resize\n   */\n  resize: function (event) {\n    this._hovered = {};\n  },\n\n  /**\n   * Dispatch event\n   * @param {string} eventName\n   * @param {event=} eventArgs\n   */\n  dispatch: function (eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  },\n\n  /**\n   * Dispose\n   */\n  dispose: function () {\n    this.proxy.dispose();\n    this.storage = this.proxy = this.painter = null;\n  },\n\n  /**\n   * cursor style\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  },\n\n  /**\n   * \n   *\n   * @private\n   * @param {Object} targetInfo {target, topTarget} \n   * @param {string} eventName \n   * @param {Object} event \n   */\n  dispatchToElement: function (targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n\n    if (el && el.silent) {\n      return;\n    }\n\n    var eventHandler = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n    while (el) {\n      el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.parent;\n\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n\n    if (!eventPacket.cancelBubble) {\n      //  zrender \n      this.trigger(eventName, eventPacket); // \n      //  click  dispose painter \n\n      this.painter && this.painter.eachOtherLayer(function (layer) {\n        if (typeof layer[eventHandler] === 'function') {\n          layer[eventHandler].call(layer, eventPacket);\n        }\n\n        if (layer.trigger) {\n          layer.trigger(eventName, eventPacket);\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   * @param {number} x\n   * @param {number} y\n   * @param {module:zrender/graphic/Displayable} exclude\n   * @return {model:zrender/Element}\n   * @method\n   */\n  findHover: function (x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = {\n      x: x,\n      y: y\n    };\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult;\n\n      if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n      && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n\n    return out;\n  },\n  processGesture: function (event, stage) {\n    if (!this._gestureMgr) {\n      this._gestureMgr = new GestureMgr();\n    }\n\n    var gestureMgr = this._gestureMgr;\n    stage === 'start' && gestureMgr.clear();\n    var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n    stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n    if (gestureInfo) {\n      var type = gestureInfo.type;\n      event.gestureEvent = type;\n      this.dispatchToElement({\n        target: gestureInfo.target\n      }, type, gestureInfo.event);\n    }\n  }\n}; // Common handlers\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var isOutside = isOutsideBoundary(this, x, y);\n    var hovered;\n    var hoveredTarget;\n\n    if (name !== 'mouseup' || !isOutside) {\n      // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n      hovered = this.findHover(x, y);\n      hoveredTarget = hovered.target;\n    }\n\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n      this._upEl = hoveredTarget;\n    } else if (name === 'mouseup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n      // including the case that `mousedown` - `mousemove` - `mouseup`,\n      // which should be filtered, otherwise it will bring trouble to\n      // pan and zoom.\n      || !this._downPoint // Arbitrary value\n      || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n\n      this._downPoint = null;\n    }\n\n    this.dispatchToElement(hovered, name, event);\n  };\n});\n\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent;\n\n    while (el) {\n      // If clipped by ancestor.\n      // FIXME: If clipPath has neither stroke nor fill,\n      // el.clipPath.contain(x, y) will always return false.\n      if (el.clipPath && !el.clipPath.contain(x, y)) {\n        return false;\n      }\n\n      if (el.silent) {\n        isSilent = true;\n      }\n\n      el = el.parent;\n    }\n\n    return isSilent ? SILENT : true;\n  }\n\n  return false;\n}\n/**\n * See [Drag outside].\n */\n\n\nfunction isOutsideBoundary(handlerInstance, x, y) {\n  var painter = handlerInstance.painter;\n  return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\n\nutil.mixin(Handler, Eventful);\nutil.mixin(Handler, Draggable);\nvar _default = Handler;\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n\n/**\n * @module zrender/graphic/shape/Polyline\n */\nvar _default = Path.extend({\n  type: 'polyline',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, false);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"./Path\");\n\n// CompoundPath to improve performance\nvar _default = Path.extend({\n  type: 'compound',\n  shape: {\n    paths: null\n  },\n  _updatePathDirty: function () {\n    var dirtyPath = this.__dirtyPath;\n    var paths = this.shape.paths;\n\n    for (var i = 0; i < paths.length; i++) {\n      // Mark as dirty if any subpath is dirty\n      dirtyPath = dirtyPath || paths[i].__dirtyPath;\n    }\n\n    this.__dirtyPath = dirtyPath;\n    this.__dirty = this.__dirty || dirtyPath;\n  },\n  beforeBrush: function () {\n    this._updatePathDirty();\n\n    var paths = this.shape.paths || [];\n    var scale = this.getGlobalScale(); // Update path scale\n\n    for (var i = 0; i < paths.length; i++) {\n      if (!paths[i].path) {\n        paths[i].createPathProxy();\n      }\n\n      paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n    }\n  },\n  buildPath: function (ctx, shape) {\n    var paths = shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].buildPath(ctx, paths[i].shape, true);\n    }\n  },\n  afterBrush: function () {\n    var paths = this.shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].__dirtyPath = false;\n    }\n  },\n  getBoundingRect: function () {\n    this._updatePathDirty();\n\n    return Path.prototype.getBoundingRect.call(this);\n  }\n});\n\nmodule.exports = _default;","// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function (val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;","var guid = require(\"./core/guid\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar Transformable = require(\"./mixin/Transformable\");\n\nvar Animatable = require(\"./mixin/Animatable\");\n\nvar zrUtil = require(\"./core/util\");\n\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\nvar Element = function (opts) {\n  // jshint ignore:line\n  Transformable.call(this, opts);\n  Eventful.call(this, opts);\n  Animatable.call(this, opts);\n  /**\n   * ID\n   * @type {string}\n   */\n\n  this.id = opts.id || guid();\n};\n\nElement.prototype = {\n  /**\n   * \n   * Element type\n   * @type {string}\n   */\n  type: 'element',\n\n  /**\n   * \n   * Element name\n   * @type {string}\n   */\n  name: '',\n\n  /**\n   * ZRender  element  zrender \n   * ZRender instance will be assigned when element is associated with zrender\n   * @name module:/zrender/Element#__zr\n   * @type {module:zrender/ZRender}\n   */\n  __zr: null,\n\n  /**\n   * true\n   * If ignore drawing and events of the element object\n   * @name module:/zrender/Element#ignore\n   * @type {boolean}\n   * @default false\n   */\n  ignore: false,\n\n  /**\n   * (shape) Group \n   * \n   * @type {module:zrender/graphic/Path}\n   * @see http://www.w3.org/TR/2dcontext/#clipping-region\n   * @readOnly\n   */\n  clipPath: null,\n\n  /**\n   *  Group\n   * @type {boolean}\n   */\n  isGroup: false,\n\n  /**\n   * Drift element\n   * @param  {number} dx dx on the global space\n   * @param  {number} dy dy on the global space\n   */\n  drift: function (dx, dy) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.dirty(false);\n  },\n\n  /**\n   * Hook before update\n   */\n  beforeUpdate: function () {},\n\n  /**\n   * Hook after update\n   */\n  afterUpdate: function () {},\n\n  /**\n   * Update each frame\n   */\n  update: function () {\n    this.updateTransform();\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {},\n\n  /**\n   * @protected\n   */\n  attrKV: function (key, value) {\n    if (key === 'position' || key === 'scale' || key === 'origin') {\n      // Copy the array\n      if (value) {\n        var target = this[key];\n\n        if (!target) {\n          target = this[key] = [];\n        }\n\n        target[0] = value[0];\n        target[1] = value[1];\n      }\n    } else {\n      this[key] = value;\n    }\n  },\n\n  /**\n   * Hide the element\n   */\n  hide: function () {\n    this.ignore = true;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * Show the element\n   */\n  show: function () {\n    this.ignore = false;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * @param {string|Object} key\n   * @param {*} value\n   */\n  attr: function (key, value) {\n    if (typeof key === 'string') {\n      this.attrKV(key, value);\n    } else if (zrUtil.isObject(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.attrKV(name, key[name]);\n        }\n      }\n    }\n\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * @param {module:zrender/graphic/Path} clipPath\n   */\n  setClipPath: function (clipPath) {\n    var zr = this.__zr;\n\n    if (zr) {\n      clipPath.addSelfToZr(zr);\n    } // Remove previous clip path\n\n\n    if (this.clipPath && this.clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this.clipPath = clipPath;\n    clipPath.__zr = zr;\n    clipPath.__clipTarget = this;\n    this.dirty(false);\n  },\n\n  /**\n   */\n  removeClipPath: function () {\n    var clipPath = this.clipPath;\n\n    if (clipPath) {\n      if (clipPath.__zr) {\n        clipPath.removeSelfFromZr(clipPath.__zr);\n      }\n\n      clipPath.__zr = null;\n      clipPath.__clipTarget = null;\n      this.clipPath = null;\n      this.dirty(false);\n    }\n  },\n\n  /**\n   * Add self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  addSelfToZr: function (zr) {\n    this.__zr = zr; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.addSelfToZr(zr);\n    }\n  },\n\n  /**\n   * Remove self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  removeSelfFromZr: function (zr) {\n    this.__zr = null; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.removeSelfFromZr(zr);\n    }\n  }\n};\nzrUtil.mixin(Element, Animatable);\nzrUtil.mixin(Element, Transformable);\nzrUtil.mixin(Element, Eventful);\nvar _default = Element;\nmodule.exports = _default;","var PathProxy = require(\"../core/PathProxy\");\n\nvar line = require(\"./line\");\n\nvar cubic = require(\"./cubic\");\n\nvar quadratic = require(\"./quadratic\");\n\nvar arc = require(\"./arc\");\n\nvar _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = require(\"../core/curve\");\n\nvar windingLine = require(\"./windingLine\");\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // \n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_;\n    var y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema === 2) {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc \n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } //  subpath \n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i === 1) {\n      //  L, C, Q\n      //  previous point  point\n      //\n      //  Arc \n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo  subpath, \n        //  closePath \n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE  L, C, Q  NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc \n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc \n\n        i += 1;\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; //  arc \n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // \n          x0 = x1;\n          y0 = y1;\n        } // zr scale, x\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); //  subpath \n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;","var Path = require(\"../Path\");\n\n/**\n * \n * @module zrender/shape/Circle\n */\nvar _default = Path.extend({\n  type: 'circle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    // Better stroking in ShapeBundle\n    // Always do it may have performence issue ( fill may be 2x more cost)\n    if (inBundle) {\n      ctx.moveTo(shape.cx + shape.r, shape.cy);\n    } // else {\n    //     if (ctx.allocate && !ctx.data.length) {\n    //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n    //     }\n    // }\n    // Better stroking in ShapeBundle\n    // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n    ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n  }\n});\n\nmodule.exports = _default;","var Pattern = function (image, repeat) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {image: ...}`, where this constructor will not be called.\n  this.image = image;\n  this.repeat = repeat; // Can be cloned\n\n  this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n  return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\nvar _default = Pattern;\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\nvar RadialGradient = function (x, y, r, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'radial', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0.5 : x;\n  this.y = y == null ? 0.5 : y;\n  this.r = r == null ? 0.5 : r; // Can be cloned\n\n  this.type = 'radial'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n  constructor: RadialGradient\n};\nzrUtil.inherits(RadialGradient, Gradient);\nvar _default = RadialGradient;\nmodule.exports = _default;","/**\n * zrender: id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Element = require(\"../Element\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * GroupGroup\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * \n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function () {\n    return this._children.slice();\n  },\n\n  /**\n   *  index \n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function (idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * \n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function (name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function () {\n    return this._children.length;\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  add: function (child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   *  nextSibling \n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function (child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function (child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  remove: function (child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * \n   */\n  removeAll: function () {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function (cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function () {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function (includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;","var vec2 = require(\"./vector\");\n\nvar curve = require(\"./curve\");\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * `min``max`\n * @module zrender/core/bbox\n * @param {Array<Object>} points \n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * (p0, p1, p2, p3)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * (p0, p1, p2)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * `min``max`\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;","var curve = require(\"../core/curve\");\n\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var BoundingRect = require(\"../core/BoundingRect\");\n\nvar imageHelper = require(\"../graphic/helper/image\");\n\nvar _util = require(\"../core/util\");\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar trim = _util.trim;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding,\n    textLineHeight: textLineHeight\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n * @public\n * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction calculateTextPosition(out, style, rect) {\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var x = rect.x;\n  var y = rect.y;\n  distance = distance || 0;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  out = out || {};\n  out.x = x;\n  out.y = y;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n/**\n * To be removed. But still do not remove in case that some one has imported it.\n * @deprecated\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var dummyStyle = {\n    textPosition: textPosition,\n    textDistance: distance\n  };\n  return calculateTextPosition({}, dummyStyle, rect);\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis, font);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n *  Notice: for performance, do not calculate outerWidth util needed.\n *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n *  Thus we can simply comparing the `input` text to determin whether the result changed,\n *  without travel the result `lines`.\n */\n\n\nfunction parsePlainText(text, font, padding, textLineHeight, truncate) {\n  text != null && (text += '');\n  var lineHeight = retrieve2(textLineHeight, getLineHeight(font));\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n  var canCacheByTextString = true;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    canCacheByTextString = false;\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight,\n    canCacheByTextString: canCacheByTextString\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ');\n  return font && trim(font) || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.calculateTextPosition = calculateTextPosition;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;","import { debounce } from '@/utils'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sidebarElm: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.__resizeHandler = debounce(() => {\r\n      if (this.chart) {\r\n        this.chart.resize()\r\n      }\r\n    }, 100)\r\n    window.addEventListener('resize', this.__resizeHandler)\r\n\r\n    this.sidebarElm = document.getElementsByClassName('sidebar-container')[0]\r\n    this.sidebarElm && this.sidebarElm.addEventListener('transitionend', this.sidebarResizeHandler)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.__resizeHandler)\r\n\r\n    this.sidebarElm && this.sidebarElm.removeEventListener('transitionend', this.sidebarResizeHandler)\r\n  },\r\n  methods: {\r\n    sidebarResizeHandler(e) {\r\n      if (e.propertyName === 'width') {\r\n        this.__resizeHandler()\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @desc ()\r\n * @param func \r\n * @param wait \r\n * @param type 1 2 \r\n */\r\nexport const throttle = (func, wait ,type) => {\r\n    if(type===1){\r\n        let previous = 0;\r\n    }else if(type===2){\r\n        let handler;\r\n    }\r\n\r\n    return function() {\r\n        let context = this\r\n        let args = arguments\r\n\r\n        if(type===1){\r\n            let now = Date.now()\r\n\r\n            if (now - previous > wait) { \r\n                func.apply(context, args);\r\n                previous = now // \r\n            }\r\n            \r\n        }else if(type===2){\r\n            // +\r\n            if(handler){\r\n                return\r\n            }\r\n            handler = setTimeout(() => {\r\n                func.apply(context, args)\r\n                handler = null // wait handler\r\n            }, wait)\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nexport function debounce(func, wait, immediate) {\r\n    let timeout, args, context, timestamp, result\r\n  \r\n    const later = function() {\r\n      // \r\n      const last = +new Date() - timestamp\r\n  \r\n      // lastwait\r\n      if (last < wait && last > 0) {\r\n        timeout = setTimeout(later, wait - last)\r\n      } else {\r\n        timeout = null\r\n        // immediate===true\r\n        if (!immediate) {\r\n          result = func.apply(context, args)\r\n          if (!timeout) context = args = null\r\n        }\r\n      }\r\n    }\r\n  \r\n    return function(...args) {\r\n      context = this\r\n      timestamp = +new Date()\r\n      const callNow = immediate && !timeout\r\n      // \r\n      if (!timeout) timeout = setTimeout(later, wait)\r\n      if (callNow) {\r\n        result = func.apply(context, args)\r\n        context = args = null\r\n      }\r\n  \r\n      return result\r\n    }\r\n  }","var _config = require(\"./config\");\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar util = require(\"./core/util\");\n\nvar logError = require(\"./core/log\");\n\nvar BoundingRect = require(\"./core/BoundingRect\");\n\nvar timsort = require(\"./core/timsort\");\n\nvar Layer = require(\"./Layer\");\n\nvar requestAnimationFrame = require(\"./animation/requestAnimationFrame\");\n\nvar Image = require(\"./graphic/Image\");\n\nvar env = require(\"./core/env\");\n\nvar HOVER_LAYER_ZLEVEL = 1e5;\nvar CANVAS_ZLEVEL = 314159;\nvar EL_AFTER_INCREMENTAL_INC = 0.01;\nvar INCREMENTAL_INC = 0.001;\n\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction isLayerValid(layer) {\n  if (!layer) {\n    return false;\n  }\n\n  if (layer.__builtin__) {\n    return true;\n  }\n\n  if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\n\nfunction isDisplayableCulled(el, width, height) {\n  tmpRect.copy(el.getBoundingRect());\n\n  if (el.transform) {\n    tmpRect.applyTransform(el.transform);\n  }\n\n  viewRect.width = width;\n  viewRect.height = height;\n  return !tmpRect.intersect(viewRect);\n}\n\nfunction isClipPathChanged(clipPaths, prevClipPaths) {\n  // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n  if (clipPaths === prevClipPaths) {\n    return false;\n  }\n\n  if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n    return true;\n  }\n\n  for (var i = 0; i < clipPaths.length; i++) {\n    if (clipPaths[i] !== prevClipPaths[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction doClip(clipPaths, ctx) {\n  for (var i = 0; i < clipPaths.length; i++) {\n    var clipPath = clipPaths[i];\n    clipPath.setTransform(ctx);\n    ctx.beginPath();\n    clipPath.buildPath(ctx, clipPath.shape);\n    ctx.clip(); // Transform back\n\n    clipPath.restoreTransform(ctx);\n  }\n}\n\nfunction createRoot(width, height) {\n  var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // Avoid page selected\n\n  domRoot.style.cssText = ['position:relative', // IOS13 safari probably has a compositing bug (z order of the canvas and the consequent\n  // dom does not act as expected) when some of the parent dom has\n  // `-webkit-overflow-scrolling: touch;` and the webpage is longer than one screen and\n  // the canvas is not at the top part of the page.\n  // Check `https://bugs.webkit.org/show_bug.cgi?id=203681` for more details. We remove\n  // this `overflow:hidden` to avoid the bug.\n  // 'overflow:hidden',\n  'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n  return domRoot;\n}\n/**\n * @alias module:zrender/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar Painter = function (root, storage, opts) {\n  this.type = 'canvas'; // In node environment using node-canvas\n\n  var singleCanvas = !root.nodeName // In node ?\n  || root.nodeName.toUpperCase() === 'CANVAS';\n  this._opts = opts = util.extend({}, opts || {});\n  /**\n   * @type {number}\n   */\n\n  this.dpr = opts.devicePixelRatio || devicePixelRatio;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._singleCanvas = singleCanvas;\n  /**\n   * \n   * @type {HTMLElement}\n   */\n\n  this.root = root;\n  var rootStyle = root.style;\n\n  if (rootStyle) {\n    rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n    rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n    root.innerHTML = '';\n  }\n  /**\n   * @type {module:zrender/Storage}\n   */\n\n\n  this.storage = storage;\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n\n  var zlevelList = this._zlevelList = [];\n  /**\n   * @type {Object.<string, module:zrender/Layer>}\n   * @private\n   */\n\n  var layers = this._layers = {};\n  /**\n   * @type {Object.<string, Object>}\n   * @private\n   */\n\n  this._layerConfig = {};\n  /**\n   * zrender will do compositing when root is a canvas and have multiple zlevels.\n   */\n\n  this._needsManuallyCompositing = false;\n\n  if (!singleCanvas) {\n    this._width = this._getSize(0);\n    this._height = this._getSize(1);\n    var domRoot = this._domRoot = createRoot(this._width, this._height);\n    root.appendChild(domRoot);\n  } else {\n    var width = root.width;\n    var height = root.height;\n\n    if (opts.width != null) {\n      width = opts.width;\n    }\n\n    if (opts.height != null) {\n      height = opts.height;\n    }\n\n    this.dpr = opts.devicePixelRatio || 1; // Use canvas width and height directly\n\n    root.width = width * this.dpr;\n    root.height = height * this.dpr;\n    this._width = width;\n    this._height = height; // Create layer if only one given canvas\n    // Device can be specified to create a high dpi image.\n\n    var mainLayer = new Layer(root, this, this.dpr);\n    mainLayer.__builtin__ = true;\n    mainLayer.initContext(); // FIXME Use canvas width and height\n    // mainLayer.resize(width, height);\n\n    layers[CANVAS_ZLEVEL] = mainLayer;\n    mainLayer.zlevel = CANVAS_ZLEVEL; // Not use common zlevel.\n\n    zlevelList.push(CANVAS_ZLEVEL);\n    this._domRoot = root;\n  }\n  /**\n   * @type {module:zrender/Layer}\n   * @private\n   */\n\n\n  this._hoverlayer = null;\n  this._hoverElements = [];\n};\n\nPainter.prototype = {\n  constructor: Painter,\n  getType: function () {\n    return 'canvas';\n  },\n\n  /**\n   * If painter use a single canvas\n   * @return {boolean}\n   */\n  isSingleCanvas: function () {\n    return this._singleCanvas;\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function () {\n    return this._domRoot;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [paintAll=false] displayable\n   */\n  refresh: function (paintAll) {\n    var list = this.storage.getDisplayList(true);\n    var zlevelList = this._zlevelList;\n    this._redrawId = Math.random();\n\n    this._paintList(list, paintAll, this._redrawId); // Paint custum layers\n\n\n    for (var i = 0; i < zlevelList.length; i++) {\n      var z = zlevelList[i];\n      var layer = this._layers[z];\n\n      if (!layer.__builtin__ && layer.refresh) {\n        var clearColor = i === 0 ? this._backgroundColor : null;\n        layer.refresh(clearColor);\n      }\n    }\n\n    this.refreshHover();\n    return this;\n  },\n  addHover: function (el, hoverStyle) {\n    if (el.__hoverMir) {\n      return;\n    }\n\n    var elMirror = new el.constructor({\n      style: el.style,\n      shape: el.shape,\n      z: el.z,\n      z2: el.z2,\n      silent: el.silent\n    });\n    elMirror.__from = el;\n    el.__hoverMir = elMirror;\n    hoverStyle && elMirror.setStyle(hoverStyle);\n\n    this._hoverElements.push(elMirror);\n\n    return elMirror;\n  },\n  removeHover: function (el) {\n    var elMirror = el.__hoverMir;\n    var hoverElements = this._hoverElements;\n    var idx = util.indexOf(hoverElements, elMirror);\n\n    if (idx >= 0) {\n      hoverElements.splice(idx, 1);\n    }\n\n    el.__hoverMir = null;\n  },\n  clearHover: function (el) {\n    var hoverElements = this._hoverElements;\n\n    for (var i = 0; i < hoverElements.length; i++) {\n      var from = hoverElements[i].__from;\n\n      if (from) {\n        from.__hoverMir = null;\n      }\n    }\n\n    hoverElements.length = 0;\n  },\n  refreshHover: function () {\n    var hoverElements = this._hoverElements;\n    var len = hoverElements.length;\n    var hoverLayer = this._hoverlayer;\n    hoverLayer && hoverLayer.clear();\n\n    if (!len) {\n      return;\n    }\n\n    timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n    // FIXME?\n\n    if (!hoverLayer) {\n      hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n    }\n\n    var scope = {};\n    hoverLayer.ctx.save();\n\n    for (var i = 0; i < len;) {\n      var el = hoverElements[i];\n      var originalEl = el.__from; // Original el is removed\n      // PENDING\n\n      if (!(originalEl && originalEl.__zr)) {\n        hoverElements.splice(i, 1);\n        originalEl.__hoverMir = null;\n        len--;\n        continue;\n      }\n\n      i++; // Use transform\n      // FIXME style and shape ?\n\n      if (!originalEl.invisible) {\n        el.transform = originalEl.transform;\n        el.invTransform = originalEl.invTransform;\n        el.__clipPaths = originalEl.__clipPaths; // el.\n\n        this._doPaintEl(el, hoverLayer, true, scope);\n      }\n    }\n\n    hoverLayer.ctx.restore();\n  },\n  getHoverLayer: function () {\n    return this.getLayer(HOVER_LAYER_ZLEVEL);\n  },\n  _paintList: function (list, paintAll, redrawId) {\n    if (this._redrawId !== redrawId) {\n      return;\n    }\n\n    paintAll = paintAll || false;\n\n    this._updateLayerStatus(list);\n\n    var finished = this._doPaintList(list, paintAll);\n\n    if (this._needsManuallyCompositing) {\n      this._compositeManually();\n    }\n\n    if (!finished) {\n      var self = this;\n      requestAnimationFrame(function () {\n        self._paintList(list, paintAll, redrawId);\n      });\n    }\n  },\n  _compositeManually: function () {\n    var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n    var width = this._domRoot.width;\n    var height = this._domRoot.height;\n    ctx.clearRect(0, 0, width, height); // PENDING, If only builtin layer?\n\n    this.eachBuiltinLayer(function (layer) {\n      if (layer.virtual) {\n        ctx.drawImage(layer.dom, 0, 0, width, height);\n      }\n    });\n  },\n  _doPaintList: function (list, paintAll) {\n    var layerList = [];\n\n    for (var zi = 0; zi < this._zlevelList.length; zi++) {\n      var zlevel = this._zlevelList[zi];\n      var layer = this._layers[zlevel];\n\n      if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {\n        layerList.push(layer);\n      }\n    }\n\n    var finished = true;\n\n    for (var k = 0; k < layerList.length; k++) {\n      var layer = layerList[k];\n      var ctx = layer.ctx;\n      var scope = {};\n      ctx.save();\n      var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n      var useTimer = !paintAll && layer.incremental && Date.now;\n      var startTime = useTimer && Date.now();\n      var clearColor = layer.zlevel === this._zlevelList[0] ? this._backgroundColor : null; // All elements in this layer are cleared.\n\n      if (layer.__startIndex === layer.__endIndex) {\n        layer.clear(false, clearColor);\n      } else if (start === layer.__startIndex) {\n        var firstEl = list[start];\n\n        if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n          layer.clear(false, clearColor);\n        }\n      }\n\n      if (start === -1) {\n        console.error('For some unknown reason. drawIndex is -1');\n        start = layer.__startIndex;\n      }\n\n      for (var i = start; i < layer.__endIndex; i++) {\n        var el = list[i];\n\n        this._doPaintEl(el, layer, paintAll, scope);\n\n        el.__dirty = el.__dirtyText = false;\n\n        if (useTimer) {\n          // Date.now can be executed in 13,025,305 ops/second.\n          var dTime = Date.now() - startTime; // Give 15 millisecond to draw.\n          // The rest elements will be drawn in the next frame.\n\n          if (dTime > 15) {\n            break;\n          }\n        }\n      }\n\n      layer.__drawIndex = i;\n\n      if (layer.__drawIndex < layer.__endIndex) {\n        finished = false;\n      }\n\n      if (scope.prevElClipPaths) {\n        // Needs restore the state. If last drawn element is in the clipping area.\n        ctx.restore();\n      }\n\n      ctx.restore();\n    }\n\n    if (env.wxa) {\n      // Flush for weixin application\n      util.each(this._layers, function (layer) {\n        if (layer && layer.ctx && layer.ctx.draw) {\n          layer.ctx.draw();\n        }\n      });\n    }\n\n    return finished;\n  },\n  _doPaintEl: function (el, currentLayer, forcePaint, scope) {\n    var ctx = currentLayer.ctx;\n    var m = el.transform;\n\n    if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n    !el.invisible // Ignore transparent element\n    && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n    // Draw a scale 0 element can cause all following draw wrong\n    // And setTransform with scale 0 will cause set back transform failed.\n    && !(m && !m[0] && !m[3]) // Ignore culled element\n    && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n      var clipPaths = el.__clipPaths;\n      var prevElClipPaths = scope.prevElClipPaths; // Optimize when clipping on group with several elements\n\n      if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        // If has previous clipping state, restore from it\n        if (prevElClipPaths) {\n          ctx.restore();\n          scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n          scope.prevEl = null;\n        } // New clipping state\n\n\n        if (clipPaths) {\n          ctx.save();\n          doClip(clipPaths, ctx);\n          scope.prevElClipPaths = clipPaths;\n        }\n      }\n\n      el.beforeBrush && el.beforeBrush(ctx);\n      el.brush(ctx, scope.prevEl || null);\n      scope.prevEl = el;\n      el.afterBrush && el.afterBrush(ctx);\n    }\n  },\n\n  /**\n   *  zlevel \n   * @param {number} zlevel\n   * @param {boolean} virtual Virtual layer will not be inserted into dom.\n   * @return {module:zrender/Layer}\n   */\n  getLayer: function (zlevel, virtual) {\n    if (this._singleCanvas && !this._needsManuallyCompositing) {\n      zlevel = CANVAS_ZLEVEL;\n    }\n\n    var layer = this._layers[zlevel];\n\n    if (!layer) {\n      // Create a new layer\n      layer = new Layer('zr_' + zlevel, this, this.dpr);\n      layer.zlevel = zlevel;\n      layer.__builtin__ = true;\n\n      if (this._layerConfig[zlevel]) {\n        util.merge(layer, this._layerConfig[zlevel], true);\n      } // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n      else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {\n          util.merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);\n        }\n\n      if (virtual) {\n        layer.virtual = virtual;\n      }\n\n      this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n      // Or excanvas will get 0px clientWidth and clientHeight\n\n      layer.initContext();\n    }\n\n    return layer;\n  },\n  insertLayer: function (zlevel, layer) {\n    var layersMap = this._layers;\n    var zlevelList = this._zlevelList;\n    var len = zlevelList.length;\n    var prevLayer = null;\n    var i = -1;\n    var domRoot = this._domRoot;\n\n    if (layersMap[zlevel]) {\n      logError('ZLevel ' + zlevel + ' has been used already');\n      return;\n    } // Check if is a valid layer\n\n\n    if (!isLayerValid(layer)) {\n      logError('Layer of zlevel ' + zlevel + ' is not valid');\n      return;\n    }\n\n    if (len > 0 && zlevel > zlevelList[0]) {\n      for (i = 0; i < len - 1; i++) {\n        if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n          break;\n        }\n      }\n\n      prevLayer = layersMap[zlevelList[i]];\n    }\n\n    zlevelList.splice(i + 1, 0, zlevel);\n    layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n    // (It can be a WebGL layer and assigned to a ZImage element)\n    // But it still under management of zrender.\n\n    if (!layer.virtual) {\n      if (prevLayer) {\n        var prevDom = prevLayer.dom;\n\n        if (prevDom.nextSibling) {\n          domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      } else {\n        if (domRoot.firstChild) {\n          domRoot.insertBefore(layer.dom, domRoot.firstChild);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      }\n    }\n  },\n  // Iterate each layer\n  eachLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      cb.call(context, this._layers[z], z);\n    }\n  },\n  // Iterate each buildin layer\n  eachBuiltinLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n  // Iterate each other layer except buildin layer\n  eachOtherLayer: function (cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (!layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Array.<module:zrender/Layer>} [prevLayer]\n   */\n  getLayers: function () {\n    return this._layers;\n  },\n  _updateLayerStatus: function (list) {\n    this.eachBuiltinLayer(function (layer, z) {\n      layer.__dirty = layer.__used = false;\n    });\n\n    function updatePrevLayer(idx) {\n      if (prevLayer) {\n        if (prevLayer.__endIndex !== idx) {\n          prevLayer.__dirty = true;\n        }\n\n        prevLayer.__endIndex = idx;\n      }\n    }\n\n    if (this._singleCanvas) {\n      for (var i = 1; i < list.length; i++) {\n        var el = list[i];\n\n        if (el.zlevel !== list[i - 1].zlevel || el.incremental) {\n          this._needsManuallyCompositing = true;\n          break;\n        }\n      }\n    }\n\n    var prevLayer = null;\n    var incrementalLayerCount = 0;\n    var prevZlevel;\n\n    for (var i = 0; i < list.length; i++) {\n      var el = list[i];\n      var zlevel = el.zlevel;\n      var layer;\n\n      if (prevZlevel !== zlevel) {\n        prevZlevel = zlevel;\n        incrementalLayerCount = 0;\n      } // TODO Not use magic number on zlevel.\n      // Each layer with increment element can be separated to 3 layers.\n      //          (Other Element drawn after incremental element)\n      // -----------------zlevel + EL_AFTER_INCREMENTAL_INC--------------------\n      //                      (Incremental element)\n      // ----------------------zlevel + INCREMENTAL_INC------------------------\n      //              (Element drawn before incremental element)\n      // --------------------------------zlevel--------------------------------\n\n\n      if (el.incremental) {\n        layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n        layer.incremental = true;\n        incrementalLayerCount = 1;\n      } else {\n        layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n      }\n\n      if (!layer.__builtin__) {\n        logError('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n      }\n\n      if (layer !== prevLayer) {\n        layer.__used = true;\n\n        if (layer.__startIndex !== i) {\n          layer.__dirty = true;\n        }\n\n        layer.__startIndex = i;\n\n        if (!layer.incremental) {\n          layer.__drawIndex = i;\n        } else {\n          // Mark layer draw index needs to update.\n          layer.__drawIndex = -1;\n        }\n\n        updatePrevLayer(i);\n        prevLayer = layer;\n      }\n\n      if (el.__dirty) {\n        layer.__dirty = true;\n\n        if (layer.incremental && layer.__drawIndex < 0) {\n          // Start draw from the first dirty element.\n          layer.__drawIndex = i;\n        }\n      }\n    }\n\n    updatePrevLayer(i);\n    this.eachBuiltinLayer(function (layer, z) {\n      // Used in last frame but not in this frame. Needs clear\n      if (!layer.__used && layer.getElementCount() > 0) {\n        layer.__dirty = true;\n        layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n      } // For incremental layer. In case start index changed and no elements are dirty.\n\n\n      if (layer.__dirty && layer.__drawIndex < 0) {\n        layer.__drawIndex = layer.__startIndex;\n      }\n    });\n  },\n\n  /**\n   * hover\n   */\n  clear: function () {\n    this.eachBuiltinLayer(this._clearLayer);\n    return this;\n  },\n  _clearLayer: function (layer) {\n    layer.clear();\n  },\n  setBackgroundColor: function (backgroundColor) {\n    this._backgroundColor = backgroundColor;\n  },\n\n  /**\n   * zlevel\n   *\n   * @param {string} zlevel\n   * @param {Object} config \n   * @param {string} [config.clearColor=0] \n   * @param {string} [config.motionBlur=false] \n   * @param {number} [config.lastFrameAlpha=0.7]\n   *                 alpha\n   */\n  configLayer: function (zlevel, config) {\n    if (config) {\n      var layerConfig = this._layerConfig;\n\n      if (!layerConfig[zlevel]) {\n        layerConfig[zlevel] = config;\n      } else {\n        util.merge(layerConfig[zlevel], config, true);\n      }\n\n      for (var i = 0; i < this._zlevelList.length; i++) {\n        var _zlevel = this._zlevelList[i]; // TODO Remove EL_AFTER_INCREMENTAL_INC magic number\n\n        if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n          var layer = this._layers[_zlevel];\n          util.merge(layer, layerConfig[zlevel], true);\n        }\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {number} zlevel zlevel\n   */\n  delLayer: function (zlevel) {\n    var layers = this._layers;\n    var zlevelList = this._zlevelList;\n    var layer = layers[zlevel];\n\n    if (!layer) {\n      return;\n    }\n\n    layer.dom.parentNode.removeChild(layer.dom);\n    delete layers[zlevel];\n    zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n  },\n\n  /**\n   * \n   */\n  resize: function (width, height) {\n    if (!this._domRoot.style) {\n      // Maybe in node or worker\n      if (width == null || height == null) {\n        return;\n      }\n\n      this._width = width;\n      this._height = height;\n      this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n    } else {\n      var domRoot = this._domRoot; // FIXME Why ?\n\n      domRoot.style.display = 'none'; // Save input w/h\n\n      var opts = this._opts;\n      width != null && (opts.width = width);\n      height != null && (opts.height = height);\n      width = this._getSize(0);\n      height = this._getSize(1);\n      domRoot.style.display = ''; // resize\n\n      if (this._width !== width || height !== this._height) {\n        domRoot.style.width = width + 'px';\n        domRoot.style.height = height + 'px';\n\n        for (var id in this._layers) {\n          if (this._layers.hasOwnProperty(id)) {\n            this._layers[id].resize(width, height);\n          }\n        }\n\n        util.each(this._progressiveLayers, function (layer) {\n          layer.resize(width, height);\n        });\n        this.refresh(true);\n      }\n\n      this._width = width;\n      this._height = height;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param {number} zlevel\n   */\n  clearLayer: function (zlevel) {\n    var layer = this._layers[zlevel];\n\n    if (layer) {\n      layer.clear();\n    }\n  },\n\n  /**\n   * \n   */\n  dispose: function () {\n    this.root.innerHTML = '';\n    this.root = this.storage = this._domRoot = this._layers = null;\n  },\n\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @param {number} [opts.pixelRatio]\n   */\n  getRenderedCanvas: function (opts) {\n    opts = opts || {};\n\n    if (this._singleCanvas && !this._compositeManually) {\n      return this._layers[CANVAS_ZLEVEL].dom;\n    }\n\n    var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n    imageLayer.initContext();\n    imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n\n    if (opts.pixelRatio <= this.dpr) {\n      this.refresh();\n      var width = imageLayer.dom.width;\n      var height = imageLayer.dom.height;\n      var ctx = imageLayer.ctx;\n      this.eachLayer(function (layer) {\n        if (layer.__builtin__) {\n          ctx.drawImage(layer.dom, 0, 0, width, height);\n        } else if (layer.renderToCanvas) {\n          imageLayer.ctx.save();\n          layer.renderToCanvas(imageLayer.ctx);\n          imageLayer.ctx.restore();\n        }\n      });\n    } else {\n      // PENDING, echarts-gl and incremental rendering.\n      var scope = {};\n      var displayList = this.storage.getDisplayList(true);\n\n      for (var i = 0; i < displayList.length; i++) {\n        var el = displayList[i];\n\n        this._doPaintEl(el, imageLayer, true, scope);\n      }\n    }\n\n    return imageLayer.dom;\n  },\n\n  /**\n   * \n   */\n  getWidth: function () {\n    return this._width;\n  },\n\n  /**\n   * \n   */\n  getHeight: function () {\n    return this._height;\n  },\n  _getSize: function (whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  pathToImage: function (path, dpr) {\n    dpr = dpr || this.dpr;\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var rect = path.getBoundingRect();\n    var style = path.style;\n    var shadowBlurSize = style.shadowBlur * dpr;\n    var shadowOffsetX = style.shadowOffsetX * dpr;\n    var shadowOffsetY = style.shadowOffsetY * dpr;\n    var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n    var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n    var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n    var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n    var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n    var width = rect.width + leftMargin + rightMargin;\n    var height = rect.height + topMargin + bottomMargin;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    ctx.scale(dpr, dpr);\n    ctx.clearRect(0, 0, width, height);\n    ctx.dpr = dpr;\n    var pathTransform = {\n      position: path.position,\n      rotation: path.rotation,\n      scale: path.scale\n    };\n    path.position = [leftMargin - rect.x, topMargin - rect.y];\n    path.rotation = 0;\n    path.scale = [1, 1];\n    path.updateTransform();\n\n    if (path) {\n      path.brush(ctx);\n    }\n\n    var ImageShape = Image;\n    var imgShape = new ImageShape({\n      style: {\n        x: 0,\n        y: 0,\n        image: canvas\n      }\n    });\n\n    if (pathTransform.position != null) {\n      imgShape.position = path.position = pathTransform.position;\n    }\n\n    if (pathTransform.rotation != null) {\n      imgShape.rotation = path.rotation = pathTransform.rotation;\n    }\n\n    if (pathTransform.scale != null) {\n      imgShape.scale = path.scale = pathTransform.scale;\n    }\n\n    return imgShape;\n  }\n};\nvar _default = Painter;\nmodule.exports = _default;","var PathProxy = require(\"../core/PathProxy\");\n\nvar _vector = require(\"../core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;"],"sourceRoot":""}